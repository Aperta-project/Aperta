<h1>Invite Reviewers</h1>

<div class="invite-reviewer-text">
  {{#if composingEmail}}
    <div class="invite-reviewer-edit-invite">
      <h3 class="invite-to">
        Invitation to
        {{#if selectedReviewer.full_name}}
          {{selectedReviewer.full_name}}
        {{/if}}
        [{{selectedReviewer.email}}]
      </h3>

      {{textarea type="text"
                 value=letterTemplate
                 class="form-control taller-textarea"}}

      {{#if model.isSaving}}
        {{progress-spinner visible=true size="small"}}
      {{/if}}
      <div class="invite-reviewer-cta">
        <button class="button-link button--green cancel" {{action "cancelAction"}}>cancel</button>
        <button class="button-primary button--green" {{action "inviteReviewer"}}>Send Invitation</button>
      </div>
   </div>
  {{else}}
    <div class='invite-reviewers'>
      <label for="reviewer">Email</label>
      {{select-2-single
          class="reviewer-select2"
          minimumInputLength=3
          name="invite_reviewer"
          placeholder="Please select reviewer"
          resultsTemplate=resultsTemplate
          remoteSource=select2RemoteSource
          selectedData=selectedReviewer
          selectedTemplate=selectedTemplate
          selectionSelected="didSelectReviewer"
          value=""}}
      <button class="button-primary button--green invite-reviewer-button" {{action "composeInvite"}}>
        Compose Invite
      </button>
    </div>

    {{invitations-display decisions=decisions
                          invitationType="Reviewer"
                          latestDecision=latestDecision
                          onDestroyInvitation='destroyInvitation'}}
  {{/if}}
</div>
