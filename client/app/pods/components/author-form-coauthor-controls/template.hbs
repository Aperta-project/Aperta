{{!-- Copyright (c) 2018 Public Library of Science --}}

{{!-- Permission is hereby granted, free of charge, to any person obtaining a --}}
{{!-- copy of this software and associated documentation files (the "Software"), --}}
{{!-- to deal in the Software without restriction, including without limitation --}}
{{!-- the rights to use, copy, modify, merge, publish, distribute, sublicense, --}}
{{!-- and/or sell copies of the Software, and to permit persons to whom the --}}
{{!-- Software is furnished to do so, subject to the following conditions: --}}

{{!-- The above copyright notice and this permission notice shall be included in --}}
{{!-- all copies or substantial portions of the Software. --}}

{{!-- THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR --}}
{{!-- IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, --}}
{{!-- FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL --}}
{{!-- THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER --}}
{{!-- LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING --}}
{{!-- FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER --}}
{{!-- DEALINGS IN THE SOFTWARE. --}}

{{#if controlsVisible}}
  <div data-test-selector="coauthor-radio-controls" class="flex-group coauthor-radio-controls">
    <label class="confirm-coauthor-label flex-element">
      {{radio-button
      value="confirmed"
      data-test-selector="confirm-authorship"
      selection=author.coAuthorState
      disabled=disabled
      name="coauthor-confirmation"
      action=(action "setConfirmation")}}
      Accept Authorship
    </label>

    <label class="decline-coauthor-label flex-element">
      {{radio-button
      value="refuted"
      data-test-selector="refute-authorship"
      selection=author.coAuthorState
      disabled=disabled
      name="coauthor-confirmation"
      action=(action "setConfirmation")}}
      Decline Authorship
    </label>

    <label class="no-response-coauthor-label flex-element">
      {{radio-button
      value="unconfirmed"
      data-test-selector="unconfirm-authorship"
      selection=author.coAuthorState
      disabled=disabled
      name="coauthor-confirmation"
      action=(action "setConfirmation")}}
      No Response
    </label>
    {{#if author.coAuthorStateModifiedAt}}
      <div class="flex-element">
        <span class="coauthor-status-modified-by"><em>{{humanizedCoAuthorState}} {{modifiedBy}} on {{format-date author.coAuthorStateModifiedAt}}</em></span>
      </div>
    {{/if}}
  </div>
{{/if}}

<div class="flex-group">
  <div class="flex-element">
    {{#if author.confirmedAsCoAuthor}}
      <div class="author-confirmed">
        <i class="fa fa-check author-confirmed-check"></i>
        Authorship has been confirmed
      </div>
    {{else if author.refutedAsCoAuthor}}
      <div class="author-refuted">
        <i class="fa fa-minus-circle author-refuted-circle"></i>
        Authorship has been refuted
      </div>
    {{else}}
      <div class="author-coauthor-info">
        When you submit your manuscript, an email will be sent to this coauthor at the address you provide below to confirm authorship<
      </div>
    {{/if}}
  </div>
</div>
