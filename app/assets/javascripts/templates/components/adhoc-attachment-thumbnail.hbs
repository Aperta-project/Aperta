<div class="attachment-thumbnail">
  <span class="glyphicon glyphicon-trash attachment-thumbnail-destroy-icon" {{action "confirmDestroyAttachment"}}></span>

  <a target="_blank" data-toggle="tooltip" data-placement="right" title="Download original image" href={{unbound attachment.src}} style="display:block;">
    {{#if attachment.previewSrc}}
      <div class="attachment-thumbnail-image">
        <img class="attachment-thumbnail-image-preview" src={{unbound attachment.previewSrc}} alt={{unbound attachment.alt}}>
      </div>
    {{else}}
      <div class="attachment-thumbnail-image attachment-thumbnail-image-placeholder">
        <div class="replace-spinner"></div>
        <span class="glyphicon glyphicon-file"></span>
      </div>
    {{/if}}
  </a>

  <a class="attachment-original-download-link" target="_blank" data-toggle="tooltip" data-placement="right" title="Download original image" href={{unbound attachment.src}}>{{attachment.title}}</a>

  <div class="attachment-thumbnail-edit-content">
    <div class="field">
      {{input placeholder="Enter a title"
              class="attachment-title-field"
              value=attachment.title}}
    </div>
    <div class="field">
      {{textarea placeholder="Enter a caption for this attachment"
                 class="attachment-caption-field"
                 value=attachment.caption rows="5"}}
    </div>

    <div class="attachment-thumbnail-edit-actions">
      <a href="#" class="button-link button--green" {{action "cancelEditing"}}>cancel</a>
      <a href="#" class="button-secondary button--green" {{action "saveAttachment"}}>Save</a>
    </div>
  </div>

  <div class="attachment-thumbnail-text-content">
    <h2 class="attachment-thumbnail-title" {{action "toggleEditState" "attachment-title-field" on="doubleClick"}}>
      {{display attachment.title or="Attachment title"}}
    </h2>
    <span class="glyphicon glyphicon-pencil attachment-edit-icon" {{action "toggleEditState"}}></span>

    <div class="attachment-thumbnail-caption" {{action "toggleEditState" "attachment-caption-field" on="doubleClick"}}>
      {{display attachment.caption or="There is no description for this file."}}
    </div>
  </div>

  <div class="attachment-thumbnail-destroy-overlay">
    <p>This will permanently delete your image. Are you sure?</p>
    <button class="button-secondary button--green knockout" {{action "cancelDestroyAttachment"}}>Cancel</button>
    <button class="button-secondary button--green knockout attachment-delete-button" {{action "destroyAttachment"}}>Delete Forever</button>
  </div>
</div>
