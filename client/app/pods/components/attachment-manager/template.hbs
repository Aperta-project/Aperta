{{#if showDescription}}
  <p class="description">
    {{#unless disabled}}
      {{{description}}}
    {{/unless}}
  </p>
{{/if}}

{{#each attachments as |attachment|}}
  {{attachment-item accept=accept
                    attachment=attachment
                    disabled=disabled
                    filePath=filePath
                    hasCaption=hasCaption
                    caption=attachment.caption
                    captionChanged=attrs.captionChanged
                    cancelUpload=attrs.cancelUpload
                    deleteFile=attrs.deleteFile
                    noteChanged=attrs.noteChanged
                    uploadFinished=attrs.updateAttachment}}
{{/each}}

{{#each fileUploads as |f|}}
  {{upload-preview upload=f}}
{{/each}}

{{#if showAddButton}}
  <div class="button-secondary button--green fileinput-button {{if uploadInProgress "button--disabled"}}">
    {{buttonText}}
    <div class="{{if uploadInProgress "hidden"}}">
      {{s3-file-uploader class="add-new-attachment"
                         accept=accept
                         filePath=filePath
                         multiple=multiple
                         disabled=disabled
                         uploadProgress=(action "uploadProgress")
                         uploadFinished=(action "uploadFinished")
                         uploadFailed=(action "uploadFailed")
                         fileAdded=(action "fileAdded")}}
    </div>
  </div>
{{/if}}
