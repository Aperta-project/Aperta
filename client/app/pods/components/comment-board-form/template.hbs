{{textarea classNames="new-comment-field" value=comment placeholder="Type your message here"}}

<div class="drag-to-resize" title="Drag to resize">&nbsp;</div>

<div class="message-comment-buttons">
  <button type="submit" class="new-comment-submit-button button-secondary button--green" {{action "save"}}>
    Post Message
  </button>
  <a href="#" class="button-link cancel-link" {{action "cancel"}}>Cancel</a>
</div>

<script>
  var $dragToResize = $('div.drag-to-resize');

  // Only keep the resize bar if the browser is IE.
  var ua = window.navigator.userAgent;
  var msie = ua.indexOf('MSIE ');
  var trident = ua.indexOf('Trident/');
  var edge = ua.indexOf('Edge/');
  if (msie > 0 || trident > 0 || edge > 0) {
    $dragToResize.on('mousedown', function(e) {
      e.preventDefault();
      var $this = $(this);
      var drag = $this.prev('.new-comment-field');

      $this.on('mousemove', function(e) {
        e.preventDefault();
        drag.height(e.screenY - 275);
      });
    });

    $('div.drag-to-resize').mouseup(stopDragging);
    $('div.drag-to-resize').mouseleave(stopDragging);

    function stopDragging() {
      $(this).off('mousemove');
    }
  } else {
    $dragToResize.remove();
  }
</script>
