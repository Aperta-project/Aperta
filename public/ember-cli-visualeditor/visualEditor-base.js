!function(a){"use strict";var b,c,d=Array.prototype.slice;c=function(b){this.options=a.extend({},c.defaults,b),this.parser=this.options.parser,this.locale=this.options.locale,this.messageStore=this.options.messageStore,this.languages={},this.init()},c.prototype={init:function(){var b=this;String.locale=b.locale,String.prototype.toLocaleString=function(){var c,d,e,f,g,h,i;for(e=this.valueOf(),f=b.locale,g=0;f;){c=f.split("-"),d=c.length;do{if(h=c.slice(0,d).join("-"),i=b.messageStore.get(h,e))return i;d--}while(d);if("en"===f)break;f=a.i18n.fallbacks[b.locale]&&a.i18n.fallbacks[b.locale][g]||b.options.fallbackLocale,a.i18n.log("Trying fallback locale for "+b.locale+": "+f),g++}return""}},destroy:function(){a.removeData(document,"i18n")},load:function(a,b){return this.messageStore.load(a,b)},parse:function(b,c){var d=b.toLocaleString();return this.parser.language=a.i18n.languages[a.i18n().locale]||a.i18n.languages["default"],""===d&&(d=b),this.parser.parse(d,c)}},a.i18n=function(b,e){var f,g=a.data(document,"i18n"),h="object"==typeof b&&b;return h&&h.locale&&g&&g.locale!==h.locale&&(String.locale=g.locale=h.locale),g||(g=new c(h),a.data(document,"i18n",g)),"string"==typeof b?(f=void 0!==e?d.call(arguments,1):[],g.parse(b,f)):g},a.fn.i18n=function(){var b=a.data(document,"i18n");return b||(b=new c,a.data(document,"i18n",b)),String.locale=b.locale,this.each(function(){var c=a(this),d=c.data("i18n");d?c.text(b.parse(d)):c.find("[data-i18n]").i18n()})},String.locale=String.locale||a("html").attr("lang"),String.locale||(void 0!==typeof window.navigator?(b=window.navigator,String.locale=b.language||b.userLanguage||""):String.locale=""),a.i18n.languages={},a.i18n.messageStore=a.i18n.messageStore||{},a.i18n.parser={parse:function(a,b){return a.replace(/\$(\d+)/g,function(a,c){var d=parseInt(c,10)-1;return void 0!==b[d]?b[d]:"$"+c})},emitter:{}},a.i18n.fallbacks={},a.i18n.debug=!1,a.i18n.log=function(){window.console&&a.i18n.debug&&window.console.log.apply(window.console,arguments)},c.defaults={locale:String.locale,fallbackLocale:"en",parser:a.i18n.parser,messageStore:a.i18n.messageStore},a.i18n.constructor=c}(jQuery),function(a){"use strict";function b(b){return a.getJSON(b).fail(function(c,d,e){a.i18n.log("Error in loading messages from "+b+" Exception: "+e)})}var c=function(){this.messages={},this.sources={}};c.prototype={load:function(c,d){var e=null,f=null,g=[],h=this;if("string"==typeof c)return a.i18n.log("Loading messages from: "+c),f=b(c).done(function(a){h.set(d,a)}),f.promise();if(d)return h.set(d,c),a.Deferred().resolve();for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(d=e,g.push(h.load(c[e],d)));return a.when.apply(a,g)},set:function(b,c){this.messages[b]=this.messages[b]?a.extend(this.messages[b],c):c},get:function(a,b){return this.messages[a]&&this.messages[a][b]}},a.extend(a.i18n.messageStore,new c)}(jQuery,window),function(a){"use strict";var b=function(b){this.options=a.extend({},a.i18n.parser.defaults,b),this.language=a.i18n.languages[String.locale]||a.i18n.languages["default"],this.emitter=a.i18n.parser.emitter};b.prototype={constructor:b,simpleParse:function(a,b){return a.replace(/\$(\d+)/g,function(a,c){var d=parseInt(c,10)-1;return void 0!==b[d]?b[d]:"$"+c})},parse:function(b,c){return b.indexOf("{{")<0?this.simpleParse(b,c):(this.emitter.language=a.i18n.languages[a.i18n().locale]||a.i18n.languages["default"],this.emitter.emit(this.ast(b),c))},ast:function(a){function b(a){return function(){var b,c;for(b=0;b<a.length;b++)if(c=a[b](),null!==c)return c;return null}}function c(a){var b,c,d=I,e=[];for(b=0;b<a.length;b++){if(c=a[b](),null===c)return I=d,null;e.push(c)}return e}function d(a,b){return function(){for(var c=I,d=[],e=b();null!==e;)d.push(e),e=b();return d.length<a?(I=c,null):d}}function e(b){var c=b.length;return function(){var d=null;return a.substr(I,c)===b&&(d=b,I+=c),d}}function f(b){return function(){var c=a.substr(I).match(b);return null===c?null:(I+=c[0].length,c[0])}}function g(a,b){return function(){var c=a();return null===c?null:b(c)}}function h(){var a=d(1,z)();return null===a?null:a.join("")}function i(){var a=d(1,A)();return null===a?null:a.join("")}function j(){var a=c([s,t]);return null===a?null:a[1]}function k(){var a=c([u,v]);return null===a?null:["REPLACE",parseInt(a[1],10)-1]}function l(){var a,b=c([q,d(0,G)]);return null===b?null:(a=b[1],a.length>1?["CONCAT"].concat(a):a[0])}function m(){var a=c([C,r,k]);return null===a?null:[a[0],a[2]]}function n(){var a=c([C,r,G]);return null===a?null:[a[0],a[2]]}function o(){var a=c([D,B,E]);return null===a?null:a[1]}function p(){var a=d(0,F)();return null===a?null:["CONCAT"].concat(a)}var q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I=0;if(q=e("|"),r=e(":"),s=e("\\"),t=f(/^./),u=e("$"),v=f(/^\d+/),w=f(/^[^{}\[\]$\\]/),x=f(/^[^{}\[\]$\\|]/),y=f(/^[^{}\[\]$\s]/),b([j,y]),z=b([j,x]),A=b([j,w]),C=g(f(/^[ !"$&'()*,.\/0-9;=?@A-Z\^_`a-z~\x80-\xFF+\-]+/),function(a){return a.toString()}),B=b([function(){var a=c([b([m,n]),d(0,l)]);return null===a?null:a[0].concat(a[1])},function(){var a=c([C,d(0,l)]);return null===a?null:[a[0]].concat(a[1])}]),D=e("{{"),E=e("}}"),F=b([o,k,i]),G=b([o,k,h]),H=p(),null===H||I!==a.length)throw new Error("Parse error at position "+I.toString()+" in input: "+a);return H}},a.extend(a.i18n.parser,new b)}(jQuery),function(a){"use strict";var b=function(){this.language=a.i18n.languages[String.locale]||a.i18n.languages["default"]};b.prototype={constructor:b,emit:function(b,c){var d,e,f,g=this;switch(typeof b){case"string":case"number":d=b;break;case"object":if(e=a.map(b.slice(1),function(a){return g.emit(a,c)}),f=b[0].toLowerCase(),"function"!=typeof g[f])throw new Error('unknown operation "'+f+'"');d=g[f](e,c);break;case"undefined":d="";break;default:throw new Error("unexpected type in AST: "+typeof b)}return d},concat:function(b){var c="";return a.each(b,function(a,b){c+=b}),c},replace:function(a,b){var c=parseInt(a[0],10);return c<b.length?b[c]:"$"+(c+1)},plural:function(a){var b=parseFloat(this.language.convertNumber(a[0],10)),c=a.slice(1);return c.length?this.language.convertPlural(b,c):""},gender:function(a){var b=a[0],c=a.slice(1);return this.language.gender(b,c)},grammar:function(a){var b=a[0],c=a[1];return c&&b&&this.language.convertGrammar(c,b)}},a.extend(a.i18n.parser.emitter,new b)}(jQuery),function(a){"use strict";var b={pluralRules:{ak:{one:"n = 0..1"},am:{one:"i = 0 or n = 1"},ar:{zero:"n = 0",one:"n = 1",two:"n = 2",few:"n % 100 = 3..10",many:"n % 100 = 11..99"},be:{one:"n % 10 = 1 and n % 100 != 11",few:"n % 10 = 2..4 and n % 100 != 12..14",many:"n % 10 = 0 or n % 10 = 5..9 or n % 100 = 11..14"},bh:{one:"n = 0..1"},bn:{one:"i = 0 or n = 1"},br:{one:"n % 10 = 1 and n % 100 != 11,71,91",two:"n % 10 = 2 and n % 100 != 12,72,92",few:"n % 10 = 3..4,9 and n % 100 != 10..19,70..79,90..99",many:"n != 0 and n % 1000000 = 0"},bs:{one:"v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"},cs:{one:"i = 1 and v = 0",few:"i = 2..4 and v = 0",many:"v != 0"},cy:{zero:"n = 0",one:"n = 1",two:"n = 2",few:"n = 3",many:"n = 6"},da:{one:"n = 1 or t != 0 and i = 0,1"},fa:{one:"i = 0 or n = 1"},ff:{one:"i = 0,1"},fil:{one:"i = 0..1 and v = 0"},fr:{one:"i = 0,1"},ga:{one:"n = 1",two:"n = 2",few:"n = 3..6",many:"n = 7..10"},gd:{one:"n = 1,11",two:"n = 2,12",few:"n = 3..10,13..19"},gu:{one:"i = 0 or n = 1"},guw:{one:"n = 0..1"},gv:{one:"n % 10 = 1",two:"n % 10 = 2",few:"n % 100 = 0,20,40,60"},he:{one:"i = 1 and v = 0",two:"i = 2 and v = 0",many:"v = 0 and n != 0..10 and n % 10 = 0"},hi:{one:"i = 0 or n = 1"},hr:{one:"v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"},hy:{one:"i = 0,1"},is:{one:"t = 0 and i % 10 = 1 and i % 100 != 11 or t != 0"},iu:{one:"n = 1",two:"n = 2"},iw:{one:"i = 1 and v = 0",two:"i = 2 and v = 0",many:"v = 0 and n != 0..10 and n % 10 = 0"},kab:{one:"i = 0,1"},kn:{one:"i = 0 or n = 1"},kw:{one:"n = 1",two:"n = 2"},lag:{zero:"n = 0",one:"i = 0,1 and n != 0"},ln:{one:"n = 0..1"},lt:{one:"n % 10 = 1 and n % 100 != 11..19",few:"n % 10 = 2..9 and n % 100 != 11..19",many:"f != 0"},lv:{zero:"n % 10 = 0 or n % 100 = 11..19 or v = 2 and f % 100 = 11..19",one:"n % 10 = 1 and n % 100 != 11 or v = 2 and f % 10 = 1 and f % 100 != 11 or v != 2 and f % 10 = 1"},mg:{one:"n = 0..1"},mk:{one:"v = 0 and i % 10 = 1 or f % 10 = 1"},mo:{one:"i = 1 and v = 0",few:"v != 0 or n = 0 or n != 1 and n % 100 = 1..19"},mr:{one:"i = 0 or n = 1"},mt:{one:"n = 1",few:"n = 0 or n % 100 = 2..10",many:"n % 100 = 11..19"},naq:{one:"n = 1",two:"n = 2"},nso:{one:"n = 0..1"},pa:{one:"n = 0..1"},pl:{one:"i = 1 and v = 0",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14",many:"v = 0 and i != 1 and i % 10 = 0..1 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 12..14"},pt:{one:"i = 1 and v = 0 or i = 0 and t = 1"},pt_PT:{one:"n = 1 and v = 0"},ro:{one:"i = 1 and v = 0",few:"v != 0 or n = 0 or n != 1 and n % 100 = 1..19"},ru:{one:"v = 0 and i % 10 = 1 and i % 100 != 11",many:"v = 0 and i % 10 = 0 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 11..14"},se:{one:"n = 1",two:"n = 2"},sh:{one:"v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"},shi:{one:"i = 0 or n = 1",few:"n = 2..10"},si:{one:"n = 0,1 or i = 0 and f = 1"},sk:{one:"i = 1 and v = 0",few:"i = 2..4 and v = 0",many:"v != 0"},sl:{one:"v = 0 and i % 100 = 1",two:"v = 0 and i % 100 = 2",few:"v = 0 and i % 100 = 3..4 or v != 0"},sma:{one:"n = 1",two:"n = 2"},smi:{one:"n = 1",two:"n = 2"},smj:{one:"n = 1",two:"n = 2"},smn:{one:"n = 1",two:"n = 2"},sms:{one:"n = 1",two:"n = 2"},sr:{one:"v = 0 and i % 10 = 1 and i % 100 != 11 or f % 10 = 1 and f % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14 or f % 10 = 2..4 and f % 100 != 12..14"},ti:{one:"n = 0..1"},tl:{one:"i = 0..1 and v = 0"},tzm:{one:"n = 0..1 or n = 11..99"},uk:{one:"v = 0 and i % 10 = 1 and i % 100 != 11",few:"v = 0 and i % 10 = 2..4 and i % 100 != 12..14",many:"v = 0 and i % 10 = 0 or v = 0 and i % 10 = 5..9 or v = 0 and i % 100 = 11..14"},wa:{one:"n = 0..1"},zu:{one:"i = 0 or n = 1"}},convertPlural:function(b,c){var d,e,f,g,h,i=new RegExp("\\d+=","i");if(!c||0===c.length)return"";for(f=0;f<c.length;f++)if(h=c[f],i.test(h)){if(g=parseInt(h.substring(0,h.indexOf("=")),10),g===b)return h.substr(h.indexOf("=")+1);c[f]=void 0}return c=a.map(c,function(a){return void 0!==a?a:void 0}),(d=this.pluralRules[a.i18n().locale])?(e=this.getPluralForm(b,d),e=Math.min(e,c.length-1),c[e]):1===b?c[0]:c[1]},getPluralForm:function(a,b){var c,d=["zero","one","two","few","many","other"],e=0;for(c=0;c<d.length;c++)if(b[d[c]]){if(pluralRuleParser(b[d[c]],a))return e;e++}return e},convertNumber:function(b,c){var d,e,f,g,h,i;if(g=this.digitTransformTable(a.i18n().locale),h=""+b,i="",!g)return b;if(c){if(parseFloat(b,10)===b)return b;d=[];for(e in g)d[g[e]]=e;g=d}for(f=0;f<h.length;f++)i+=g[h[f]]?g[h[f]]:h[f];return c?parseFloat(i,10):i},convertGrammar:function(a){return a},gender:function(a,b){if(!b||0===b.length)return"";for(;b.length<2;)b.push(b[b.length-1]);return"male"===a?b[0]:"female"===a?b[1]:3===b.length?b[2]:b[0]},digitTransformTable:function(a){var b={ar:"Ÿ†Ÿ°Ÿ¢Ÿ£Ÿ§Ÿ•Ÿ¶ŸßŸ®Ÿ©",fa:"€∞€±€≤€≥€¥€µ€∂€∑€∏€π",ml:"‡µ¶‡µß‡µ®‡µ©‡µ™‡µ´‡µ¨‡µ≠‡µÆ‡µØ",kn:"‡≥¶‡≥ß‡≥®‡≥©‡≥™‡≥´‡≥¨‡≥≠‡≥Æ‡≥Ø",lo:"‡ªê‡ªë‡ªí‡ªì‡ªî‡ªï‡ªñ‡ªó‡ªò‡ªô",or:"‡≠¶‡≠ß‡≠®‡≠©‡≠™‡≠´‡≠¨‡≠≠‡≠Æ‡≠Ø",kh:"·ü†·ü°·ü¢·ü£·ü§·ü•·ü¶·üß·ü®·ü©",pa:"‡©¶‡©ß‡©®‡©©‡©™‡©´‡©¨‡©≠‡©Æ‡©Ø",gu:"‡´¶‡´ß‡´®‡´©‡´™‡´´‡´¨‡´≠‡´Æ‡´Ø",hi:"‡•¶‡•ß‡•®‡•©‡•™‡•´‡•¨‡•≠‡•Æ‡•Ø",my:"·ÅÄ·ÅÅ·ÅÇ·ÅÉ·ÅÑ·ÅÖ·ÅÜ·Åá·Åà·Åâ",ta:"‡Ø¶‡Øß‡Ø®‡Ø©‡Ø™‡Ø´‡Ø¨‡Ø≠‡ØÆ‡ØØ",te:"‡±¶‡±ß‡±®‡±©‡±™‡±´‡±¨‡±≠‡±Æ‡±Ø",th:"‡πê‡πë‡πí‡πì‡πî‡πï‡πñ‡πó‡πò‡πô",bo:"‡º†‡º°‡º¢‡º£‡º§‡º•‡º¶‡ºß‡º®‡º©"};return b[a]?b[a].split(""):!1}};a.extend(a.i18n.languages,{"default":b})}(jQuery),function(a){"use strict";a.i18n=a.i18n||{},a.extend(a.i18n.fallbacks,{ab:["ru"],ace:["id"],aln:["sq"],als:["gsw","de"],an:["es"],anp:["hi"],arn:["es"],arz:["ar"],av:["ru"],ay:["es"],ba:["ru"],bar:["de"],"bat-smg":["sgs","lt"],bcc:["fa"],"be-x-old":["be-tarask"],bh:["bho"],bjn:["id"],bm:["fr"],bpy:["bn"],bqi:["fa"],bug:["id"],"cbk-zam":["es"],ce:["ru"],crh:["crh-latn"],"crh-cyrl":["ru"],csb:["pl"],cv:["ru"],"de-at":["de"],"de-ch":["de"],"de-formal":["de"],dsb:["de"],dtp:["ms"],egl:["it"],eml:["it"],ff:["fr"],fit:["fi"],"fiu-vro":["vro","et"],frc:["fr"],frp:["fr"],frr:["de"],fur:["it"],gag:["tr"],gan:["gan-hant","zh-hant","zh-hans"],"gan-hans":["zh-hans"],"gan-hant":["zh-hant","zh-hans"],gl:["pt"],glk:["fa"],gn:["es"],gsw:["de"],hif:["hif-latn"],hsb:["de"],ht:["fr"],ii:["zh-cn","zh-hans"],inh:["ru"],iu:["ike-cans"],jut:["da"],jv:["id"],kaa:["kk-latn","kk-cyrl"],kbd:["kbd-cyrl"],khw:["ur"],kiu:["tr"],kk:["kk-cyrl"],"kk-arab":["kk-cyrl"],"kk-latn":["kk-cyrl"],"kk-cn":["kk-arab","kk-cyrl"],"kk-kz":["kk-cyrl"],"kk-tr":["kk-latn","kk-cyrl"],kl:["da"],"ko-kp":["ko"],koi:["ru"],krc:["ru"],ks:["ks-arab"],ksh:["de"],ku:["ku-latn"],"ku-arab":["ckb"],kv:["ru"],lad:["es"],lb:["de"],lbe:["ru"],lez:["ru"],li:["nl"],lij:["it"],liv:["et"],lmo:["it"],ln:["fr"],ltg:["lv"],lzz:["tr"],mai:["hi"],"map-bms":["jv","id"],mg:["fr"],mhr:["ru"],min:["id"],mo:["ro"],mrj:["ru"],mwl:["pt"],myv:["ru"],mzn:["fa"],nah:["es"],nap:["it"],nds:["de"],"nds-nl":["nl"],"nl-informal":["nl"],no:["nb"],os:["ru"],pcd:["fr"],pdc:["de"],pdt:["de"],pfl:["de"],pms:["it"],pt:["pt-br"],"pt-br":["pt"],qu:["es"],qug:["qu","es"],rgn:["it"],rmy:["ro"],"roa-rup":["rup"],rue:["uk","ru"],ruq:["ruq-latn","ro"],"ruq-cyrl":["mk"],"ruq-latn":["ro"],sa:["hi"],sah:["ru"],scn:["it"],sg:["fr"],sgs:["lt"],sli:["de"],sr:["sr-ec"],srn:["nl"],stq:["de"],su:["id"],szl:["pl"],tcy:["kn"],tg:["tg-cyrl"],tt:["tt-cyrl","ru"],"tt-cyrl":["ru"],ty:["fr"],udm:["ru"],ug:["ug-arab"],uk:["ru"],vec:["it"],vep:["et"],vls:["nl"],vmf:["de"],vot:["fi"],vro:["et"],wa:["fr"],wo:["fr"],wuu:["zh-hans"],xal:["ru"],xmf:["ka"],yi:["he"],za:["zh-hans"],zea:["nl"],zh:["zh-hans"],"zh-classical":["lzh"],"zh-cn":["zh-hans"],"zh-hant":["zh-hans"],"zh-hk":["zh-hant","zh-hans"],"zh-min-nan":["nan"],"zh-mo":["zh-hk","zh-hant","zh-hans"],"zh-my":["zh-sg","zh-hans"],"zh-sg":["zh-hans"],"zh-tw":["zh-hant","zh-hans"],"zh-yue":["yue"]})}(jQuery),function(a){"use strict";a.i18n.languages.bs=a.extend({},a.i18n.languages["default"],{convertGrammar:function(a,b){switch(b){case"instrumental":a="s "+a;break;case"lokativ":a="o "+a}return a}})}(jQuery),function(a){"use strict";a.i18n.languages.dsb=a.extend({},a.i18n.languages["default"],{convertGrammar:function(a,b){switch(b){case"instrumental":a="z "+a;break;case"lokatiw":a="wo "+a}return a}})}(jQuery),function(a){"use strict";a.i18n.languages.fi=a.extend({},a.i18n.languages["default"],{convertGrammar:function(a,b){var c=a.match(/[aou][^√§√∂y]*$/i),d=a;switch(a.match(/wiki$/i)&&(c=!1),a.match(/[bcdfghjklmnpqrstvwxz]$/i)&&(a+="i"),b){case"genitive":a+="n";break;case"elative":a+=c?"sta":"st√§";break;case"partitive":a+=c?"a":"√§";break;case"illative":a+=a.substr(a.length-1)+"n";break;case"inessive":a+=c?"ssa":"ss√§";break;default:a=d}return a}})}(jQuery),function(a){"use strict";a.i18n.languages.ga=a.extend({},a.i18n.languages["default"],{convertGrammar:function(a,b){if("ainmlae"===b)switch(a){case"an Domhnach":a="D√© Domhnaigh";break;case"an Luan":a="D√© Luain";break;case"an Mh√°irt":a="D√© Mh√°irt";break;case"an Ch√©adaoin":a="D√© Ch√©adaoin";break;case"an D√©ardaoin":a="D√©ardaoin";break;case"an Aoine":a="D√© hAoine";break;case"an Satharn":a="D√© Sathairn"}return a}})}(jQuery),function(a){"use strict";a.i18n.languages.he=a.extend({},a.i18n.languages["default"],{convertGrammar:function(a,b){switch(b){case"prefixed":case"◊™◊ó◊ô◊ú◊ô◊™":"◊ï"===a.substr(0,1)&&"◊ï◊ï"!==a.substr(0,2)&&(a="◊ï"+a),"◊î"===a.substr(0,1)&&(a=a.substr(1,a.length)),(a.substr(0,1)<"◊ê"||a.substr(0,1)>"◊™")&&(a="÷æ"+a)}return a}})}(jQuery),function(a){"use strict";a.i18n.languages.hsb=a.extend({},a.i18n.languages["default"],{convertGrammar:function(a,b){switch(b){case"instrumental":a="z "+a;break;case"lokatiw":a="wo "+a}return a}})}(jQuery),function(a){"use strict";a.i18n.languages.hu=a.extend({},a.i18n.languages["default"],{convertGrammar:function(a,b){switch(b){case"rol":a+="r√≥l";break;case"ba":a+="ba";break;case"k":a+="k"}return a}})}(jQuery),function(a){"use strict";a.i18n.languages.hy=a.extend({},a.i18n.languages["default"],{convertGrammar:function(a,b){return"genitive"===b&&("’°"===a.substr(-1)?a=a.substr(0,a.length-1)+"’°’µ’´":"’∏"===a.substr(-1)?a=a.substr(0,a.length-1)+"’∏’µ’´":"’£’´÷Ä÷Ñ"===a.substr(-4)?a=a.substr(0,a.length-4)+"’£÷Ä÷Ñ’´":a+="’´"),a}})}(jQuery),function(a){"use strict";a.i18n.languages.la=a.extend({},a.i18n.languages["default"],{convertGrammar:function(a,b){switch(b){case"genitive":a=a.replace(/u[ms]$/i,"i"),a=a.replace(/ommunia$/i,"ommunium"),a=a.replace(/a$/i,"ae"),a=a.replace(/libri$/i,"librorum"),a=a.replace(/nuntii$/i,"nuntiorum"),a=a.replace(/tio$/i,"tionis"),a=a.replace(/ns$/i,"ntis"),a=a.replace(/as$/i,"atis"),a=a.replace(/es$/i,"ei");break;case"accusative":a=a.replace(/u[ms]$/i,"um"),a=a.replace(/ommunia$/i,"am"),a=a.replace(/a$/i,"ommunia"),a=a.replace(/libri$/i,"libros"),a=a.replace(/nuntii$/i,"nuntios"),a=a.replace(/tio$/i,"tionem"),a=a.replace(/ns$/i,"ntem"),a=a.replace(/as$/i,"atem"),a=a.replace(/es$/i,"em");break;case"ablative":a=a.replace(/u[ms]$/i,"o"),a=a.replace(/ommunia$/i,"ommunibus"),a=a.replace(/a$/i,"a"),a=a.replace(/libri$/i,"libris"),a=a.replace(/nuntii$/i,"nuntiis"),a=a.replace(/tio$/i,"tione"),a=a.replace(/ns$/i,"nte"),a=a.replace(/as$/i,"ate"),a=a.replace(/es$/i,"e")}return a}})}(jQuery),function(a){"use strict";a.i18n.languages.ml=a.extend({},a.i18n.languages["default"],{convertGrammar:function(a,b){switch(b=b.toLowerCase()){case"‡¥â‡¥¶‡µç‡¥¶‡µá‡¥∂‡¥ø‡¥ï":case"dative":"‡µÅ"===a.substr(-1)||"‡µÇ"===a.substr(-1)||"‡µó"===a.substr(-1)||"‡µå"===a.substr(-1)?a+="‡¥µ‡¥ø‡¥®‡µç":"‡¥Ç"===a.substr(-1)?a=a.substr(0,a.length-1)+"‡¥§‡µç‡¥§‡¥ø‡¥®‡µç":"‡µª"===a.substr(-1)?a=a.substr(0,a.length-1)+"‡¥®‡µç":"‡¥®‡µç‚Äç"===a.substr(-3)?a=a.substr(0,a.length-1):"‡µæ"===a.substr(-1)||"‡¥≥‡µç‚Äç"===a.substr(-3)?a+="‡¥ï‡µç‡¥ï‡µç":"‡µº"===a.substr(-1)||"‡¥∞‡µç‚Äç"===a.substr(-3)?a+="‡¥ï‡µç‡¥ï‡µç":"‡µΩ"===a.substr(-1)?a=a.substr(0,a.length-1)+"‡¥≤‡¥ø‡¥®‡µç":"‡¥≤‡µç‚Äç"===a.substr(-3)?a=a.substr(0,a.length-2)+"‡¥ø‡¥®‡µç":"‡µÅ‡µç"===a.substr(-2)?a=a.substr(0,a.length-2)+"‡¥ø‡¥®‡µç":"‡µç"===a.substr(-1)?a=a.substr(0,a.length-1)+"‡¥ø‡¥®‡µç":a+="‡¥Ø‡µç‡¥ï‡µç‡¥ï‡µç";break;case"‡¥∏‡¥Ç‡¥¨‡¥®‡µç‡¥ß‡¥ø‡¥ï":case"genitive":"‡¥Ç"===a.substr(-1)?a=a.substr(0,a.length-1)+"‡¥§‡µç‡¥§‡¥ø‡¥®‡µç‡¥±‡µÜ":"‡µÅ‡µç"===a.substr(-2)?a=a.substr(0,a.length-2)+"‡¥ø‡¥®‡µç‡¥±‡µÜ":"‡µç"===a.substr(-1)?a=a.substr(0,a.length-1)+"‡¥ø‡¥®‡µç‡¥±‡µÜ":"‡µÅ"===a.substr(-1)||"‡µÇ"===a.substr(-1)||"‡µó"===a.substr(-1)||"‡µå"===a.substr(-1)?a+="‡¥µ‡¥ø‡¥®‡µç‡¥±‡µÜ":"‡µª"===a.substr(-1)?a=a.substr(0,a.length-1)+"‡¥®‡µç‡¥±‡µÜ":"‡¥®‡µç‚Äç"===a.substr(-3)?a=a.substr(0,a.length-1)+"‡¥±‡µÜ":"‡¥≥‡µç‚Äç"===a.substr(-3)?a=a.substr(0,a.length-2)+"‡µÅ‡¥ü‡µÜ":"‡µæ"===a.substr(-1)?a=a.substr(0,a.length-1)+"‡¥≥‡µÅ‡¥ü‡µÜ":"‡µΩ"===a.substr(-1)?a=a.substr(0,a.length-1)+"‡¥≤‡¥ø‡¥®‡µç‡¥±‡µÜ":"‡¥≤‡µç‚Äç"===a.substr(-3)?a=a.substr(0,a.length-2)+"‡¥ø‡¥®‡µç‡¥±‡µÜ":"‡¥∞‡µç‚Äç"===a.substr(-3)?a=a.substr(0,a.length-2)+"‡µÅ‡¥ü‡µÜ":"‡µº"===a.substr(-1)?a=a.substr(0,a.length-1)+"‡¥∞‡µÅ‡¥ü‡µÜ":a+="‡¥Ø‡µÅ‡¥ü‡µÜ"}return a}})}(jQuery),function(a){"use strict";a.i18n.languages.os=a.extend({},a.i18n.languages["default"],{convertGrammar:function(a,b){var c,d,e,f;switch(c="–º√¶",d="",e="",f="",a.match(/—Ç√¶$/i)?(a=a.substring(0,a.length-1),c="√¶–º"):a.match(/[–∞√¶–µ—ë–∏–æ—ã—ç—é—è]$/i)?d="–π":a.match(/—É$/i)?a.substring(a.length-2,a.length-1).match(/[–∞√¶–µ—ë–∏–æ—ã—ç—é—è]$/i)||(d="–π"):a.match(/[–±–≤–≥–¥–∂–∑–π–∫–ª–º–Ω–æ–ø—Ä—Å—Ç—Ñ—Ö—Ü—á—à—â—å—ä]$/i)||(e="-"),b){case"genitive":f=e+d+"—ã";break;case"dative":f=e+d+"√¶–Ω";break;case"allative":f=e+c;break;case"ablative":f="–π"===d?e+d+"√¶":e+d+"√¶–π";break;case"superessive":f=e+d+"—ã–ª";break;case"equative":f=e+d+"–∞—É";break;case"comitative":f=e+"–∏–º√¶"}return a+f}})}(jQuery),function(a){"use strict";a.i18n.languages.ru=a.extend({},a.i18n.languages["default"],{convertGrammar:function(a,b){return"genitive"===b&&("—å"===a.substr(-1)?a=a.substr(0,a.length-1)+"—è":"–∏—è"===a.substr(-2)?a=a.substr(0,a.length-2)+"–∏–∏":"–∫–∞"===a.substr(-2)?a=a.substr(0,a.length-2)+"–∫–∏":"—Ç–∏"===a.substr(-2)?a=a.substr(0,a.length-2)+"—Ç–µ–π":"–¥—ã"===a.substr(-2)?a=a.substr(0,a.length-2)+"–¥–æ–≤":"–Ω–∏–∫"===a.substr(-3)&&(a=a.substr(0,a.length-3)+"–Ω–∏–∫–∞")),a}})}(jQuery),function(a){"use strict";a.i18n.languages.sl=a.extend({},a.i18n.languages["default"],{convertGrammar:function(a,b){switch(b){case"mestnik":a="o "+a;break;case"orodnik":a="z "+a}return a}})}(jQuery),function(a){"use strict";a.i18n.languages.uk=a.extend({},a.i18n.languages["default"],{convertGrammar:function(a,b){switch(b){case"genitive":"—å"===a.substr(-1)?a=a.substr(0,a.length-1)+"—è":"—ñ—è"===a.substr(-2)?a=a.substr(0,a.length-2)+"—ñ—ó":"–∫–∞"===a.substr(-2)?a=a.substr(0,a.length-2)+"–∫–∏":"—Ç–∏"===a.substr(-2)?a=a.substr(0,a.length-2)+"—Ç–µ–π":"–¥—ã"===a.substr(-2)?a=a.substr(0,a.length-2)+"–¥–æ–≤":"–Ω–∏–∫"===a.substr(-3)&&(a=a.substr(0,a.length-3)+"–Ω–∏–∫–∞");break;case"accusative":"—ñ—è"===a.substr(-2)&&(a=a.substr(0,a.length-2)+"—ñ—é")}return a}})}(jQuery),function(a){"use strict";a.uls=a.uls||{},a.uls.data={languages:{aa:["Latn",["AF"],"Qaf√°r af"],ab:["Cyrl",["EU"],"–ê“ß—Å—à”ô–∞"],ace:["Latn",["AS","PA"],"Ac√®h"],ady:["Cyrl",["EU","ME"],"–ê–¥—ã–≥—ç–±–∑—ç"],"ady-cyrl":["ady"],"ady-latn":["Latn",["EU","ME"],"Adygabze"],aeb:["Arab",["AF"],"ÿ≤ŸéŸàŸèŸÜ"],af:["Latn",["AF"],"Afrikaans"],ahr:["Deva",["AS"],"‡§Ö‡§π‡§ø‡§∞‡§æ‡§£‡•Ä"],ak:["Latn",["AF"],"Akan"],akz:["Latn",["AM"],"Albaamo innaa…¨iilka"],aln:["Latn",["EU"],"Geg√´"],am:["Ethi",["AF"],"·ä†·àõ·à≠·äõ"],an:["Latn",["EU"],"aragon√©s"],ang:["Latn",["EU"],"√Ünglisc"],anp:["Deva",["AS"],"‡§Ö‡§ô‡•ç‡§ó‡§ø‡§ï‡§æ"],ar:["Arab",["ME"],"ÿßŸÑÿπÿ±ÿ®Ÿäÿ©"],arc:["Syrc",["ME"],"‹ê‹™‹°‹ù‹ê"],arn:["Latn",["AM"],"mapudungun"],aro:["Latn",["AM"],"Araona"],arq:["Latn",["AF"],"Dziri"],ary:["Latn",["ME"],"Maƒ°ribi"],arz:["Arab",["ME"],"ŸÖÿµÿ±Ÿâ"],as:["Beng",["AS"],"‡¶Ö‡¶∏‡¶Æ‡ßÄ‡¶Ø‡¶º‡¶æ"],ase:["Sgnw",["AM"],"American sign language"],ast:["Latn",["EU"],"asturianu"],av:["Cyrl",["EU"],"–∞–≤–∞—Ä"],avk:["Latn",["WW"],"Kotava"],ay:["Latn",["AM"],"Aymar aru"],az:["az-latn"],"az-latn":["Latn",["EU","ME"],"az…ôrbaycanca"],"az-arab":["Arab",["EU","ME"],"ÿ¢ÿ∞ÿ±ÿ®ÿßŸäÿ¨ÿßŸÜÿ¨ÿß"],"az-cyrl":["Latn",["EU","ME"],"–∞–∑”ô—Ä–±–∞—ò“π–∞–Ω“π–∞"],azb:["az-arab"],ba:["Cyrl",["EU"],"–±–∞—à“°–æ—Ä—Ç—Å–∞"],bar:["Latn",["EU"],"Boarisch"],"bat-smg":["sgs"],"bbc-latn":["Latn",["AS"],"Batak Toba"],"bbc-batk":["Batk",["AS"],"Batak Toba"],bbc:["Latn",["AS"],"Batak Toba"],bcc:["Arab",["AS","ME"],"ÿ®ŸÑŸà⁄Ü€å ŸÖ⁄©ÿ±ÿßŸÜ€å"],bcl:["Latn",["AS"],"Bikol Central"],"be-tarask":["Cyrl",["EU"],"–±–µ–ª–∞—Ä—É—Å–∫–∞—è (—Ç–∞—Ä–∞—à–∫–µ–≤—ñ—Ü–∞)"],"be-x-old":["be-tarask"],be:["Cyrl",["EU"],"–±–µ–ª–∞—Ä—É—Å–∫–∞—è"],bew:["Latn",["AS"],"Bahasa Betawi"],bfq:["Taml",["AS"],"‡Æ™‡Æü‡Æï‡Ææ"],bg:["Cyrl",["EU"],"–±—ä–ª–≥–∞—Ä—Å–∫–∏"],bh:["Deva",["AS"],"‡§≠‡•ã‡§ú‡§™‡•Å‡§∞‡•Ä"],bho:["Deva",["AS"],"‡§≠‡•ã‡§ú‡§™‡•Å‡§∞‡•Ä"],bi:["Latn",["PA"],"Bislama"],bjn:["Latn",["AS"],"Bahasa Banjar"],bm:["Latn",["AF"],"bamanankan"],bn:["Beng",["AS"],"‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ"],bo:["Tibt",["AS"],"‡Ωñ‡Ωº‡Ωë‡ºã‡Ω°‡Ω≤‡ΩÇ"],bpy:["Beng",["AS"],"‡¶¨‡¶ø‡¶∑‡ßç‡¶£‡ßÅ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ ‡¶Æ‡¶£‡¶ø‡¶™‡ßÅ‡¶∞‡ßÄ"],bqi:["Arab",["ME"],"ÿ®ÿÆÿ™Ÿäÿßÿ±Ÿä"],br:["Latn",["EU"],"brezhoneg"],brh:["Latn",["ME","AS"],"Br√°hu√≠"],brx:["Deva",["AS"],"‡§¨‡§°‡§º‡•ã"],bs:["Latn",["EU"],"bosanski"],bto:["Latn",["AS"],"Iriga Bicolano"],bug:["Bugi",["AS"],"·®Ö·®î ·®ï·®ò·®Å·®ó"],bxr:["Cyrl",["AS"],"–±—É—Ä—è–∞–¥"],ca:["Latn",["EU"],"catal√†"],"cbk-zam":["Latn",["AS"],"Chavacano de Zamboanga"],cdo:["Latn",["AS"],"M√¨ng-dƒïÃ§ng-ng·π≥ÃÑ"],ce:["Cyrl",["EU"],"–Ω–æ—Ö—á–∏–π–Ω"],ceb:["Latn",["AS"],"Cebuano"],ch:["Latn",["PA"],"Chamoru"],cho:["Latn",["AM"],"Choctaw"],chr:["Cher",["AM"],"·è£·é≥·é©"],chy:["Latn",["AM"],"Tsets√™hest√¢hese"],ckb:["Arab",["ME"],"⁄©Ÿàÿ±ÿØ€å"],co:["Latn",["EU"],"corsu"],cps:["Latn",["AS"],"Capice√±o"],cr:["Cans",["AM"],"·ìÄ·ê¶·êÉ·î≠·êç·êè·ê£"],"cr-cans":["cr"],"cr-latn":["Latn",["AM"],"Nƒìhiyawƒìwin"],crh:["Latn",["EU"],"qƒ±rƒ±mtatarca"],"crh-cyrl":["Cyrl",["EU"],"–∫—ä—ã—Ä—ã–º—Ç–∞—Ç–∞—Ä–¥–∂–∞"],"crh-latn":["crh"],cs:["Latn",["EU"],"ƒçesky"],csb:["Latn",["EU"],"kasz√´bsczi"],cu:["Cyrl",["EU"],"—Å–ª–æ–≤—£–Ω—å—Å–∫—ä / ‚∞î‚∞é‚∞ë‚∞Ç‚∞°‚∞ê‚∞†‚∞î‚∞ç‚∞ü"],cv:["Cyrl",["EU"],"–ß”ë–≤–∞—à–ª–∞"],cy:["Latn",["EU"],"Cymraeg"],da:["Latn",["EU"],"dansk"],"de-at":["Latn",["EU"],"√ñsterreichisches Deutsch"],"de-ch":["Latn",["EU"],"Schweizer Hochdeutsch"],"de-formal":["Latn",["EU"],"Deutsch (Sie-Form)"],de:["Latn",["EU"],"Deutsch"],diq:["Latn",["EU","AS"],"Zazaki"],dsb:["Latn",["EU"],"dolnoserbski"],dtp:["Latn",["AS"],"Dusun Bundu-liwan"],dv:["Thaa",["AS"],"ﬁãﬁ®ﬁàﬁ¨ﬁÄﬁ®ﬁÑﬁ¶ﬁêﬁ∞"],dz:["Tibt",["AS"],"‡Ωá‡Ωº‡ΩÑ‡ºã‡ΩÅ"],ee:["Latn",["AF"],"e ãegbe"],egl:["Latn",["EU"],"Emili√†n"],el:["Grek",["EU"],"ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨"],eml:["Latn",["EU"],"emili√†n e rumagn√≤l"],"en-ca":["Latn",["AM"],"Canadian English"],"en-gb":["Latn",["EU","AS","PA"],"British English"],en:["Latn",["EU","AM","AF","ME","AS","PA","WW"],"English"],eo:["Latn",["WW"],"Esperanto"],"es-419":["Latn",["AM"],"espa√±ol de America Latina"],"es-formal":["Latn",["EU","AM","AF","WW"],"espa√±ol (formal)"],es:["Latn",["EU","AM","AF","WW"],"espa√±ol"],esu:["Latn",["AM"],"Yup'ik"],et:["Latn",["EU"],"eesti"],eu:["Latn",["EU"],"euskara"],ext:["Latn",["EU"],"estreme√±u"],fa:["Arab",["ME"],"ŸÅÿßÿ±ÿ≥€å"],ff:["Latn",["AF"],"Fulfulde"],fi:["Latn",["EU"],"suomi"],fil:["tl"],fit:["Latn",["EU"],"me√§nkieli"],"fiu-vro":["vro"],fj:["Latn",["PA"],"Na Vosa Vakaviti"],fo:["Latn",["EU"],"f√∏royskt"],fr:["Latn",["EU","AM","WW"],"fran√ßais"],frc:["Latn",["AM"],"fran√ßais cadien"],frp:["Latn",["EU"],"arpetan"],frr:["Latn",["EU"],"Nordfriisk"],fur:["Latn",["EU"],"furlan"],fy:["Latn",["EU"],"Frysk"],ga:["Latn",["EU"],"Gaeilge"],gag:["Latn",["EU"],"Gagauz"],gah:["Latn",["AS"],"Alekano"],"gan-hans":["Hans",["AS"],"Ëµ£ËØ≠ÔºàÁÆÄ‰ΩìÔºâ"],"gan-hant":["gan"],gan:["Hant",["AS"],"Ë¥õË™û"],gbz:["Latn",["AS"],"Dari"],gcf:["Latn",["AM"],"Guadeloupean Creole French"],gd:["Latn",["EU"],"G√†idhlig"],gl:["Latn",["EU"],"galego"],glk:["Arab",["ME"],"⁄Ø€åŸÑ⁄©€å"],gn:["Latn",["AM"],"Ava√±e'·∫Ω"],gom:["Deva",["AS"],"‡§ï‡•ã‡§Ç‡§ï‡§£‡•Ä"],"gom-deva":["gom"],"gom-latn":["Latn",["AS"],"Konknni"],got:["Goth",["EU"],"êå≤êåøêçÑêåπêçÉêå∫"],grc:["Grek",["EU"],"·ºàœÅœáŒ±ŒØŒ± ·ºëŒªŒªŒ∑ŒΩŒπŒ∫·Ω¥"],gsw:["Latn",["EU"],"Alemannisch"],gu:["Gujr",["AS"],"‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä"],guc:["Latn",["AM"],"Way√∫u"],gur:["Latn",["AF"],"Guren…õ"],gv:["Latn",["EU"],"Gaelg"],"ha-arab":["Arab",["AF"],"ŸáŸéŸàŸèÿ≥Ÿé"],"ha-latn":["Latn",["AF"],"Hausa"],ha:["ha-latn"],hak:["Latn",["AS"],"Hak-k√¢-fa"],haw:["Latn",["AM","PA"],"Hawai`i"],he:["Hebr",["ME"],"◊¢◊ë◊®◊ô◊™"],hi:["Deva",["AS"],"‡§π‡§ø‡§®‡•ç‡§¶‡•Ä"],hif:["Latn",["PA","AS"],"Fiji Hindi"],"hif-deva":["Deva",["AS"],"‡§´‡§º‡•Ä‡§ú‡•Ä ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä"],"hif-latn":["hif"],hil:["Latn",["AS"],"Ilonggo"],hne:["Deva",["AS"],"‡§õ‡§§‡•ç‡§§‡•Ä‡§∏‡§ó‡§¢‡§º‡•Ä"],ho:["Latn",["PA"],"Hiri Motu"],hr:["Latn",["EU"],"hrvatski"],hsb:["Latn",["EU"],"hornjoserbsce"],hsn:["Hans",["AS"],"ÊπòËØ≠"],ht:["Latn",["AM"],"Krey√≤l ayisyen"],"hu-formal":["Latn",["EU"],"Magyar (mag√°z√≥)"],hu:["Latn",["EU"],"magyar"],hy:["Armn",["EU","ME"],"’Ä’°’µ’•÷Ä’•’∂"],hz:["Latn",["AF"],"Otsiherero"],ia:["Latn",["WW"],"interlingua"],id:["Latn",["AS"],"Bahasa Indonesia"],ie:["Latn",["WW"],"Interlingue"],ig:["Latn",["AF"],"Igbo"],ii:["Yiii",["AS"],"ÍÜáÍâô"],ik:["Latn",["AM"],"I√±upiak"],"ike-cans":["Cans",["AM"],"·êÉ·ìÑ·íÉ·ëé·ëê·ë¶"],"ike-latn":["Latn",["AM"],"inuktitut"],ilo:["Latn",["AS"],"Ilokano"],inh:["Cyrl",["EU"],"–ì”Ä–∞–ª–≥”Ä–∞–π"],io:["Latn",["WW"],"Ido"],is:["Latn",["EU"],"√≠slenska"],it:["Latn",["EU"],"italiano"],iu:["Cans",["AM"],"·êÉ·ìÑ·íÉ·ëé·ëê·ë¶"],ja:["Jpan",["AS"],"Êó•Êú¨Ë™û"],jam:["Latn",["AM"],"Patois"],jbo:["Latn",["WW"],"lojban"],jut:["Latn",["EU"],"jysk"],jv:["Latn",["AS","PA"],"Basa Jawa"],"jv-java":["Java",["AS","PA"],"Í¶ßÍ¶±Í¶óÍ¶Æ"],ka:["Geor",["EU"],"·É•·Éê·É†·Éó·É£·Éö·Éò"],kaa:["Latn",["AS"],"Qaraqalpaqsha"],kab:["Latn",["AF","EU"],"Taqbaylit"],"kbd-cyrl":["kbd"],"kbd-latn":["Latn",["EU"],"Qabardjaj…ôbza"],kbd:["Cyrl",["EU","ME"],"–ê–¥—ã–≥—ç–±–∑—ç"],kea:["Latn",["AF"],"Kabuverdianu"],kg:["Latn",["AF"],"Kongo"],kgp:["Latn",["AM"],"Kaing√°ng"],khw:["Arab",["ME","AS"],"⁄©⁄æŸàÿßÿ±"],ki:["Latn",["AF"],"Gƒ©k≈©y≈©"],kiu:["Latn",["EU","ME"],"Kƒ±rmancki"],kj:["Latn",["AF"],"Kwanyama"],kk:["kk-cyrl"],"kk-arab":["Arab",["EU","AS"],"ŸÇÿßÿ≤ÿßŸÇÿ¥ÿß (ÿ™Ÿ∂ÿ™€ï)"],"kk-cn":["kk-arab"],"kk-cyrl":["Cyrl",["EU","AS"],"“õ–∞–∑–∞“õ—à–∞"],"kk-kz":["kk-cyrl"],"kk-latn":["Latn",["EU","AS","ME"],"qazaq≈üa"],"kk-tr":["kk-latn"],kl:["Latn",["AM","EU"],"kalaallisut"],km:["Khmr",["AS"],"·ûó·û∂·ûü·û∂·ûÅ·üí·ûò·üÇ·ûö"],kn:["Knda",["AS"],"‡≤ï‡≤®‡≥ç‡≤®‡≤°"],"ko-kp":["Kore",["AS"],"ÌïúÍµ≠Ïñ¥ (Ï°∞ÏÑ†)"],ko:["Kore",["AS"],"ÌïúÍµ≠Ïñ¥"],koi:["Cyrl",["EU"],"–ü–µ—Ä–µ–º –ö–æ–º–∏"],kr:["Latn",["AF"],"Kanuri"],krc:["Cyrl",["EU"],"–∫—ä–∞—Ä–∞—á–∞–π-–º–∞–ª–∫—ä–∞—Ä"],kri:["Latn",["AF"],"Krio"],krj:["Latn",["ME","EU"],"Kinaray-a"],krl:["Latn",["EU"],"Karjala"],"ks-arab":["Arab",["AS"],"⁄©Ÿ≤ÿ¥Ÿèÿ±"],"ks-deva":["Deva",["AS"],"‡§ï‡•â‡§∂‡•Å‡§∞"],ks:["Arab",["AS"],"⁄©Ÿ≤ÿ¥Ÿèÿ±"],ksf:["Latn",["AF"],"Bafia"],ksh:["Latn",["EU"],"Ripoarisch"],ku:["ku-latn"],"ku-arab":["Arab",["EU","ME"],"ŸÉŸàÿ±ÿØŸä"],"ku-latn":["Latn",["EU","ME"],"Kurd√Æ"],kv:["Cyrl",["EU"],"–∫–æ–º–∏"],kw:["Latn",["EU"],"kernowek"],ky:["Cyrl",["AS"],"–ö—ã—Ä–≥—ã–∑—á–∞"],la:["Latn",["EU"],"Latina"],lad:["lad-latn"],"lad-latn":["Latn",["ME","EU","AM"],"Ladino"],"lad-hebr":["Hebr",["ME","EU","AM"],"◊ú◊ê◊ì◊ô◊†◊ï"],lb:["Latn",["EU"],"L√´tzebuergesch"],lbe:["Cyrl",["EU"],"–ª–∞–∫–∫—É"],lez:["Cyrl",["EU"],"–ª–µ–∑–≥–∏"],lfn:["Latn",["WW"],"Lingua Franca Nova"],lg:["Latn",["AF"],"Luganda"],li:["Latn",["EU"],"Limburgs"],lij:["Latn",["EU"],"Ligure"],liv:["Latn",["EU"],"Lƒ´v√µ kƒìƒº"],lld:["Latn",["EU"],"Ladin"],lmo:["Latn",["EU"],"lumbaart"],ln:["Latn",["AF"],"ling√°la"],lo:["Laoo",["AS"],"‡∫•‡∫≤‡∫ß"],loz:["Latn",["AF"],"Silozi"],lt:["Latn",["EU"],"lietuvi≈≥"],lrc:["Arab",["AS"],"ŸÑŸàÿ±€å"],ltg:["Latn",["EU"],"latgaƒºu"],lus:["Latn",["AS"],"Mizo ≈£awng"],lut:["Latn",["AM"],"dx ∑l…ô≈°ucid"],lv:["Latn",["EU"],"latvie≈°u"],lzh:["Hant",["AS"],"ÊñáË®Ä"],lzz:["Latn",["EU","ME"],"Lazuri"],mai:["Deva",["AS"],"‡§Æ‡•à‡§•‡§ø‡§≤‡•Ä"],"map-bms":["Latn",["AS"],"Basa Banyumasan"],mdf:["Cyrl",["EU"],"–º–æ–∫—à–µ–Ω—å"],mfe:["Latn",["AM"],"Morisyen"],mg:["Latn",["AF"],"Malagasy"],mh:["Latn",["PA"],"Ebon"],mhr:["Cyrl",["EU"],"–æ–ª—ã–∫ –º–∞—Ä–∏–π"],mi:["Latn",["PA"],"MƒÅori"],mic:["Latn",["AM"],"Mi'kmaq"],min:["Latn",["AS"],"Baso Minangkabau"],mk:["Cyrl",["EU"],"–º–∞–∫–µ–¥–æ–Ω—Å–∫–∏"],ml:["Mlym",["AS","ME"],"‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç"],mn:["Cyrl",["AS"],"–º–æ–Ω–≥–æ–ª"],mnc:["Mong",["AS"],"·†Æ·††·†®·†µ·°† ·°§·°≥·†∞·°†·†®"],mni:["Beng",["AS"],"‡¶Æ‡ßá‡¶á‡¶§‡ßá‡¶á ‡¶≤‡ßã‡¶®‡ßç"],mnw:["Mymr",["AS"],"·Äò·Ä¨·Äû·Ä¨ ·Äô·Äî·Ä∫"],mo:["Cyrl",["EU"],"–º–æ–ª–¥–æ–≤–µ–Ω—è—Å–∫—ç"],mr:["Deva",["AS","ME"],"‡§Æ‡§∞‡§æ‡§†‡•Ä"],mrj:["Cyrl",["EU"],"–∫—ã—Ä—ã–∫ –º–∞—Ä—ã"],ms:["Latn",["AS"],"Bahasa Melayu"],mt:["Latn",["EU"],"Malti"],mui:["Latn",["AS"],"Musi"],mus:["Latn",["AM"],"Mvskoke"],mwl:["Latn",["EU"],"Mirand√©s"],mwv:["Latn",["AS"],"Behase Mentawei"],my:["Mymr",["AS"],"·Äô·Äº·Äî·Ä∫·Äô·Ä¨·Äò·Ä¨·Äû·Ä¨"],myv:["Cyrl",["EU"],"—ç—Ä–∑—è–Ω—å"],mzn:["Arab",["ME","AS"],"ŸÖÿßÿ≤Ÿêÿ±ŸàŸÜ€å"],na:["Latn",["PA"],"Dorerin Naoero"],nah:["Latn",["AM"],"NƒÅhuatl"],nan:["Latn",["AS"],"B√¢n-l√¢m-g√∫"],nap:["Latn",["EU"],"Nnapulitano"],nb:["Latn",["EU"],"norsk (bokm√•l)"],"nds-nl":["Latn",["EU"],"Nedersaksisch"],nds:["Latn",["EU"],"Plattd√º√ºtsch"],ne:["Deva",["AS"],"‡§®‡•á‡§™‡§æ‡§≤‡•Ä"],"new":["Deva",["AS"],"‡§®‡•á‡§™‡§æ‡§≤ ‡§≠‡§æ‡§∑‡§æ"],ng:["Latn",["AF"],"Oshiwambo"],niu:["Latn",["PA"],"ko e vagahau Niuƒì"],njo:["Latn",["AS"],"Ao"],"nl-informal":["Latn",["EU","AM"],"Nederlands (informeel)"],nl:["Latn",["EU","AM"],"Nederlands"],nn:["Latn",["EU"],"norsk (nynorsk)"],no:["Latn",["EU"],"norsk"],nov:["Latn",["WW"],"Novial"],nqo:["Nkoo",["AF"],"ﬂíﬂûﬂè"],nrm:["Latn",["EU"],"Nouormand"],nso:["Latn",["AF"],"Sesotho sa Leboa"],nv:["Latn",["AM"],"Din√© bizaad"],ny:["Latn",["AF"],"Chi-Chewa"],oc:["Latn",["EU"],"occitan"],om:["Latn",["AF"],"Oromoo"],or:["Orya",["AS"],"‡¨ì‡¨°‡¨º‡¨ø‡¨Ü"],os:["Cyrl",["EU"],"–ò—Ä–æ–Ω"],ota:["Latn",["AS","EU"],"Ottoman Turkish"],pa:["pa-guru"],"pa-guru":["Guru",["AS"],"‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä"],pag:["Latn",["AS"],"Pangasinan"],pam:["Latn",["AS"],"Kapampangan"],pap:["Latn",["AM"],"Papiamentu"],pcd:["Latn",["EU"],"Picard"],pdc:["Latn",["EU","AM"],"Deitsch"],pdt:["Latn",["EU","AM"],"Plautdietsch"],pfl:["Latn",["EU"],"P√§lzisch"],pi:["Deva",["AS"],"‡§™‡§æ‡§≤‡§ø"],pih:["Latn",["PA"],"Norfuk / Pitkern"],pis:["Latn",["PA"],"Pijin"],pko:["Latn",["AF"],"P√∂koot"],pl:["Latn",["EU"],"polski"],pms:["Latn",["EU"],"Piemont√®is"],pnb:["Arab",["AS","ME"],"ŸæŸÜÿ¨ÿßÿ®€å"],pnt:["Grek",["EU"],"Œ†ŒøŒΩœÑŒπŒ±Œ∫Œ¨"],ppl:["Latn",["AM"],"Nawat"],prg:["Latn",["EU"],"Pr≈´siskan"],ps:["Arab",["AS","ME"],"Ÿæ⁄öÿ™Ÿà"],"pt-br":["Latn",["AM"],"portugu√™s do Brasil"],pt:["Latn",["EU","AM","AS","PA","AF","WW"],"portugu√™s"],qu:["Latn",["AM"],"Runa Simi"],qug:["Latn",["AM"],"Runa shimi"],rap:["Latn",["AM"],"arero rapa nui"],rgn:["Latn",["EU"],"Rumagn√¥l"],rif:["Latn",["AF"],"Tarifit"],rki:["Mymr",["AS"],"·Äõ·ÄÅ·Ä≠·ÄØ·ÄÑ·Ä∫"],rm:["Latn",["EU"],"rumantsch"],rmf:["Latn",["EU"],"kaalengo t≈°imb"],rmy:["Latn",["EU"],"Romani"],rn:["Latn",["AF"],"Kirundi"],ro:["Latn",["EU"],"rom√¢nƒÉ"],"roa-rup":["rup"],"roa-tara":["Latn",["EU"],"tarand√≠ne"],rtm:["Latn",["PA"],"Faeag Rotuma"],ru:["Cyrl",["EU","AS","ME"],"—Ä—É—Å—Å–∫–∏–π"],rue:["Cyrl",["EU"],"—Ä—É—Å–∏–Ω—å—Å–∫—ã–π"],rup:["Latn",["EU"],"Arm√£neashce"],ruq:["Cyrl",["EU"],"–í–ª–∞—Ö–µ—Å—Ç–µ"],"ruq-cyrl":["ruq"],"ruq-grek":["Grek",["EU"],"Megleno-Romanian (Greek script)"],"ruq-latn":["Latn",["EU"],"VlƒÉhe≈üte"],rw:["Latn",["AF"],"Kinyarwanda"],rwr:["Deva",["AS"],"‡§Æ‡§æ‡§∞‡§µ‡§æ‡§°‡§º‡•Ä"],ryu:["Kana",["AS"]," îucinƒÅguci"],sa:["Deva",["AS"],"‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§‡§Æ‡•ç"],sah:["Cyrl",["EU","AS"],"—Å–∞—Ö–∞ —Ç—ã–ª–∞"],sat:["Latn",["AS"],"Santali"],saz:["Saur",["AS"],"Í¢±Í£ÉÍ¢¨Í¢µÍ¢ØÍ£ÑÍ¢°Í£ÑÍ¢¨Í¢µ"],sc:["Latn",["EU"],"sardu"],scn:["Latn",["EU"],"sicilianu"],sco:["Latn",["EU"],"Scots"],sd:["Arab",["AS"],"ÿ≥ŸÜ⁄åŸä"],sdc:["Latn",["EU"],"Sassaresu"],se:["Latn",["EU"],"s√°megiella"],ses:["Latn",["AF"],"Koyraboro Senni"],sei:["Latn",["AM"],"Cmique Itom"],sg:["Latn",["AF"],"S√§ng√∂"],sgs:["Latn",["EU"],"≈æemaitƒó≈°ka"],sh:["Latn",["EU"],"srpskohrvatski"],"shi-latn":["Latn",["AF"],"Ta≈°l·∏•iyt"],"shi-tfng":["Tfng",["AF"],"‚µú‚¥∞‚µõ‚µç‚µÉ‚µâ‚µú"],shi:["shi-latn"],shn:["Mymr",["AS"],"·Äú·Ä≠·Åµ·Ä∫·Çà·Äê·ÇÜ·Ä∏"],si:["Sinh",["AS"],"‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω"],simple:["Latn",["WW"],"Simple English"],sk:["Latn",["EU"],"slovenƒçina"],sl:["Latn",["EU"],"sloven≈°ƒçina"],sli:["Latn",["EU"],"Schl√§sch"],slr:["Latn",["AS"],"Salƒ±r√ßa"],sly:["Latn",["AS"],"Bahasa Selayar"],syc:["Syrc",["ME"],"‹£‹ò‹™‹ù‹ù‹ê"],sm:["Latn",["PA"],"Gagana Samoa"],sma:["Latn",["EU"],"√•arjelsaemien"],smj:["Latn",["EU"],"julevs√°megiella"],smn:["Latn",["EU"],"anar√¢≈°kiel√¢"],sms:["Latn",["EU"],"s√§√§¬¥m«©i√µll"],sn:["Latn",["AF"],"chiShona"],so:["Latn",["AF"],"Soomaaliga"],sq:["Latn",["EU"],"shqip"],sr:["sr-cyrl"],"sr-ec":["sr-cyrl"],"sr-cyrl":["Cyrl",["EU"],"—Å—Ä–ø—Å–∫–∏"],"sr-el":["sr-latn"],"sr-latn":["Latn",["EU"],"srpski"],srn:["Latn",["AM","EU"],"Sranantongo"],ss:["Latn",["AF"],"SiSwati"],st:["Latn",["AF"],"Sesotho"],stq:["Latn",["EU"],"Seeltersk"],su:["Latn",["AS"],"Basa Sunda"],sv:["Latn",["EU"],"svenska"],sw:["Latn",["AF"],"Kiswahili"],swb:["Latn",["AF"],"Shikomoro"],sxu:["Latn",["EU"],"S√§ggssch"],szl:["Latn",["EU"],"≈õl≈Ønski"],ta:["Taml",["AS"],"‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç"],tcy:["Knda",["AS"],"‡≤§‡≥Å‡≤≥‡≥Å"],te:["Telu",["AS"],"‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å"],tet:["Latn",["AS","PA"],"tetun"],"tg-cyrl":["Cyrl",["AS"],"—Ç–æ“∑–∏–∫”£"],"tg-latn":["Latn",["AS"],"tojikƒ´"],tg:["Cyrl",["AS"],"—Ç–æ“∑–∏–∫”£"],th:["Thai",["AS"],"‡πÑ‡∏ó‡∏¢"],ti:["Ethi",["AF"],"·âµ·åç·à≠·äõ"],tk:["Latn",["AS"],"T√ºrkmen√ße"],tkr:["Cyrl",["AS"],"–¶”Ä–∞—å—Ö–Ω–∞ –º–∏–∑"],tl:["Latn",["AS"],"Tagalog"],tly:["Cyrl",["EU","AS","ME"],"—Ç–æ–ª—ã—à”ô –∑—ã–≤–æ–Ω"],tn:["Latn",["AF"],"Setswana"],to:["Latn",["PA"],"lea faka-Tonga"],tokipona:["Latn",["WW"],"Toki Pona"],tpi:["Latn",["PA","AS"],"Tok Pisin"],tr:["Latn",["EU","ME"],"T√ºrk√ße"],trp:["Latn",["AS"],"Kokborok (Tripuri)"],tru:["Latn",["AS"],"·π™uroyo"],ts:["Latn",["AF"],"Xitsonga"],tsd:["Grek",["EU"],"Œ§œÉŒ±Œ∫œâŒΩŒπŒ∫Œ¨"],tt:["Cyrl",["EU"],"—Ç–∞—Ç–∞—Ä—á–∞"],"tt-cyrl":["tt"],"tt-latn":["Latn",["EU"],"tatar√ßa"],ttt:["Cyrl",["AS"],"Tati"],tum:["Latn",["AF"],"chiTumbuka"],tw:["Latn",["AF"],"Twi"],twd:["Latn",["EU"],"Tweants"],ty:["Latn",["PA"],"Reo MƒÅ`ohi"],tyv:["Cyrl",["AS"],"—Ç—ã–≤–∞ –¥—ã–ª"],tzm:["Tfng",["AF"],"‚µú‚¥∞‚µé‚¥∞‚µ£‚µâ‚µñ‚µú"],udm:["Cyrl",["EU"],"—É–¥–º—É—Ä—Ç"],ug:["ug-arab"],"ug-arab":["Arab",["AS"],"ÿ¶€áŸäÿ∫€áÿ±⁄Ü€ï"],"ug-latn":["Latn",["AS"],"uyghurche"],"ug-cyrl":["Cyrl",["AS"],"—É–π“ì—É—Ä—á”ô"],uk:["Cyrl",["EU"],"—É–∫—Ä–∞—ó–Ω—Å—å–∫–∞"],ur:["Arab",["AS","ME"],"ÿßÿ±ÿØŸà"],uz:["Latn",["AS"],"o ªzbekcha"],ve:["Latn",["AF"],"Tshivenda"],vec:["Latn",["EU"],"v√®neto"],vep:["Latn",["EU"],"veps√§n kel‚Äô"],vi:["Latn",["AS"],"Ti·∫øng Vi·ªát"],vls:["Latn",["EU"],"West-Vlams"],vmf:["Latn",["EU"],"Mainfr√§nkisch"],vo:["Latn",["WW"],"Volap√ºk"],vot:["Latn",["EU"],"Vaƒèƒèa"],vro:["Latn",["EU"],"V√µro"],wa:["Latn",["EU"],"walon"],war:["Latn",["AS"],"Winaray"],wls:["Latn",["PA"],"Faka'uvea"],wo:["Latn",["AF"],"Wolof"],wuu:["Hans",["AS"],"Âê¥ËØ≠"],xal:["Cyrl",["EU"],"—Ö–∞–ª—å–º–≥"],xh:["Latn",["AF"],"isiXhosa"],xmf:["Geor",["EU"],"·Éõ·Éê·É†·Éí·Éê·Éö·É£·É†·Éò"],ydd:["Hebr",["AS","EU"],"Eastern Yiddish"],yi:["Hebr",["ME","EU","AM"],"◊ô◊ô÷¥◊ì◊ô◊©"],yo:["Latn",["AF"],"Yor√πb√°"],yrk:["Cyrl",["AS"],"–ù–µ–Ω—ç—Ü—è º –≤–∞–¥–∞"],yrl:["Latn",["AM"],"√±e'engat√∫"],yua:["Latn",["AM"],"Maaya T'aan"],yue:["Hant",["AS"],"Á≤µË™û"],za:["Latn",["AS"],"Vahcuengh"],zea:["Latn",["EU"],"Ze√™uws"],zh:["Hans",["AS"],"‰∏≠Êñá"],"zh-classical":["Hant",["AS"],"ÊñáË®Ä"],"zh-cn":["Hans",["AS"],"‰∏≠ÊñáÔºà‰∏≠ÂõΩÂ§ßÈôÜÔºâ"],"zh-hans":["Hans",["AS"],"‰∏≠ÊñáÔºàÁÆÄ‰ΩìÔºâ"],"zh-hant":["Hant",["AS"],"‰∏≠ÊñáÔºàÁπÅÈ´îÔºâ"],"zh-hk":["Hant",["AS"],"‰∏≠ÊñáÔºàÈ¶ôÊ∏ØÔºâ"],"zh-min-nan":["nan"],"zh-mo":["Hant",["AS"],"‰∏≠ÊñáÔºàÊæ≥ÈñÄÔºâ"],"zh-my":["Hans",["AS"],"‰∏≠ÊñáÔºàÈ©¨Êù•Ë•ø‰∫öÔºâ"],"zh-sg":["Hans",["AS"],"‰∏≠ÊñáÔºàÊñ∞Âä†Âù°Ôºâ"],"zh-tw":["Hant",["AS"],"‰∏≠ÊñáÔºàÂè∞ÁÅ£Ôºâ"],"zh-yue":["yue"],zu:["Latn",["AF"],"isiZulu"]},scriptgroups:{Latin:["Latn","Goth"],Greek:["Grek"],WestCaucasian:["Armn","Geor"],Arabic:["Arab"],MiddleEastern:["Hebr","Syrc"],African:["Ethi","Nkoo","Tfng"],SouthAsian:["Beng","Deva","Gujr","Guru","Knda","Mlym","Orya","Saur","Sinh","Taml","Telu","Tibt","Thaa"],Cyrillic:["Cyrl"],CJK:["Hans","Hant","Kana","Kore","Jpan","Yiii"],SouthEastAsian:["Batk","Bugi","Java","Khmr","Laoo","Mymr","Thai"],Mongolian:["Mong"],SignWriting:["Sgnw"],NativeAmerican:["Cher","Cans"],Special:["Zyyy"]},rtlscripts:["Arab","Hebr","Syrc","Nkoo","Thaa"],regiongroups:{WW:1,SP:1,AM:2,EU:3,ME:3,AF:3,AS:4,PA:4},territories:{AC:["en"],AD:["ca","es","fr"],AE:["ar","ml","ps","bal","fa"],AF:["fa","ps","haz","uz-arab","tk-latn","prd","bal","ug-arab","kk-arab"],AG:["en","pt"],AI:["en"],AL:["sq","el","mk"],AM:["hy","az-latn","ku-latn"],AO:["pt","umb","kmb","ln"],AQ:["und"],AR:["es","cy","gn"],AS:["sm","en"],AT:["de","hr","sl","hu"],AU:["en","zh-hant","it"],AW:["nl","pap","en"],AX:["sv"],AZ:["az-latn","az-cyrl","ku-latn"],BA:["bs-cyrl","bs-latn","hr","sr-cyrl","sr-latn"],BB:["en"],BD:["bn","rkt","syl","ccp","my","grt","mni"],BE:["nl","en","fr","wa","de"],BF:["mos","dyu","fr"],BG:["bg","tr"],BH:["ar","ml"],BI:["rn","fr","sw"],BJ:["fr","fon","yo"],BL:["fr"],BM:["en"],BN:["ms-latn","zh-hant","ms-arab","en"],BO:["es","qu","ay","gn"],BQ:["pap","nl"],BR:["pt","de","it","ja","ko","kgp","gub","xav"],BS:["en"],BT:["dz","ne","tsj","lep"],BV:["und"],BW:["en","tn","af"],BY:["be","ru"],BZ:["en","es"],CA:["en","fr","it","de","cr-cans","crk","yi","iu","moe","crj","atj","crl","csw","crm","ikt","dgr","den","scs","nsk","chp","gwi"],CC:["ms-arab","en"],CD:["sw","lua","swc","fr","ln","lu","kg","lol","rw"],CF:["fr","sg","ln"],CG:["fr","ln"],CH:["de","fr","gsw","it","lmo","rm","rmo","wae"],CI:["fr","bci","sef","daf","kfo","bqv"],CK:["en"],CL:["es"],CM:["fr","en","bum","ff","ewo","ybb","bbj","nnh","bkm","bas","bax","byv","mua","maf","bfd","bss","kkj","dua","mgo","ar","jgo","ksf","agq","ha-arab","nmg","yav"],CN:["zh-hans","ii","ug-arab","za","mn-mong","bo","ko","kk-arab","lis","ky-arab","nbf","khb","tdd","lcp","en","ru","vi","uz-cyrl"],CO:["es"],CP:["und"],CR:["es"],CU:["es"],CV:["kea","pt"],CW:["pap","nl","es"],CX:["en"],CY:["el","tr","hy","ar"],CZ:["cs","de","pl"],DE:["de","en","nds","tr","hr","it","ku-latn","ru","el","ksh","pl","es","nl","da","dsb"],DG:["en"],DJ:["aa","so","ar","fr"],DK:["da","de","kl"],DM:["en"],DO:["es","en"],DZ:["ar","fr","kab"],EA:["es"],EC:["es"],EE:["et","ru"],EG:["ar","el"],EH:["ar"],ER:["ti","en","tig","ar","aa","ssy","byn"],ES:["es","en","ca","gl","eu","ast"],ET:["en","am","om","so","ti","sid","wal","aa"],FI:["fi","sv","ru","en","et","rmf","se","smn","sms"],FJ:["en","hi","fj"],FK:["en"],FM:["chk","pon","kos","yap","en","uli"],FO:["fo"],FR:["fr","en","oc","it","pt","gsw","br","co","ca","nl","eu","ia"],GA:["fr","puu"],GB:["en","sco","pa-guru","cy","bn","zh-hant","syl","el","it","ks-arab","gd","yi","ml","ga","fr","kw"],GD:["en"],GE:["ka","ru","hy","ab","os","ku-latn"],GF:["fr","gcr","zh-hant"],GG:["en"],GH:["ak","en","ee","abr","gaa","ha-latn","saf"],GI:["en"],GL:["kl","da"],GM:["en","man-latn"],GN:["fr","ff","man-nkoo","sus","kpe"],GP:["fr"],GQ:["es","fan","fr","bvb"],GR:["el","mk","tr","bg","sq"],GS:["und"],GT:["es"],GU:["en","ch"],GW:["pt"],GY:["en"],HK:["zh-hant","en","zh-hans"],HM:["und"],HN:["es","en"],HR:["hr","it"],HT:["ht","fr"],HU:["hu","de","ro","hr","sk","sl"],IC:["es"],ID:["id","jv","su","mad","ms-arab","min","bya","bjn","ban","bug","ace","bew","sas","bbc","zh-hant","mak","ljp","rej","gor","nij","kge","aoz","kvr","lbw","rob","mdr","sxn"],IE:["en","ga"],IL:["he","ar","ru","ro","yi","en","pl","hu","am","ti","ml"],IM:["en","gv"],IN:["hi","en","bn","te","mr","ta","ur","gu","kn","ml","or","pa-guru","bho","awa","as","bgc","mag","mwr","mai","hne","dcc","bjj","ne","sat","wtm","rkt","ks-arab","kok","swv","gbm","lmn","sd-arab","gon-telu","kfy","doi","kru","sck","tcy","wbq","xnr","wbr","khn","brx","noe","bhb","mni","raj","hoc","mtr","unr-beng","bhi","hoj","kha","kfr","grt","unx-beng","bfy","srx","saz","ccp","sd-deva","bfq","ria","bo","bft","bra","lep","btv","lif-deva","lah","sa","kht","dv","dz"],IO:["en"],IQ:["ar","ckb","fa","syr"],IR:["fa","az-arab","glk","ckb","tk-latn","sdh","lrc","ar","bal","rmt","bqi","luz","lki","prd","hy","ps","ka","kk-arab"],IS:["is","da"],IT:["it","en","nap","scn","fur","de","fr","sl","ca","el","hr"],JE:["en"],JM:["en"],JO:["ar"],JP:["ja","ryu","ko"],KE:["en","sw","ki","luy","luo","kam","kln","guz","mer","mas","ebu","so","dav","teo","pko","om","saq","ar","pa-guru","gu"],KG:["ky-cyrl","ru"],KH:["km","cja","kdt"],KI:["en","gil"],KM:["ar","fr","zdj"],KN:["en"],KP:["ko"],KR:["ko"],KW:["ar"],KY:["en"],KZ:["ru","kk-cyrl","de","ug-cyrl"],LA:["lo","kjg","kdt"],LB:["ar","hy","ku-arab","fr","en"],LC:["en"],LI:["de","gsw","wae"],LK:["si","ta","en"],LR:["en","kpe","vai-vaii","men","vai-latn"],LS:["st","zu","ss","en","xh"],LT:["lt","ru"],LU:["fr","lb","de"],LV:["lv","ru"],LY:["ar"],MA:["ar","zgh","fr","tzm-latn","shi-latn","shi-tfng","rif","es"],MC:["fr"],MD:["ro","uk","bg","gag","ru"],ME:["sr-latn","sq","sr-cyrl"],MF:["fr"],MG:["mg","fr","en"],MH:["en","mh"],MK:["mk","sq","tr"],ML:["bm","fr","ffm","snk","mwk","ses","tmh","khq","dtm","kao","ar","bmq","bze"],MM:["my","shn","mnw","kht"],MN:["mn-cyrl","kk-arab","zh-hans","ru","ug-cyrl"],MO:["zh-hant","pt","zh-hans","en"],MP:["en","ch"],MQ:["fr"],MR:["ar","fr","ff","wo"],MS:["en"],MT:["mt","en"],MU:["mfe","en","bho","ur","fr","ta"],MV:["dv"],MW:["en","ny","tum","zu"],MX:["es","yua","nhe","nhw","maz","nch"],MY:["ms-latn","en","zh-hant","ta","bjn","jv","zmi","ml","bug"],MZ:["pt","vmw","ndc","ts","ngl","seh","mgh","rng","ny","yao","sw","zu"],NA:["af","kj","ng","naq","en","de","tn"],NC:["fr"],NE:["ha-latn","fr","dje","fuq","tmh","ar","twq"],NF:["en"],NG:["en","pcm","ha-latn","ig","yo","fuv","tiv","efi","ibb","ha-arab","bin","kaj","kcg","ar","cch","amo"],NI:["es"],NL:["nl","en","li","fy","gos","id","zea","rif","tr"],NO:["nb","nn","se"],NP:["ne","mai","bho","new","jml","taj","awa","thl","bap","tdg","thr","mgp","lif-deva","thq","mrd","bfy","xsr","rjs","tsf","hi","ggn","gvr","bo","tkt","tdh","bn","unr-deva","lep"],NR:["en","na"],NU:["en","niu"],NZ:["en","mi"],OM:["ar","bal","fa"],PA:["es","en","zh-hant"],PE:["es","qu","ay"],PF:["fr","ty","zh-hant"],PG:["tpi","en","ho"],PH:["en","fil","es","ceb","ilo","hil","bik","war","bhk","pam","pag","mdh","tsg","zh-hant","bto","hnn","tbw","bku"],PK:["ur","pa-arab","en","lah","ps","sd-arab","skr","bal","brh","hno","fa","hnd","tg-arab","gju","bft","kvx","khw","mvy","kxp","gjk","ks-arab","btv"],PL:["pl","be","uk","csb","de","lt"],PM:["fr","en"],PN:["en"],PR:["es","en"],PS:["ar"],PT:["pt","gl"],PW:["pau","en"],PY:["gn","es","de"],QA:["ar","fa","ml"],RE:["fr","rcf","ta"],RO:["ro","hu","de","tr","sr-latn","bg","el","pl"],RS:["sr-cyrl","sr-latn","sq","hu","ro","hr","sk","uk"],RU:["ru","tt","ba","cv","hy","ce","av","udm","chm","sah","os","kbd","myv","dar","bua","mdf","kum","kv","lez","krc","inh","tyv","az-cyrl","ady","krl","koi","lbe","mrj","alt","fi","sr-latn","mn-cyrl","cu"],RW:["rw","fr","en"],SA:["ar"],SB:["en"],SC:["crs","fr","en"],SD:["ar","en","nus","ha-arab"],SE:["sv","fi","fit","se","rmu","yi","smj","sma","ia"],SG:["en","zh-hans","ms-latn","ta","ml","pa-guru"],SH:["en"],SI:["sl","hu","it"],SJ:["nb","ru"],SK:["sk","hu","uk","pl","de"],SL:["kri","en","men","tem"],SM:["it","eo"],SN:["fr","wo","ff","srr","dyo"],SO:["so","ar","sw","om"],SR:["nl","srn","zh-hant"],SS:["ar","en"],ST:["pt"],SV:["es"],SX:["en","es","vic","nl"],SY:["ar","ku-latn","fr","hy","syr"],SZ:["en","ss","zu","ts"],TA:["en"],TC:["en"],TD:["fr","ar"],TF:["fr"],TG:["fr","ee"],TH:["th","tts","nod","sou","mfa","zh-hant","kxm","kdt","mnw","shn","lcp","lwl"],TJ:["tg-cyrl","fa","ar"],TK:["en","tkl"],TL:["pt","tet"],TM:["tk-latn","ru","uz-latn","ku-latn"],TN:["ar","fr"],TO:["to","en"],TR:["tr","ku-latn","zza","kbd","az-latn","ar","bgx","bg","ady","hy","ka","sr-latn","sq","ab","el","uz-latn","ky-latn","kk-cyrl"],TT:["en","es"],TV:["tvl","en"],TW:["zh-hant","trv"],TZ:["sw","en","suk","nym","kde","bez","ksb","mas","mgy","asa","lag","jmc","rof","vun","rwk","sbp"],UA:["uk","ru","pl","yi","rue","be","ro","bg","tr","hu","el"],UG:["sw","lg","nyn","cgg","xog","en","teo","laj","ach","myx","rw","ttj","hi"],UM:["en"],US:["en","es","zh-hant","fr","de","fil","it","vi","ko","ru","nv","yi","haw","chr","lkt","ik"],UY:["es"],UZ:["uz-latn","uz-cyrl","ru","kaa","tr"],VA:["it","la"],VC:["en"],VE:["es"],VG:["en"],VI:["en"],VN:["vi","zh-hant","cjm"],VU:["bi","en","fr"],WF:["wls","fr","fud"],WS:["sm","en"],XK:["sq","sr-cyrl","sr-latn"],YE:["ar"],YT:["swb","fr","buc","sw"],ZA:["en","zu","xh","af","nso","tn","st","ts","ss","ve","hi","nr","sw"],ZM:["en","bem","ny","loz"],ZW:["en","sn","nd","mxc","ndc","kck","ny","ve","tn"],ZZ:[]}}
}(jQuery),function(a){"use strict";a.uls.data.isRedirect=function(b){return void 0!==a.uls.data.languages[b]&&1===a.uls.data.languages[b].length?a.uls.data.languages[b][0]:!1},a.uls.data.getScript=function(b){var c=a.uls.data.isRedirect(b);return c?a.uls.data.getScript(c):a.uls.data.languages[b]?a.uls.data.languages[b][0]:"Zyyy"},a.uls.data.getRegions=function(b){var c=a.uls.data.isRedirect(b);return c?a.uls.data.getRegions(c):a.uls.data.languages[b]&&a.uls.data.languages[b][1]||"UNKNOWN"},a.uls.data.getAutonym=function(b){var c=a.uls.data.isRedirect(b);return c?a.uls.data.getAutonym(c):a.uls.data.languages[b]&&a.uls.data.languages[b][2]||b},a.uls.data.getAutonyms=function(){var b,c={};for(b in a.uls.data.languages)a.uls.data.isRedirect(b)||(c[b]=a.uls.data.getAutonym(b));return c},a.uls.data.getAllRegions=function(){var b,c=[];for(b in a.uls.data.regiongroups)c.push(b);return c},a.uls.data.getLanguagesInScript=function(b){return a.uls.data.getLanguagesInScripts([b])},a.uls.data.getLanguagesInScripts=function(b){var c,d,e=[];for(c in a.uls.data.languages)if(!a.uls.data.isRedirect(c))for(d=0;d<b.length;d++)if(b[d]===a.uls.data.getScript(c)){e.push(c);break}return e},a.uls.data.getLanguagesInRegion=function(b){return a.uls.data.getLanguagesInRegions([b])},a.uls.data.getLanguagesInRegions=function(b){var c,d,e=[];for(c in a.uls.data.languages)if(!a.uls.data.isRedirect(c))for(d=0;d<b.length;d++)if(-1!==a.inArray(b[d],a.uls.data.getRegions(c))){e.push(c);break}return e},a.uls.data.getLanguagesInRegionGroup=function(b){return a.uls.data.getLanguagesInRegions(a.uls.data.getRegionsInGroup(b))},a.uls.data.getLanguagesByScriptInRegion=function(b){var c,d,e={};for(c in a.uls.data.languages)a.uls.data.isRedirect(c)||-1!==a.inArray(b,a.uls.data.getRegions(c))&&(d=a.uls.data.getScript(c),void 0===e[d]&&(e[d]=[]),e[d].push(c));return e},a.uls.data.getLanguagesByScriptGroupInRegion=function(b){return a.uls.data.getLanguagesByScriptGroupInRegions([b])},a.uls.data.getAllLanguagesByScriptGroup=function(){return a.uls.data.getLanguagesByScriptGroupInRegions(a.uls.data.getAllRegions())},a.uls.data.getLanguagesByScriptGroup=function(b){var c,d,e,f={};for(c in b)d=a.uls.data.isRedirect(c)||c,e=a.uls.data.getScriptGroupOfLanguage(d),f[e]||(f[e]=[]),-1===a.inArray(d,f[e])&&f[e].push(d);return f},a.uls.data.getLanguagesByScriptGroupInRegions=function(b){var c,d,e,f={};for(c in a.uls.data.languages)if(!a.uls.data.isRedirect(c))for(d=0;d<b.length;d++)if(-1!==a.inArray(b[d],a.uls.data.getRegions(c))){e=a.uls.data.getScriptGroupOfLanguage(c),void 0===f[e]&&(f[e]=[]),f[e].push(c);break}return f},a.uls.data.getAllLanguagesByRegionAndScript=function(){var b,c,d,e,f,g,h,i={};for(b in a.uls.data.regiongroups)c=a.uls.data.regiongroups[b],void 0===i[c]&&(i[c]={}),i[c][b]={};for(d in a.uls.data.languages)if(!a.uls.data.isRedirect(d))for(e=a.uls.data.getScript(d),f=a.uls.data.getGroupOfScript(e),g=a.uls.data.getRegions(d),h=0;h<g.length;h++)b=g[h],c=a.uls.data.regiongroups[b],void 0===i[c][b][f]&&(i[c][b][f]={}),void 0===i[c][b][f][e]&&(i[c][b][f][e]=[]),i[c][b][f][e].push(d);return i},a.uls.data.getRegionsInGroup=function(b){var c,d=[];for(c in a.uls.data.regiongroups)a.uls.data.regiongroups[c]===b&&d.push(c);return d},a.uls.data.getGroupOfScript=function(b){var c;for(c in a.uls.data.scriptgroups)if(-1!==a.inArray(b,a.uls.data.scriptgroups[c]))return c;return"Other"},a.uls.data.getScriptGroupOfLanguage=function(b){return a.uls.data.getGroupOfScript(a.uls.data.getScript(b))},a.uls.data.sortByAutonym=function(b,c){var d=a.uls.data.getAutonym(b)||b,e=a.uls.data.getAutonym(c)||c;return d.toLowerCase()<e.toLowerCase()?-1:1},a.uls.data.isRtl=function(b){return-1!==a.inArray(a.uls.data.getScript(b),a.uls.data.rtlscripts)},a.uls.data.getDir=function(b){return a.uls.data.isRtl(b)?"rtl":"ltr"},a.uls.data.getLanguagesInTerritory=function(b){return a.uls.data.territories[b]},a.uls.data.addLanguage=function(b,c){a.uls.data.languages[b]=c.target?[c.target]:[c.script,c.regions,c.autonym]},a.uls.data.deleteLanguage=function(b){return a.uls.data.languages[b]?(delete a.uls.data.languages[b],!0):!1}}(jQuery),function($){var profileCache={};$.client={profile:function(a){if(void 0===a&&(a=window.navigator),void 0!==profileCache[a.userAgent+"|"+a.platform])return profileCache[a.userAgent+"|"+a.platform];var b,c,d=a.userAgent+"|"+a.platform,e="unknown",f="x",g=["Opera","Navigator","Minefield","KHTML","Chrome","PLAYSTATION 3","Iceweasel"],h=[[/(Firefox|MSIE|KHTML,?\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"],["PLAYSTATION 3","PS3"]],i=["camino","chrome","firefox","iceweasel","netscape","netscape6","opera","version","konqueror","lynx","msie","safari","ps3","android"],j="(\\/|\\;?\\s|)([a-z0-9\\.\\+]*?)(\\;|dev|rel|\\)|\\s|$)",k=["camino","chrome","firefox","iceweasel","netscape","konqueror","lynx","msie","opera","safari","ipod","iphone","blackberry","ps3","rekonq","android"],l=[],m=["gecko","konqueror","msie","trident","edge","opera","webkit"],n=[["konqueror","khtml"],["msie","trident"],["opera","presto"]],o=["applewebkit","gecko","trident","edge"],p=["win","wow64","mac","linux","sunos","solaris","iphone"],q=[["sunos","solaris"],["wow64","win"]],r=function(a,b){var c;for(c=0;c<b.length;c++)a=a.replace(b[c][0],b[c][1]);return a},s=a.userAgent,t=e,u=e,v=e,w=e,x=f;return(c=new RegExp("("+g.join("|")+")").exec(s))&&(s=r(s,h)),s=s.toLowerCase(),(c=new RegExp("("+k.join("|")+")").exec(s))&&(t=r(c[1],l)),(c=new RegExp("("+m.join("|")+")").exec(s))&&(u=r(c[1],n)),(c=new RegExp("("+o.join("|")+")\\/(\\d+)").exec(s))&&(v=parseInt(c[2],10)),(c=new RegExp("("+p.join("|")+")").exec(a.platform.toLowerCase()))&&(w=r(c[1],q)),(c=new RegExp("("+i.join("|")+")"+j).exec(s))&&(x=c[3]),"safari"===t&&x>400&&(x="2.0"),"opera"===t&&x>=9.8&&(c=s.match(/\bversion\/([0-9\.]*)/),x=c&&c[1]?c[1]:"10"),"chrome"===t&&(c=s.match(/\bopr\/([0-9\.]*)/))&&c[1]&&(t="opera",x=c[1]),"trident"===u&&v>=7&&(c=s.match(/\brv[ :\/]([0-9\.]*)/))&&c[1]&&(t="msie",x=c[1]),"chrome"===t&&(c=s.match(/\bedge\/([0-9\.]*)/))&&(t="msie",x=c[1],u="edge",v=parseInt(c[1],10)),(c=s.match(/\bsilk\/([0-9.\-_]*)/))&&c[1]&&(t="silk",x=c[1]),b=parseFloat(x,10)||0,profileCache[d]={name:t,layout:u,layoutVersion:v,platform:w,version:x,versionBase:x!==f?Math.floor(b).toString():f,versionNumber:b}},test:function(map,profile,exactMatchOnly){var conditions,dir,i,op,val,j,pieceVersion,pieceVal,compare;if(profile=$.isPlainObject(profile)?profile:$.client.profile(),map.ltr&&map.rtl&&(dir=$("body").is(".rtl")?"rtl":"ltr",map=map[dir]),"object"!=typeof map||void 0===map[profile.name])return!exactMatchOnly;if(conditions=map[profile.name],conditions===!1)return!1;if(null===conditions)return!0;for(i=0;i<conditions.length;i++)if(op=conditions[i][0],val=conditions[i][1],"string"==typeof val){for(pieceVersion=profile.version.toString().split("."),pieceVal=val.split(".");pieceVersion.length<pieceVal.length;)pieceVersion.push("0");for(;pieceVal.length<pieceVersion.length;)pieceVal.push("0");for(compare=0,j=0;j<pieceVersion.length;j++){if(Number(pieceVersion[j])<Number(pieceVal[j])){compare=-1;break}if(Number(pieceVersion[j])>Number(pieceVal[j])){compare=1;break}}if(!eval(String(compare+op+"0")))return!1}else if("number"==typeof val&&!eval("profile.versionNumber"+op+val))return!1;return!0}}}(jQuery),function(a){"use strict";function b(a,b,c){var d,e,f,g={},h=[];for(d=0,e=b.length;e>d;d++)g[b[d]]=!0;for(d=0,e=a.length;e>d;d++)f=!!g[a[d]],f===c&&h.push(a[d]);return h}{var c={},d=c.hasOwnProperty;c.toString}c.initClass=function(a){a["static"]=a["static"]||{}},c.inheritClass=function(a,b){if(a.prototype instanceof b)throw new Error("Target already inherits from origin");var d=a.prototype.constructor;a["super"]=a.parent=b,a.prototype=Object.create(b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),c.initClass(b),a["static"]=Object.create(b["static"])},c.mixinClass=function(a,b){var e;for(e in b.prototype)"constructor"!==e&&d.call(b.prototype,e)&&(a.prototype[e]=b.prototype[e]);if(c.initClass(a),b["static"])for(e in b["static"])d.call(b["static"],e)&&(a["static"][e]=b["static"][e]);else c.initClass(b)},c.getProp=function(a){var b,c=a;for(b=1;b<arguments.length;b++){if(void 0===c||null===c)return void 0;c=c[arguments[b]]}return c},c.setProp=function(a){var b,c=a;if(Object(a)===a){for(b=1;b<arguments.length-2;b++){if(void 0===c[arguments[b]]&&(c[arguments[b]]={}),Object(c[arguments[b]])!==c[arguments[b]])return;c=c[arguments[b]]}c[arguments[arguments.length-2]]=arguments[arguments.length-1]}},c.cloneObject=function(a){var b,c;c=Object.create(a.constructor.prototype);for(b in a)d.call(a,b)&&(c[b]=a[b]);return c},c.getObjectValues=function(a){var b,c;if(a!==Object(a))throw new TypeError("Called on non-object");c=[];for(b in a)d.call(a,b)&&(c[c.length]=a[b]);return c},c.compare=function(a,b,e){var f,g,h,i,j;if(a===b)return!0;if(a=a||{},b=b||{},"number"==typeof a.nodeType&&"function"==typeof a.isEqualNode)return a.isEqualNode(b);for(j in a)if(d.call(a,j)&&void 0!==a[j]&&a[j]!==b[j]&&(f=a[j],g=b[j],h=typeof f,i=typeof g,h!==i||("string"===h||"number"===h||"boolean"===h)&&f!==g||f===Object(f)&&!c.compare(f,g,!0)))return!1;return e?!0:c.compare(b,a,!0)},c.copy=function(a,b,d){var e,f;if(d&&(f=d(a),void 0!==f))return f;if(Array.isArray(a))f=new Array(a.length);else{if(a&&"function"==typeof a.clone)return b?b(a.clone()):a.clone();if(a&&"function"==typeof a.cloneNode)return b?b(a.cloneNode(!0)):a.cloneNode(!0);if(!c.isPlainObject(a))return b?b(a):a;f={}}for(e in a)f[e]=c.copy(a[e],b,d);return f},c.getHash=function(a){return JSON.stringify(a,c.getHash.keySortReplacer)},c.getHash.keySortReplacer=function(a,b){var c,d,e,f;if(b&&"function"==typeof b.getHashObject&&(b=b.getHashObject()),Array.isArray(b)||Object(b)!==b)return b;for(c={},d=Object.keys(b).sort(),e=0,f=d.length;f>e;e+=1)c[d[e]]=b[d[e]];return c},c.unique=function(a){return a.reduce(function(a,b){return-1===a.indexOf(b)&&a.push(b),a},[])},c.simpleArrayUnion=function(){var a,b,c,d,e,f={},g=[];for(a=0,b=arguments.length;b>a;a++)for(c=arguments[a],d=0,e=c.length;e>d;d++)f[c[d]]||(f[c[d]]=!0,g.push(c[d]));return g},c.simpleArrayIntersection=function(a,c){return b(a,c,!0)},c.simpleArrayDifference=function(a,c){return b(a,c,!1)},c.isPlainObject=$.isPlainObject,function(){function a(a,b){if("string"==typeof a){if(void 0===b||null===b)throw new Error('Method name "'+a+'" has no context.');if("function"!=typeof b[a])throw new Error('Property "'+a+'" is not a function')}else if("function"!=typeof a)throw new Error("Invalid callback. Function or method name expected.")}c.EventEmitter=function(){this.bindings={}},c.initClass(c.EventEmitter),c.EventEmitter.prototype.on=function(b,c,e,f){var g;return a(c,f),g=d.call(this.bindings,b)?this.bindings[b]:this.bindings[b]=[],g.push({method:c,args:e,context:arguments.length<4?null:f}),this},c.EventEmitter.prototype.once=function(a,b){var c=this,d=function(){return c.off(a,d),b.apply(this,arguments)};return this.on(a,d)},c.EventEmitter.prototype.off=function(b,c,e){var f,g;if(1===arguments.length)return delete this.bindings[b],this;if(a(c,e),!d.call(this.bindings,b)||!this.bindings[b].length)return this;for(arguments.length<3&&(e=null),g=this.bindings[b],f=g.length;f--;)g[f].method===c&&g[f].context===e&&g.splice(f,1);return 0===g.length&&delete this.bindings[b],this},c.EventEmitter.prototype.emit=function(a){var b,c,e,f,g,h=[];if(d.call(this.bindings,a)){for(f=this.bindings[a].slice(),b=1,c=arguments.length;c>b;b++)h.push(arguments[b]);for(b=0,c=f.length;c>b;b++)e=f[b],g="string"==typeof e.method?e.context[e.method]:e.method,g.apply(e.context,e.args?e.args.concat(h):h);return!0}return!1},c.EventEmitter.prototype.connect=function(a,b){var c,d,e;for(e in b)c=b[e],Array.isArray(c)?(d=c.slice(1),c=c[0]):d=[],this.on(e,c,d,a);return this},c.EventEmitter.prototype.disconnect=function(a,b){var c,d,e;if(b)for(d in b)this.off(d,b[d],a);else for(d in this.bindings)for(e=this.bindings[d],c=e.length;c--;)e[c]&&e[c].context===a&&this.off(d,e[c].method,a);return this}}(),c.Registry=function(){c.EventEmitter.call(this),this.registry={}},c.mixinClass(c.Registry,c.EventEmitter),c.Registry.prototype.register=function(a,b){var c,d;if("string"==typeof a)this.registry[a]=b,this.emit("register",a,b);else{if(!Array.isArray(a))throw new Error("Name must be a string or array, cannot be a "+typeof a);for(c=0,d=a.length;d>c;c++)this.register(a[c],b)}},c.Registry.prototype.unregister=function(a){var b,c,d;if("string"==typeof a)d=this.lookup(a),void 0!==d&&(delete this.registry[a],this.emit("unregister",a,d));else{if(!Array.isArray(a))throw new Error("Name must be a string or array, cannot be a "+typeof a);for(b=0,c=a.length;c>b;b++)this.unregister(a[b])}},c.Registry.prototype.lookup=function(a){return d.call(this.registry,a)?this.registry[a]:void 0},c.Factory=function(){c.Factory.parent.call(this)},c.inheritClass(c.Factory,c.Registry),c.Factory.prototype.register=function(a){var b;if("function"!=typeof a)throw new Error("constructor must be a function, cannot be a "+typeof a);if(b=a["static"]&&a["static"].name,"string"!=typeof b||""===b)throw new Error("Name must be a string and must not be empty");c.Factory.parent.prototype.register.call(this,b,a)},c.Factory.prototype.unregister=function(a){var b;if("function"!=typeof a)throw new Error("constructor must be a function, cannot be a "+typeof a);if(b=a["static"]&&a["static"].name,"string"!=typeof b||""===b)throw new Error("Name must be a string and must not be empty");c.Factory.parent.prototype.unregister.call(this,b)},c.Factory.prototype.create=function(a){var b,c,d=[],e=this.lookup(a);if(!e)throw new Error("No class registered by that name: "+a);for(c=1;c<arguments.length;c++)d.push(arguments[c]);return b=Object.create(e.prototype),e.apply(b,d),b},"undefined"!=typeof module&&module.exports?module.exports=c:a.OO=c}(this),function(a){"use strict";a.ui={},a.ui.bind=$.proxy,a.ui.Keys={UNDEFINED:0,BACKSPACE:8,DELETE:46,LEFT:37,RIGHT:39,UP:38,DOWN:40,ENTER:13,END:35,HOME:36,TAB:9,PAGEUP:33,PAGEDOWN:34,ESCAPE:27,SHIFT:16,SPACE:32},a.ui.elementId=0,a.ui.generateElementId=function(){return a.ui.elementId+=1,"oojsui-"+a.ui.elementId},a.ui.isFocusableElement=function(a){var b=a[0],c=b.nodeName.toLowerCase(),d=/^(input|select|textarea|button|object)$/.test(c),e="a"===c&&b.href||!isNaN(a.attr("tabindex")),f=$.expr.filters.visible(b)&&!a.parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")}).length;return(d?!b.disabled:e)&&f},a.ui.getUserLanguages=function(){return["en"]},a.ui.getLocalValue=function(b,c,d){var e,f,g;if(b[c])return b[c];for(g=a.ui.getUserLanguages(),e=0,f=g.length;f>e;e++)if(c=g[e],b[c])return b[c];if(b[d])return b[d];for(c in b)return b[c];return void 0},a.ui.contains=function(a,b,c){var d;for(Array.isArray(a)||(a=[a]),d=a.length-1;d>=0;d--)if(c&&b===a[d]||$.contains(a[d],b))return!0;return!1},a.ui.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)};c&&!d&&a.apply(e,f),clearTimeout(d),d=setTimeout(g,b)}},a.ui.infuse=function(b){return a.ui.Element["static"].infuse(b)},function(){var b={"ooui-outline-control-move-down":"Move item down","ooui-outline-control-move-up":"Move item up","ooui-outline-control-remove":"Remove item","ooui-toolbar-more":"More","ooui-toolgroup-expand":"More","ooui-toolgroup-collapse":"Fewer","ooui-dialog-message-accept":"OK","ooui-dialog-message-reject":"Cancel","ooui-dialog-process-error":"Something went wrong","ooui-dialog-process-dismiss":"Dismiss","ooui-dialog-process-retry":"Try again","ooui-dialog-process-continue":"Continue","ooui-selectfile-not-supported":"File selection is not supported","ooui-selectfile-placeholder":"No file is selected","ooui-semicolon-separator":"; "};a.ui.msg=function(a){var c=b[a],d=Array.prototype.slice.call(arguments,1);return c="string"==typeof c?c.replace(/\$(\d+)/g,function(a,b){var c=parseInt(b,10);return void 0!==d[c-1]?d[c-1]:"$"+b}):"["+a+"]"},a.ui.deferMsg=function(){var b=arguments;return function(){return a.ui.msg.apply(a.ui,b)}},a.ui.resolveMsg=function(a){return $.isFunction(a)?a():a}}(),a.ui.mixin={},a.ui.mixin.PendingElement=function(a){a=a||{},this.pending=0,this.$pending=null,this.setPendingElement(a.$pending||this.$element)},a.initClass(a.ui.mixin.PendingElement),a.ui.mixin.PendingElement.prototype.setPendingElement=function(a){this.$pending&&this.$pending.removeClass("oo-ui-pendingElement-pending"),this.$pending=a,this.pending>0&&this.$pending.addClass("oo-ui-pendingElement-pending")},a.ui.mixin.PendingElement.prototype.isPending=function(){return!!this.pending},a.ui.mixin.PendingElement.prototype.pushPending=function(){return 0===this.pending&&(this.$pending.addClass("oo-ui-pendingElement-pending"),this.updateThemeClasses()),this.pending++,this},a.ui.mixin.PendingElement.prototype.popPending=function(){return 1===this.pending&&(this.$pending.removeClass("oo-ui-pendingElement-pending"),this.updateThemeClasses()),this.pending=Math.max(0,this.pending-1),this},a.ui.ActionSet=function(b){b=b||{},a.EventEmitter.call(this),this.list=[],this.categories={actions:"getAction",flags:"getFlags",modes:"getModes"},this.categorized={},this.special={},this.others=[],this.organized=!1,this.changing=!1,this.changed=!1},a.mixinClass(a.ui.ActionSet,a.EventEmitter),a.ui.ActionSet["static"].specialFlags=["safe","primary"],a.ui.ActionSet.prototype.onActionChange=function(){this.organized=!1,this.changing?this.changed=!0:this.emit("change")},a.ui.ActionSet.prototype.isSpecial=function(a){var b;for(b in this.special)if(a===this.special[b])return!0;return!1},a.ui.ActionSet.prototype.get=function(a){var b,c,d,e,f,g,h,i;if(a){this.organize(),i=[];for(e in this.categorized)if(d=a[e])for(Array.isArray(d)||(d=[d]),b=0,c=d.length;c>b;b++)f=this.categorized[e][d[b]],Array.isArray(f)&&i.push.apply(i,f);for(b=0,c=i.length;c>b;b++)h=i[b],(void 0!==a.visible&&h.isVisible()!==a.visible||void 0!==a.disabled&&h.isDisabled()!==a.disabled)&&(i.splice(b,1),c--,b--);for(b=0,c=i.length;c>b;b++)for(h=i[b],g=i.lastIndexOf(h);g!==b;)i.splice(g,1),c--,g=i.lastIndexOf(h);return i}return this.list.slice()},a.ui.ActionSet.prototype.getSpecial=function(){return this.organize(),$.extend({},this.special)},a.ui.ActionSet.prototype.getOthers=function(){return this.organize(),this.others.slice()},a.ui.ActionSet.prototype.setMode=function(a){var b,c,d;for(this.changing=!0,b=0,c=this.list.length;c>b;b++)d=this.list[b],d.toggle(d.hasMode(a));return this.organized=!1,this.changing=!1,this.emit("change"),this},a.ui.ActionSet.prototype.setAbilities=function(a){var b,c,d,e;for(b=0,c=this.list.length;c>b;b++)e=this.list[b],d=e.getAction(),void 0!==a[d]&&e.setDisabled(!a[d]);return this},a.ui.ActionSet.prototype.forEach=function(a,b){return this.changed=!1,this.changing=!0,this.get(a).forEach(b),this.changing=!1,this.changed&&this.emit("change"),this},a.ui.ActionSet.prototype.add=function(a){var b,c,d;for(this.changing=!0,b=0,c=a.length;c>b;b++)d=a[b],d.connect(this,{click:["emit","click",d],resize:["emit","resize",d],toggle:["onActionChange"]}),this.list.push(d);return this.organized=!1,this.emit("add",a),this.changing=!1,this.emit("change"),this},a.ui.ActionSet.prototype.remove=function(a){var b,c,d,e;for(this.changing=!0,b=0,c=a.length;c>b;b++)e=a[b],d=this.list.indexOf(e),-1!==d&&(e.disconnect(this),this.list.splice(d,1));return this.organized=!1,this.emit("remove",a),this.changing=!1,this.emit("change"),this},a.ui.ActionSet.prototype.clear=function(){var a,b,c,d=this.list.slice();for(this.changing=!0,a=0,b=this.list.length;b>a;a++)c=this.list[a],c.disconnect(this);return this.list=[],this.organized=!1,this.emit("remove",d),this.changing=!1,this.emit("change"),this},a.ui.ActionSet.prototype.organize=function(){var a,b,c,d,e,f,g,h,i,j,k=this.constructor["static"].specialFlags;if(!this.organized){for(this.categorized={},this.special={},this.others=[],a=0,b=this.list.length;b>a;a++)if(f=this.list[a],f.isVisible()){for(g in this.categories)for(this.categorized[g]||(this.categorized[g]={}),h=f[this.categories[g]](),Array.isArray(h)||(h=[h]),c=0,d=h.length;d>c;c++)i=h[c],this.categorized[g][i]||(this.categorized[g][i]=[]),this.categorized[g][i].push(f);for(j=!1,c=0,d=k.length;d>c;c++)if(e=k[c],!this.special[e]&&f.hasFlag(e)){this.special[e]=f,j=!0;break}j||this.others.push(f)}this.organized=!0}return this},a.ui.Element=function(b){b=b||{},this.$=$,this.visible=!0,this.data=b.data,this.$element=b.$element||$(document.createElement(this.getTagName())),this.elementGroup=null,this.debouncedUpdateThemeClassesHandler=this.debouncedUpdateThemeClasses.bind(this),this.updateThemeClassesPending=!1,Array.isArray(b.classes)&&this.$element.addClass(b.classes.join(" ")),b.id&&this.$element.attr("id",b.id),b.text&&this.$element.text(b.text),b.content&&this.$element.append(b.content.map(function(b){return"string"==typeof b?document.createTextNode(b):b instanceof a.ui.HtmlSnippet?b.toString():b instanceof a.ui.Element?b.$element:b})),b.$content&&this.$element.append(b.$content)},a.initClass(a.ui.Element),a.ui.Element["static"].tagName="div",a.ui.Element["static"].infuse=function(b){var c=a.ui.Element["static"].unsafeInfuse(b,!0);return c},a.ui.Element["static"].unsafeInfuse=function(b,c){var d,e,f,g,h;if("string"==typeof b?(d=b,e=$(document.getElementById(d))):(e=$(b),d=e.attr("id")),f=e.data("ooui-infused")){if(f===!0)throw new Error("Circular dependency! "+d);return f}if(!e.length)throw new Error("Widget not found: "+d);if(f=e.attr("data-ooui"),!f)throw new Error("No infusion data found: "+d);try{f=$.parseJSON(f)}catch(i){f=null}if(!f||!f._)throw new Error("No valid infusion data found: "+d);if("Tag"===f._)return new a.ui.Element({$element:e});if(g=a.ui[f._],!g)throw new Error("Unknown widget type: "+d);return e.data("ooui-infused",!0),f.id=d,f=a.copy(f,null,function(b){if(a.isPlainObject(b)){if(b.tag)return a.ui.Element["static"].unsafeInfuse(b.tag,!1);if(b.html)return new a.ui.HtmlSnippet(b.html)}}),h=new g(f),c&&e.replaceWith(h.$element),h.$element.data("ooui-infused",h),h.$element.attr("data-ooui",""),h},a.ui.Element["static"].getJQuery=function(a,b){function c(a){return $(a,c.context)}return c.context=this.getDocument(a),b&&(c.$iframe=b),c},a.ui.Element["static"].getDocument=function(a){return a[0]&&a[0].ownerDocument||a.context||a.ownerDocument||a.document||9===a.nodeType&&a||null},a.ui.Element["static"].getWindow=function(a){var b=this.getDocument(a);return b.parentWindow||b.defaultView},a.ui.Element["static"].getDir=function(a){var b,c;return a instanceof jQuery&&(a=a[0]),b=9===a.nodeType,c=void 0!==a.document,(b||c)&&(c&&(a=a.document),a=a.body),$(a).css("direction")},a.ui.Element["static"].getFrameOffset=function(a,b,c){var d,e,f,g,h;if(b||(b=window),c||(c={top:0,left:0}),a.parent===a)return c;for(f=a.parent.document.getElementsByTagName("iframe"),d=0,e=f.length;e>d;d++)if(f[d].contentWindow===a){g=f[d];break}return g&&(h=g.getBoundingClientRect(),c.left+=h.left,c.top+=h.top,a!==b&&this.getFrameOffset(a.parent,c)),c},a.ui.Element["static"].getRelativePosition=function(a,b){for(var c,d,e=a.offset(),f=b.offset(),g=this.getDocument(a),h=this.getDocument(b);g!==h;){if(c=g.defaultView.frameElement,!c)throw new Error("$element frame is not contained in $anchor frame");d=$(c).offset(),e.left+=d.left,e.top+=d.top,g=c.ownerDocument}return e.left-=f.left,e.top-=f.top,e},a.ui.Element["static"].getBorders=function(a){var b=a.ownerDocument,c=b.parentWindow||b.defaultView,d=c&&c.getComputedStyle?c.getComputedStyle(a,null):a.currentStyle,e=$(a),f=parseFloat(d?d.borderTopWidth:e.css("borderTopWidth"))||0,g=parseFloat(d?d.borderLeftWidth:e.css("borderLeftWidth"))||0,h=parseFloat(d?d.borderBottomWidth:e.css("borderBottomWidth"))||0,i=parseFloat(d?d.borderRightWidth:e.css("borderRightWidth"))||0;return{top:f,left:g,bottom:h,right:i}},a.ui.Element["static"].getDimensions=function(a){var b,c,d=a.ownerDocument||a.document,e=d.parentWindow||d.defaultView;return e===a||a===d.documentElement?(c=$(e),{borders:{top:0,left:0,bottom:0,right:0},scroll:{top:c.scrollTop(),left:c.scrollLeft()},scrollbar:{right:0,bottom:0},rect:{top:0,left:0,bottom:c.innerHeight(),right:c.innerWidth()}}):(b=$(a),{borders:this.getBorders(a),scroll:{top:b.scrollTop(),left:b.scrollLeft()},scrollbar:{right:b.innerWidth()-a.clientWidth,bottom:b.innerHeight()-a.clientHeight},rect:a.getBoundingClientRect()})},a.ui.Element["static"].getRootScrollableElement=function(b){var c,d;return void 0===a.ui.scrollableElement&&(d=b.ownerDocument.body,c=d.scrollTop,d.scrollTop=1,1===d.scrollTop?(d.scrollTop=c,a.ui.scrollableElement="body"):a.ui.scrollableElement="documentElement"),b.ownerDocument[a.ui.scrollableElement]},a.ui.Element["static"].getClosestScrollableContainer=function(a,b){var c,d,e=["overflow"],f=$(a).parent();for(("x"===b||"y"===b)&&e.push("overflow-"+b);f.length;){if(f[0]===this.getRootScrollableElement(a))return f[0];for(c=e.length;c--;)if(d=f.css(e[c]),"auto"===d||"scroll"===d)return f[0];f=f.parent()}return this.getDocument(a).body},a.ui.Element["static"].scrollIntoView=function(a,b){b=b||{};var c,d={},e="function"==typeof b.complete&&b.complete,f=this.getClosestScrollableContainer(a,b.direction),g=$(f),h=this.getDimensions(a),i=this.getDimensions(f),j=$(this.getWindow(a));c=g.is("html, body")?{top:h.rect.top,bottom:j.innerHeight()-h.rect.bottom,left:h.rect.left,right:j.innerWidth()-h.rect.right}:{top:h.rect.top-(i.rect.top+i.borders.top),bottom:i.rect.bottom-i.borders.bottom-i.scrollbar.bottom-h.rect.bottom,left:h.rect.left-(i.rect.left+i.borders.left),right:i.rect.right-i.borders.right-i.scrollbar.right-h.rect.right},b.direction&&"y"!==b.direction||(c.top<0?d.scrollTop=i.scroll.top+c.top:c.top>0&&c.bottom<0&&(d.scrollTop=i.scroll.top+Math.min(c.top,-c.bottom))),b.direction&&"x"!==b.direction||(c.left<0?d.scrollLeft=i.scroll.left+c.left:c.left>0&&c.right<0&&(d.scrollLeft=i.scroll.left+Math.min(c.left,-c.right))),$.isEmptyObject(d)?e&&e():(g.stop(!0).animate(d,b.duration||"fast"),e&&g.queue(function(a){e(),a()}))},a.ui.Element["static"].reconsiderScrollbars=function(a){var b,c,d,e,f=[];for(d=a.scrollLeft,e=a.scrollTop;a.firstChild;)f.push(a.firstChild),a.removeChild(a.firstChild);for(void a.offsetHeight,b=0,c=f.length;c>b;b++)a.appendChild(f[b]);a.scrollLeft=d,a.scrollTop=e},a.ui.Element.prototype.toggle=function(a){return a=void 0===a?!this.visible:!!a,a!==this.isVisible()&&(this.visible=a,this.$element.toggleClass("oo-ui-element-hidden",!this.visible),this.emit("toggle",a)),this},a.ui.Element.prototype.isVisible=function(){return this.visible},a.ui.Element.prototype.getData=function(){return this.data},a.ui.Element.prototype.setData=function(a){return this.data=a,this},a.ui.Element.prototype.supports=function(a){var b,c,d=0;for(a=Array.isArray(a)?a:[a],b=0,c=a.length;c>b;b++)$.isFunction(this[a[b]])&&d++;return a.length===d},a.ui.Element.prototype.updateThemeClasses=function(){this.updateThemeClassesPending||(this.updateThemeClassesPending=!0,setTimeout(this.debouncedUpdateThemeClassesHandler))},a.ui.Element.prototype.debouncedUpdateThemeClasses=function(){a.ui.theme.updateElementClasses(this),this.updateThemeClassesPending=!1},a.ui.Element.prototype.getTagName=function(){return this.constructor["static"].tagName},a.ui.Element.prototype.isElementAttached=function(){return $.contains(this.getElementDocument(),this.$element[0])},a.ui.Element.prototype.getElementDocument=function(){return a.ui.Element["static"].getDocument(this.$element)},a.ui.Element.prototype.getElementWindow=function(){return a.ui.Element["static"].getWindow(this.$element)},a.ui.Element.prototype.getClosestScrollableElementContainer=function(){return a.ui.Element["static"].getClosestScrollableContainer(this.$element[0])},a.ui.Element.prototype.getElementGroup=function(){return this.elementGroup},a.ui.Element.prototype.setElementGroup=function(a){return this.elementGroup=a,this},a.ui.Element.prototype.scrollElementIntoView=function(b){return a.ui.Element["static"].scrollIntoView(this.$element[0],b)},a.ui.Layout=function(b){b=b||{},a.ui.Layout.parent.call(this,b),a.EventEmitter.call(this),this.$element.addClass("oo-ui-layout")},a.inheritClass(a.ui.Layout,a.ui.Element),a.mixinClass(a.ui.Layout,a.EventEmitter),a.ui.Widget=function(b){b=$.extend({disabled:!1},b),a.ui.Widget.parent.call(this,b),a.EventEmitter.call(this),this.disabled=null,this.wasDisabled=null,this.$element.addClass("oo-ui-widget"),this.setDisabled(!!b.disabled)},a.inheritClass(a.ui.Widget,a.ui.Element),a.mixinClass(a.ui.Widget,a.EventEmitter),a.ui.Widget["static"].supportsSimpleLabel=!1,a.ui.Widget.prototype.isDisabled=function(){return this.disabled},a.ui.Widget.prototype.setDisabled=function(a){var b;return this.disabled=!!a,b=this.isDisabled(),b!==this.wasDisabled&&(this.$element.toggleClass("oo-ui-widget-disabled",b),this.$element.toggleClass("oo-ui-widget-enabled",!b),this.$element.attr("aria-disabled",b.toString()),this.emit("disable",b),this.updateThemeClasses()),this.wasDisabled=b,this},a.ui.Widget.prototype.updateDisabled=function(){return this.setDisabled(this.disabled),this},a.ui.Window=function(b){b=b||{},a.ui.Window.parent.call(this,b),a.EventEmitter.call(this),this.manager=null,this.size=b.size||this.constructor["static"].size,this.$frame=$("<div>"),this.$overlay=$("<div>"),this.$content=$("<div>"),this.$overlay.addClass("oo-ui-window-overlay"),this.$content.addClass("oo-ui-window-content").attr("tabindex",0),this.$frame.addClass("oo-ui-window-frame").append(this.$content),this.$element.addClass("oo-ui-window").append(this.$frame,this.$overlay),this.visible=!1,this.$element.addClass("oo-ui-element-hidden")},a.inheritClass(a.ui.Window,a.ui.Element),a.mixinClass(a.ui.Window,a.EventEmitter),a.ui.Window["static"].size="medium",a.ui.Window.prototype.onMouseDown=function(a){return a.target===this.$element[0]?!1:void 0},a.ui.Window.prototype.isInitialized=function(){return!!this.manager},a.ui.Window.prototype.isVisible=function(){return this.visible},a.ui.Window.prototype.isOpening=function(){return this.manager.isOpening(this)},a.ui.Window.prototype.isClosing=function(){return this.manager.isClosing(this)},a.ui.Window.prototype.isOpened=function(){return this.manager.isOpened(this)},a.ui.Window.prototype.getManager=function(){return this.manager},a.ui.Window.prototype.getSize=function(){return this.size},a.ui.Window.prototype.withoutSizeTransitions=function(a){var b,c=this.$frame[0].style;b=c.transition||c.OTransition||c.MsTransition||c.MozTransition||c.WebkitTransition,c.transition=c.OTransition=c.MsTransition=c.MozTransition=c.WebkitTransition="none",a(),this.$frame.height(),c.transition=c.OTransition=c.MsTransition=c.MozTransition=c.WebkitTransition=b},a.ui.Window.prototype.getContentHeight=function(){var a,b=this,c=this.$body[0].style,d=this.$frame[0].style;return this.withoutSizeTransitions(function(){var e=d.height,f=c.position;d.height="1px",c.position="relative",a=b.getBodyHeight(),d.height=e,c.position=f}),this.$frame.outerHeight()-this.$frame.innerHeight()+(this.$head.outerHeight(!0)+a+this.$foot.outerHeight(!0))},a.ui.Window.prototype.getBodyHeight=function(){return this.$body[0].scrollHeight},a.ui.Window.prototype.getDir=function(){return this.dir},a.ui.Window.prototype.getSetupProcess=function(){return new a.ui.Process},a.ui.Window.prototype.getReadyProcess=function(){return new a.ui.Process},a.ui.Window.prototype.getHoldProcess=function(){return new a.ui.Process},a.ui.Window.prototype.getTeardownProcess=function(){return new a.ui.Process},a.ui.Window.prototype.setManager=function(a){if(this.manager)throw new Error("Cannot set window manager, window already has a manager");return this.manager=a,this.initialize(),this},a.ui.Window.prototype.setSize=function(a){return this.size=a,this.updateSize(),this},a.ui.Window.prototype.updateSize=function(){if(!this.manager)throw new Error("Cannot update window size, must be attached to a manager");return this.manager.updateWindowSize(this),this
},a.ui.Window.prototype.setDimensions=function(a){var b,c=this,d=this.$frame[0].style;return void 0===a.height?this.withoutSizeTransitions(function(){var e=d.width;c.$frame.css("width",a.width||""),b=c.getContentHeight(),d.width=e}):b=a.height,this.$frame.css({width:a.width||"",minWidth:a.minWidth||"",maxWidth:a.maxWidth||"",height:b||"",minHeight:a.minHeight||"",maxHeight:a.maxHeight||""}),this},a.ui.Window.prototype.initialize=function(){if(!this.manager)throw new Error("Cannot initialize window, must be attached to a manager");return this.$head=$("<div>"),this.$body=$("<div>"),this.$foot=$("<div>"),this.dir=a.ui.Element["static"].getDir(this.$content)||"ltr",this.$document=$(this.getElementDocument()),this.$element.on("mousedown",this.onMouseDown.bind(this)),this.$head.addClass("oo-ui-window-head"),this.$body.addClass("oo-ui-window-body"),this.$foot.addClass("oo-ui-window-foot"),this.$content.append(this.$head,this.$body,this.$foot),this},a.ui.Window.prototype.open=function(a){if(!this.manager)throw new Error("Cannot open window, must be attached to a manager");return this.manager.openWindow(this,a)},a.ui.Window.prototype.close=function(a){if(!this.manager)throw new Error("Cannot close window, must be attached to a manager");return this.manager.closeWindow(this,a)},a.ui.Window.prototype.setup=function(a){var b=this,c=$.Deferred();return this.toggle(!0),this.getSetupProcess(a).execute().done(function(){b.$element.addClass("oo-ui-window-active oo-ui-window-setup").width(),b.$content.addClass("oo-ui-window-content-setup").width(),c.resolve()}),c.promise()},a.ui.Window.prototype.ready=function(a){var b=this,c=$.Deferred();return this.$content.focus(),this.getReadyProcess(a).execute().done(function(){b.$element.addClass("oo-ui-window-ready").width(),b.$content.addClass("oo-ui-window-content-ready").width(),c.resolve()}),c.promise()},a.ui.Window.prototype.hold=function(b){var c=this,d=$.Deferred();return this.getHoldProcess(b).execute().done(function(){var b=c.$content.find(a.ui.Element["static"].getDocument(c.$content).activeElement);b.length&&b[0].blur(),c.$element.removeClass("oo-ui-window-ready").width(),c.$content.removeClass("oo-ui-window-content-ready").width(),d.resolve()}),d.promise()},a.ui.Window.prototype.teardown=function(a){var b=this;return this.getTeardownProcess(a).execute().done(function(){b.$element.removeClass("oo-ui-window-active oo-ui-window-setup").width(),b.$content.removeClass("oo-ui-window-content-setup").width(),b.toggle(!1)})},a.ui.Dialog=function(b){a.ui.Dialog.parent.call(this,b),a.ui.mixin.PendingElement.call(this),this.actions=new a.ui.ActionSet,this.attachedActions=[],this.currentAction=null,this.onDocumentKeyDownHandler=this.onDocumentKeyDown.bind(this),this.actions.connect(this,{click:"onActionClick",resize:"onActionResize",change:"onActionsChange"}),this.$element.addClass("oo-ui-dialog").attr("role","dialog")},a.inheritClass(a.ui.Dialog,a.ui.Window),a.mixinClass(a.ui.Dialog,a.ui.mixin.PendingElement),a.ui.Dialog["static"].name="",a.ui.Dialog["static"].title="",a.ui.Dialog["static"].actions=[],a.ui.Dialog["static"].escapable=!0,a.ui.Dialog.prototype.onDocumentKeyDown=function(b){b.which===a.ui.Keys.ESCAPE&&(this.close(),b.preventDefault(),b.stopPropagation())},a.ui.Dialog.prototype.onActionResize=function(){},a.ui.Dialog.prototype.onActionClick=function(a){this.isPending()||this.executeAction(a.getAction())},a.ui.Dialog.prototype.onActionsChange=function(){this.detachActions(),this.isClosing()||this.attachActions()},a.ui.Dialog.prototype.getActions=function(){return this.actions},a.ui.Dialog.prototype.getActionProcess=function(b){return(new a.ui.Process).next(function(){b||this.close()},this)},a.ui.Dialog.prototype.getSetupProcess=function(b){return b=b||{},a.ui.Dialog.parent.prototype.getSetupProcess.call(this,b).next(function(){var a=this.constructor["static"],c=void 0!==b.actions?b.actions:a.actions;this.title.setLabel(void 0!==b.title?b.title:this.constructor["static"].title),this.actions.add(this.getActionWidgets(c)),this.constructor["static"].escapable&&this.$document.on("keydown",this.onDocumentKeyDownHandler)},this)},a.ui.Dialog.prototype.getTeardownProcess=function(b){return a.ui.Dialog.parent.prototype.getTeardownProcess.call(this,b).first(function(){this.constructor["static"].escapable&&this.$document.off("keydown",this.onDocumentKeyDownHandler),this.actions.clear(),this.currentAction=null},this)},a.ui.Dialog.prototype.initialize=function(){a.ui.Dialog.parent.prototype.initialize.call(this);var b=a.ui.generateElementId();this.title=new a.ui.LabelWidget({id:b}),this.$content.addClass("oo-ui-dialog-content"),this.$element.attr("aria-labelledby",b),this.setPendingElement(this.$head)},a.ui.Dialog.prototype.getActionWidgets=function(b){var c,d,e=[];for(c=0,d=b.length;d>c;c++)e.push(new a.ui.ActionWidget(b[c]));return e},a.ui.Dialog.prototype.attachActions=function(){this.attachedActions=this.actions.get()},a.ui.Dialog.prototype.detachActions=function(){var a,b;for(a=0,b=this.attachedActions.length;b>a;a++)this.attachedActions[a].$element.detach();this.attachedActions=[]},a.ui.Dialog.prototype.executeAction=function(a){return this.pushPending(),this.currentAction=a,this.getActionProcess(a).execute().always(this.popPending.bind(this))},a.ui.WindowManager=function(b){b=b||{},a.ui.WindowManager.parent.call(this,b),a.EventEmitter.call(this),this.factory=b.factory,this.modal=void 0===b.modal||!!b.modal,this.windows={},this.opening=null,this.opened=null,this.closing=null,this.preparingToOpen=null,this.preparingToClose=null,this.currentWindow=null,this.globalEvents=!1,this.$ariaHidden=null,this.onWindowResizeTimeout=null,this.onWindowResizeHandler=this.onWindowResize.bind(this),this.afterWindowResizeHandler=this.afterWindowResize.bind(this),this.$element.addClass("oo-ui-windowManager").toggleClass("oo-ui-windowManager-modal",this.modal)},a.inheritClass(a.ui.WindowManager,a.ui.Element),a.mixinClass(a.ui.WindowManager,a.EventEmitter),a.ui.WindowManager["static"].sizes={small:{width:300},medium:{width:500},large:{width:700},larger:{width:900},full:{width:"100%",height:"100%"}},a.ui.WindowManager["static"].defaultSize="medium",a.ui.WindowManager.prototype.onWindowResize=function(){clearTimeout(this.onWindowResizeTimeout),this.onWindowResizeTimeout=setTimeout(this.afterWindowResizeHandler,200)},a.ui.WindowManager.prototype.afterWindowResize=function(){this.currentWindow&&this.updateWindowSize(this.currentWindow)},a.ui.WindowManager.prototype.isOpening=function(a){return a===this.currentWindow&&!!this.opening&&"pending"===this.opening.state()},a.ui.WindowManager.prototype.isClosing=function(a){return a===this.currentWindow&&!!this.closing&&"pending"===this.closing.state()},a.ui.WindowManager.prototype.isOpened=function(a){return a===this.currentWindow&&!!this.opened&&"pending"===this.opened.state()},a.ui.WindowManager.prototype.hasWindow=function(a){var b;for(b in this.windows)if(this.windows[b]===a)return!0;return!1},a.ui.WindowManager.prototype.getSetupDelay=function(){return 0},a.ui.WindowManager.prototype.getReadyDelay=function(){return 0},a.ui.WindowManager.prototype.getHoldDelay=function(){return 0},a.ui.WindowManager.prototype.getTeardownDelay=function(){return this.modal?250:0},a.ui.WindowManager.prototype.getWindow=function(b){var c=$.Deferred(),d=this.windows[b];return d instanceof a.ui.Window?c.resolve(d):this.factory?this.factory.lookup(b)?(d=this.factory.create(b),this.addWindows([d]),c.resolve(d)):c.reject(new a.ui.Error("Cannot auto-instantiate window: symbolic name is unrecognized by the factory")):c.reject(new a.ui.Error("Cannot get unmanaged window: symbolic name unrecognized as a managed window")),c.promise()},a.ui.WindowManager.prototype.getCurrentWindow=function(){return this.currentWindow},a.ui.WindowManager.prototype.openWindow=function(b,c){var d=this,e=$.Deferred();return"string"==typeof b?this.getWindow(b).then(function(a){return d.openWindow(a,c)}):(this.hasWindow(b)?(this.preparingToOpen||this.opening||this.opened)&&e.reject(new a.ui.Error("Cannot open window: another window is opening or open")):e.reject(new a.ui.Error("Cannot open window: window is not attached to manager")),"rejected"!==e.state()&&(this.preparingToOpen=$.when(this.closing),this.preparingToOpen.done(function(){d.modal&&(d.toggleGlobalEvents(!0),d.toggleAriaIsolation(!0)),d.currentWindow=b,d.opening=e,d.preparingToOpen=null,d.emit("opening",b,e,c),setTimeout(function(){b.setup(c).then(function(){d.updateWindowSize(b),d.opening.notify({state:"setup"}),setTimeout(function(){b.ready(c).then(function(){d.opening.notify({state:"ready"}),d.opening=null,d.opened=$.Deferred(),e.resolve(d.opened.promise(),c)})},d.getReadyDelay())})},d.getSetupDelay())})),e.promise())},a.ui.WindowManager.prototype.closeWindow=function(b,c){var d,e=this,f=$.Deferred();return"string"==typeof b?b=this.windows[b]:this.hasWindow(b)||(b=null),b?b!==this.currentWindow?f.reject(new a.ui.Error("Cannot close window: window already closed with different data")):(this.preparingToClose||this.closing)&&f.reject(new a.ui.Error("Cannot close window: window already closing with different data")):f.reject(new a.ui.Error("Cannot close window: window is not attached to manager")),"rejected"!==f.state()&&(this.preparingToClose=$.when(this.opening),this.preparingToClose.done(function(){e.closing=f,e.preparingToClose=null,e.emit("closing",b,f,c),d=e.opened,e.opened=null,d.resolve(f.promise(),c),setTimeout(function(){b.hold(c).then(function(){f.notify({state:"hold"}),setTimeout(function(){b.teardown(c).then(function(){f.notify({state:"teardown"}),e.modal&&(e.toggleGlobalEvents(!1),e.toggleAriaIsolation(!1)),e.closing=null,e.currentWindow=null,f.resolve(c)})},e.getTeardownDelay())})},e.getHoldDelay())})),f.promise()},a.ui.WindowManager.prototype.addWindows=function(b){var c,d,e,f,g;if(Array.isArray(b))for(g={},c=0,d=b.length;d>c;c++){if(f=b[c].constructor["static"].name,"string"!=typeof f)throw new Error("Cannot add window");g[f]=b[c]}else a.isPlainObject(b)&&(g=b);for(f in g)e=g[f],this.windows[f]=e.toggle(!1),this.$element.append(e.$element),e.setManager(this)},a.ui.WindowManager.prototype.removeWindows=function(a){var b,c,d,e,f,g=this,h=[],i=function(a,b){delete g.windows[a],b.$element.detach()};for(b=0,c=a.length;c>b;b++){if(e=a[b],d=this.windows[e],!d)throw new Error("Cannot remove window");f=i.bind(null,e,d),h.push(this.closeWindow(e).then(f,f))}return $.when.apply($,h)},a.ui.WindowManager.prototype.clearWindows=function(){return this.removeWindows(Object.keys(this.windows))},a.ui.WindowManager.prototype.updateWindowSize=function(b){if(b===this.currentWindow){var c=a.ui.Element["static"].getDimensions(b.getElementWindow()),d=this.constructor["static"].sizes,e=b.getSize();return d[e]||(e=this.constructor["static"].defaultSize),"full"!==e&&c.rect.right-c.rect.left<d[e].width&&(e="full"),this.$element.toggleClass("oo-ui-windowManager-fullscreen","full"===e),this.$element.toggleClass("oo-ui-windowManager-floating","full"!==e),b.setDimensions(d[e]),this.emit("resize",b),this}},a.ui.WindowManager.prototype.toggleGlobalEvents=function(a){a=void 0===a?!!this.globalEvents:!!a;var b,c,d=$(this.getElementDocument().body),e=d.data("windowManagerGlobalEvents")||0;return a?this.globalEvents||($(this.getElementWindow()).on({"orientationchange resize":this.onWindowResizeHandler}),0===e&&(b=window.innerWidth-document.documentElement.clientWidth,c=parseFloat(d.css("margin-right"))||0,d.css({overflow:"hidden","margin-right":c+b})),e++,this.globalEvents=!0):this.globalEvents&&($(this.getElementWindow()).off({"orientationchange resize":this.onWindowResizeHandler}),e--,0===e&&d.css({overflow:"","margin-right":""}),this.globalEvents=!1),d.data("windowManagerGlobalEvents",e),this},a.ui.WindowManager.prototype.toggleAriaIsolation=function(a){return a=void 0===a?!this.$ariaHidden:!!a,a?this.$ariaHidden||(this.$ariaHidden=$("body").children().not(this.$element.parentsUntil("body").last()).attr("aria-hidden","")):this.$ariaHidden&&(this.$ariaHidden.removeAttr("aria-hidden"),this.$ariaHidden=null),this},a.ui.WindowManager.prototype.destroy=function(){this.toggleGlobalEvents(!1),this.toggleAriaIsolation(!1),this.clearWindows(),this.$element.remove()},a.ui.Error=function(b,c){a.isPlainObject(b)&&void 0===c&&(c=b,b=c.message),c=c||{},this.message=b instanceof jQuery?b:String(b),this.recoverable=void 0===c.recoverable||!!c.recoverable,this.warning=!!c.warning},a.initClass(a.ui.Error),a.ui.Error.prototype.isRecoverable=function(){return this.recoverable},a.ui.Error.prototype.isWarning=function(){return this.warning},a.ui.Error.prototype.getMessage=function(){return this.message instanceof jQuery?this.message.clone():$("<div>").text(this.message).contents()},a.ui.Error.prototype.getMessageText=function(){return this.message instanceof jQuery?this.message.text():this.message},a.ui.HtmlSnippet=function(a){this.content=a},a.initClass(a.ui.HtmlSnippet),a.ui.HtmlSnippet.prototype.toString=function(){return this.content},a.ui.Process=function(a,b){this.steps=[],void 0!==a&&this.next(a,b)},a.initClass(a.ui.Process),a.ui.Process.prototype.execute=function(){function b(b){return function(){var c,d=b.callback.call(b.context);if(d===!1)return $.Deferred().reject([]).promise();if("number"==typeof d){if(0>d)throw new Error("Cannot go back in time: flux capacitor is out of service");return c=$.Deferred(),setTimeout(c.resolve,d),c.promise()}return d instanceof a.ui.Error?$.Deferred().reject([d]).promise():Array.isArray(d)&&d.length&&d[0]instanceof a.ui.Error?$.Deferred().reject(d).promise():d&&$.isFunction(d.promise)?d.promise():$.Deferred().resolve().promise()}}var c,d,e;if(this.steps.length)for(e=b(this.steps[0])(),c=1,d=this.steps.length;d>c;c++)e=e.then(b(this.steps[c]));else e=$.Deferred().resolve().promise();return e},a.ui.Process.prototype.createStep=function(a,b){if("number"==typeof a||$.isFunction(a.promise))return{callback:function(){return a},context:null};if($.isFunction(a))return{callback:a,context:b};throw new Error("Cannot create process step: number, promise or function expected")},a.ui.Process.prototype.first=function(a,b){return this.steps.unshift(this.createStep(a,b)),this},a.ui.Process.prototype.next=function(a,b){return this.steps.push(this.createStep(a,b)),this},a.ui.ToolFactory=function(){a.ui.ToolFactory.parent.call(this)},a.inheritClass(a.ui.ToolFactory,a.Factory),a.ui.ToolFactory.prototype.getTools=function(b,c,d,e){var f,g,h,i,j,k=[],l={};for(h=a.simpleArrayDifference(this.extract(b),this.extract(c)),i=this.extract(d,l),j=this.extract(e,l),f=0,g=h.length;g>f;f++)l[h[f]]||k.push(h[f]);return i.concat(k).concat(j)},a.ui.ToolFactory.prototype.extract=function(b,c){var d,e,f,g,h,i=[];if("*"===b)for(g in this.registry)h=this.registry[g],!h["static"].autoAddToCatchall||c&&c[g]||(i.push(g),c&&(c[g]=!0));else if(Array.isArray(b))for(d=0,e=b.length;e>d;d++)if(f=b[d],"string"==typeof f&&(f={name:f}),a.isPlainObject(f))if(f.group)for(g in this.registry)h=this.registry[g],h["static"].group!==f.group||!h["static"].autoAddToGroup||c&&c[g]||(i.push(g),c&&(c[g]=!0));else!f.name||c&&c[f.name]||(i.push(f.name),c&&(c[f.name]=!0));return i},a.ui.ToolGroupFactory=function(){a.Factory.call(this);var b,c,d=this.constructor["static"].getDefaultClasses();for(b=0,c=d.length;c>b;b++)this.register(d[b])},a.inheritClass(a.ui.ToolGroupFactory,a.Factory),a.ui.ToolGroupFactory["static"].getDefaultClasses=function(){return[a.ui.BarToolGroup,a.ui.ListToolGroup,a.ui.MenuToolGroup]},a.ui.Theme=function(a){a=a||{}},a.initClass(a.ui.Theme),a.ui.Theme.prototype.getElementClasses=function(){return{on:[],off:[]}},a.ui.Theme.prototype.updateElementClasses=function(a){var b=this.getElementClasses(a);a.$element.removeClass(b.off.join(" ")).addClass(b.on.join(" "))},a.ui.mixin.TabIndexedElement=function(a){a=$.extend({tabIndex:0},a),this.$tabIndexed=null,this.tabIndex=null,this.connect(this,{disable:"onTabIndexedElementDisable"}),this.setTabIndex(a.tabIndex),this.setTabIndexedElement(a.$tabIndexed||this.$element)},a.initClass(a.ui.mixin.TabIndexedElement),a.ui.mixin.TabIndexedElement.prototype.setTabIndexedElement=function(a){var b=this.tabIndex;return this.setTabIndex(null),this.$tabIndexed=a,this.tabIndex=b,this.updateTabIndex()},a.ui.mixin.TabIndexedElement.prototype.setTabIndex=function(a){return a="number"==typeof a?a:null,this.tabIndex!==a&&(this.tabIndex=a,this.updateTabIndex()),this},a.ui.mixin.TabIndexedElement.prototype.updateTabIndex=function(){return this.$tabIndexed&&(null!==this.tabIndex?this.$tabIndexed.attr({tabindex:this.isDisabled()?-1:this.tabIndex,"aria-disabled":this.isDisabled().toString()}):this.$tabIndexed.removeAttr("tabindex aria-disabled")),this},a.ui.mixin.TabIndexedElement.prototype.onTabIndexedElementDisable=function(){this.updateTabIndex()},a.ui.mixin.TabIndexedElement.prototype.getTabIndex=function(){return this.tabIndex},a.ui.mixin.ButtonElement=function(a){a=a||{},this.$button=null,this.framed=null,this.accessKey=null,this.active=!1,this.onMouseUpHandler=this.onMouseUp.bind(this),this.onMouseDownHandler=this.onMouseDown.bind(this),this.onKeyDownHandler=this.onKeyDown.bind(this),this.onKeyUpHandler=this.onKeyUp.bind(this),this.onClickHandler=this.onClick.bind(this),this.onKeyPressHandler=this.onKeyPress.bind(this),this.$element.addClass("oo-ui-buttonElement"),this.toggleFramed(void 0===a.framed||a.framed),this.setAccessKey(a.accessKey),this.setButtonElement(a.$button||$("<a>"))},a.initClass(a.ui.mixin.ButtonElement),a.ui.mixin.ButtonElement["static"].cancelButtonMouseDownEvents=!0,a.ui.mixin.ButtonElement.prototype.setButtonElement=function(a){this.$button&&this.$button.removeClass("oo-ui-buttonElement-button").removeAttr("role accesskey").off({mousedown:this.onMouseDownHandler,keydown:this.onKeyDownHandler,click:this.onClickHandler,keypress:this.onKeyPressHandler}),this.$button=a.addClass("oo-ui-buttonElement-button").attr({role:"button",accesskey:this.accessKey}).on({mousedown:this.onMouseDownHandler,keydown:this.onKeyDownHandler,click:this.onClickHandler,keypress:this.onKeyPressHandler})},a.ui.mixin.ButtonElement.prototype.onMouseDown=function(a){return this.isDisabled()||1!==a.which?void 0:(this.$element.addClass("oo-ui-buttonElement-pressed"),this.getElementDocument().addEventListener("mouseup",this.onMouseUpHandler,!0),this.constructor["static"].cancelButtonMouseDownEvents?!1:void 0)},a.ui.mixin.ButtonElement.prototype.onMouseUp=function(a){this.isDisabled()||1!==a.which||(this.$element.removeClass("oo-ui-buttonElement-pressed"),this.getElementDocument().removeEventListener("mouseup",this.onMouseUpHandler,!0))},a.ui.mixin.ButtonElement.prototype.onClick=function(a){return!this.isDisabled()&&1===a.which&&this.emit("click")?!1:void 0},a.ui.mixin.ButtonElement.prototype.onKeyDown=function(b){this.isDisabled()||b.which!==a.ui.Keys.SPACE&&b.which!==a.ui.Keys.ENTER||(this.$element.addClass("oo-ui-buttonElement-pressed"),this.getElementDocument().addEventListener("keyup",this.onKeyUpHandler,!0))},a.ui.mixin.ButtonElement.prototype.onKeyUp=function(b){this.isDisabled()||b.which!==a.ui.Keys.SPACE&&b.which!==a.ui.Keys.ENTER||(this.$element.removeClass("oo-ui-buttonElement-pressed"),this.getElementDocument().removeEventListener("keyup",this.onKeyUpHandler,!0))},a.ui.mixin.ButtonElement.prototype.onKeyPress=function(b){return this.isDisabled()||b.which!==a.ui.Keys.SPACE&&b.which!==a.ui.Keys.ENTER||!this.emit("click")?void 0:!1},a.ui.mixin.ButtonElement.prototype.isFramed=function(){return this.framed},a.ui.mixin.ButtonElement.prototype.toggleFramed=function(a){return a=void 0===a?!this.framed:!!a,a!==this.framed&&(this.framed=a,this.$element.toggleClass("oo-ui-buttonElement-frameless",!a).toggleClass("oo-ui-buttonElement-framed",a),this.updateThemeClasses()),this},a.ui.mixin.ButtonElement.prototype.setAccessKey=function(a){return a="string"==typeof a&&a.length?a:null,this.accessKey!==a&&(this.$button&&(null!==a?this.$button.attr("accesskey",a):this.$button.removeAttr("accesskey")),this.accessKey=a),this},a.ui.mixin.ButtonElement.prototype.setActive=function(a){return this.$element.toggleClass("oo-ui-buttonElement-active",!!a),this},a.ui.mixin.GroupElement=function(a){a=a||{},this.$group=null,this.items=[],this.aggregateItemEvents={},this.setGroupElement(a.$group||$("<div>"))},a.ui.mixin.GroupElement.prototype.setGroupElement=function(a){var b,c;for(this.$group=a,b=0,c=this.items.length;c>b;b++)this.$group.append(this.items[b].$element)},a.ui.mixin.GroupElement.prototype.isEmpty=function(){return!this.items.length},a.ui.mixin.GroupElement.prototype.getItems=function(){return this.items.slice(0)},a.ui.mixin.GroupElement.prototype.getItemFromData=function(b){var c,d,e,f=a.getHash(b);for(c=0,d=this.items.length;d>c;c++)if(e=this.items[c],f===a.getHash(e.getData()))return e;return null},a.ui.mixin.GroupElement.prototype.getItemsFromData=function(b){var c,d,e,f=a.getHash(b),g=[];for(c=0,d=this.items.length;d>c;c++)e=this.items[c],f===a.getHash(e.getData())&&g.push(e);return g},a.ui.mixin.GroupElement.prototype.aggregate=function(a){var b,c,d,e,f,g,h;for(g in a){if(h=a[g],Object.prototype.hasOwnProperty.call(this.aggregateItemEvents,g)){if(h)throw new Error("Duplicate item event aggregation for "+g);for(b=0,c=this.items.length;c>b;b++)d=this.items[b],d.connect&&d.disconnect&&(f={},f[g]=["emit",this.aggregateItemEvents[g],d],d.disconnect(this,f));delete this.aggregateItemEvents[g]}if(h)for(this.aggregateItemEvents[g]=h,b=0,c=this.items.length;c>b;b++)d=this.items[b],d.connect&&d.disconnect&&(e={},e[g]=["emit",h,d],d.connect(this,e))}},a.ui.mixin.GroupElement.prototype.addItems=function(a,b){var c,d,e,f,g,h,i=[];for(c=0,d=a.length;d>c;c++){if(e=a[c],h=$.inArray(e,this.items),h>=0&&(this.removeItems([e]),b>h&&b--),e.connect&&e.disconnect&&!$.isEmptyObject(this.aggregateItemEvents)){g={};for(f in this.aggregateItemEvents)g[f]=["emit",this.aggregateItemEvents[f],e];e.connect(this,g)}e.setElementGroup(this),i.push(e.$element.get(0))}return void 0===b||0>b||b>=this.items.length?(this.$group.append(i),this.items.push.apply(this.items,a)):0===b?(this.$group.prepend(i),this.items.unshift.apply(this.items,a)):(this.items[b].$element.before(i),this.items.splice.apply(this.items,[b,0].concat(a))),this},a.ui.mixin.GroupElement.prototype.removeItems=function(a){var b,c,d,e,f,g;for(b=0,c=a.length;c>b;b++)d=a[b],e=$.inArray(d,this.items),-1!==e&&(d.connect&&d.disconnect&&!$.isEmptyObject(this.aggregateItemEvents)&&(f={},Object.prototype.hasOwnProperty.call(this.aggregateItemEvents,g)&&(f[g]=["emit",this.aggregateItemEvents[g],d]),d.disconnect(this,f)),d.setElementGroup(null),this.items.splice(e,1),d.$element.detach());return this},a.ui.mixin.GroupElement.prototype.clearItems=function(){var a,b,c,d,e;for(a=0,b=this.items.length;b>a;a++)c=this.items[a],c.connect&&c.disconnect&&!$.isEmptyObject(this.aggregateItemEvents)&&(d={},Object.prototype.hasOwnProperty.call(this.aggregateItemEvents,e)&&(d[e]=["emit",this.aggregateItemEvents[e],c]),c.disconnect(this,d)),c.setElementGroup(null),c.$element.detach();return this.items=[],this},a.ui.mixin.DraggableElement=function(){this.index=null,this.$element.attr("draggable",!0).addClass("oo-ui-draggableElement").on({dragstart:this.onDragStart.bind(this),dragover:this.onDragOver.bind(this),dragend:this.onDragEnd.bind(this),drop:this.onDrop.bind(this)})},a.initClass(a.ui.mixin.DraggableElement),a.ui.mixin.DraggableElement["static"].cancelButtonMouseDownEvents=!1,a.ui.mixin.DraggableElement.prototype.onDragStart=function(a){var b=a.originalEvent.dataTransfer;b.dropEffect="none",b.effectAllowed="move";try{b.setData("application-x/OOjs-UI-draggable",this.getIndex())}catch(c){}return this.$element.addClass("oo-ui-draggableElement-dragging"),this.emit("dragstart",this),!0},a.ui.mixin.DraggableElement.prototype.onDragEnd=function(){this.$element.removeClass("oo-ui-draggableElement-dragging"),this.emit("dragend")},a.ui.mixin.DraggableElement.prototype.onDrop=function(a){a.preventDefault(),this.emit("drop",a)},a.ui.mixin.DraggableElement.prototype.onDragOver=function(a){a.preventDefault()},a.ui.mixin.DraggableElement.prototype.setIndex=function(a){this.index!==a&&(this.index=a,this.$element.data("index",a))},a.ui.mixin.DraggableElement.prototype.getIndex=function(){return this.index},a.ui.mixin.DraggableGroupElement=function(b){b=b||{},a.ui.mixin.GroupElement.call(this,b),this.orientation=b.orientation||"vertical",this.dragItem=null,this.itemDragOver=null,this.itemKeys={},this.sideInsertion="",this.aggregate({dragstart:"itemDragStart",dragend:"itemDragEnd",drop:"itemDrop"}),this.connect(this,{itemDragStart:"onItemDragStart",itemDrop:"onItemDrop",itemDragEnd:"onItemDragEnd"}),this.$element.on({dragover:$.proxy(this.onDragOver,this),dragleave:$.proxy(this.onDragLeave,this)}),Array.isArray(b.items)&&this.addItems(b.items),this.$placeholder=$("<div>").addClass("oo-ui-draggableGroupElement-placeholder"),this.$element.addClass("oo-ui-draggableGroupElement").append(this.$status).toggleClass("oo-ui-draggableGroupElement-horizontal","horizontal"===this.orientation).prepend(this.$placeholder)},a.mixinClass(a.ui.mixin.DraggableGroupElement,a.ui.mixin.GroupElement),a.ui.mixin.DraggableGroupElement.prototype.onItemDragStart=function(a){var b,c;for(b=0,c=this.items.length;c>b;b++)this.items[b].setIndex(b);this.$placeholder.css("horizontal"===this.orientation?{height:a.$element.outerHeight(),width:2}:{height:2,width:a.$element.outerWidth()}),this.setDragItem(a)},a.ui.mixin.DraggableGroupElement.prototype.onItemDragEnd=function(){return this.unsetDragItem(),!1},a.ui.mixin.DraggableGroupElement.prototype.onItemDrop=function(a){var b=a.getIndex();return this.getDragItem()&&("after"===this.sideInsertion&&b++,this.emit("reorder",this.getDragItem(),b)),this.unsetDragItem(),!1},a.ui.mixin.DraggableGroupElement.prototype.onDragLeave=function(){this.$placeholder.css("left",0).addClass("oo-ui-element-hidden")},a.ui.mixin.DraggableGroupElement.prototype.onDragOver=function(a){var b,c,d,e,f,g,h,i,j,k,l=a.originalEvent.clientX,m=a.originalEvent.clientY;b=this.getElementDocument().elementFromPoint(l,m),c=$(b).closest(".oo-ui-draggableElement"),c[0]&&(d=c.offset(),f=c[0].getBoundingClientRect(),k=c.position(),j=c.data("index")),d&&this.isDragging()&&j!==this.getDragItem().getIndex()?("horizontal"===this.orientation?(g=f.width,e=f.left+g/2,i=l,h={left:e>i?k.left:k.left+g,top:k.top}):(g=f.height,e=f.top+g/2,i=m,h={top:e>i?k.top:k.top+g,left:k.left}),this.sideInsertion="horizontal"===this.orientation&&"rtl"===this.$element.css("direction")?e>i?"after":"before":e>i?"before":"after",this.$placeholder.css(h).removeClass("oo-ui-element-hidden")):this.$placeholder.css("left",0).addClass("oo-ui-element-hidden"),a.preventDefault()},a.ui.mixin.DraggableGroupElement.prototype.setDragItem=function(a){this.dragItem=a},a.ui.mixin.DraggableGroupElement.prototype.unsetDragItem=function(){this.dragItem=null,this.itemDragOver=null,this.$placeholder.addClass("oo-ui-element-hidden"),this.sideInsertion=""},a.ui.mixin.DraggableGroupElement.prototype.getDragItem=function(){return this.dragItem},a.ui.mixin.DraggableGroupElement.prototype.isDragging=function(){return null!==this.getDragItem()},a.ui.mixin.IconElement=function(a){a=a||{},this.$icon=null,this.icon=null,this.iconTitle=null,this.setIcon(a.icon||this.constructor["static"].icon),this.setIconTitle(a.iconTitle||this.constructor["static"].iconTitle),this.setIconElement(a.$icon||$("<span>"))},a.initClass(a.ui.mixin.IconElement),a.ui.mixin.IconElement["static"].icon=null,a.ui.mixin.IconElement["static"].iconTitle=null,a.ui.mixin.IconElement.prototype.setIconElement=function(a){this.$icon&&this.$icon.removeClass("oo-ui-iconElement-icon oo-ui-icon-"+this.icon).removeAttr("title"),this.$icon=a.addClass("oo-ui-iconElement-icon").toggleClass("oo-ui-icon-"+this.icon,!!this.icon),null!==this.iconTitle&&this.$icon.attr("title",this.iconTitle)},a.ui.mixin.IconElement.prototype.setIcon=function(b){return b=a.isPlainObject(b)?a.ui.getLocalValue(b,null,"default"):b,b="string"==typeof b&&b.trim().length?b.trim():null,this.icon!==b&&(this.$icon&&(null!==this.icon&&this.$icon.removeClass("oo-ui-icon-"+this.icon),null!==b&&this.$icon.addClass("oo-ui-icon-"+b)),this.icon=b),this.$element.toggleClass("oo-ui-iconElement",!!this.icon),this.updateThemeClasses(),this},a.ui.mixin.IconElement.prototype.setIconTitle=function(b){return b="function"==typeof b||"string"==typeof b&&b.length?a.ui.resolveMsg(b):null,this.iconTitle!==b&&(this.iconTitle=b,this.$icon&&(null!==this.iconTitle?this.$icon.attr("title",b):this.$icon.removeAttr("title"))),this},a.ui.mixin.IconElement.prototype.getIcon=function(){return this.icon},a.ui.mixin.IconElement.prototype.getIconTitle=function(){return this.iconTitle},a.ui.mixin.IndicatorElement=function(a){a=a||{},this.$indicator=null,this.indicator=null,this.indicatorTitle=null,this.setIndicator(a.indicator||this.constructor["static"].indicator),this.setIndicatorTitle(a.indicatorTitle||this.constructor["static"].indicatorTitle),this.setIndicatorElement(a.$indicator||$("<span>"))},a.initClass(a.ui.mixin.IndicatorElement),a.ui.mixin.IndicatorElement["static"].indicator=null,a.ui.mixin.IndicatorElement["static"].indicatorTitle=null,a.ui.mixin.IndicatorElement.prototype.setIndicatorElement=function(a){this.$indicator&&this.$indicator.removeClass("oo-ui-indicatorElement-indicator oo-ui-indicator-"+this.indicator).removeAttr("title"),this.$indicator=a.addClass("oo-ui-indicatorElement-indicator").toggleClass("oo-ui-indicator-"+this.indicator,!!this.indicator),null!==this.indicatorTitle&&this.$indicator.attr("title",this.indicatorTitle)},a.ui.mixin.IndicatorElement.prototype.setIndicator=function(a){return a="string"==typeof a&&a.length?a.trim():null,this.indicator!==a&&(this.$indicator&&(null!==this.indicator&&this.$indicator.removeClass("oo-ui-indicator-"+this.indicator),null!==a&&this.$indicator.addClass("oo-ui-indicator-"+a)),this.indicator=a),this.$element.toggleClass("oo-ui-indicatorElement",!!this.indicator),this.updateThemeClasses(),this},a.ui.mixin.IndicatorElement.prototype.setIndicatorTitle=function(b){return b="function"==typeof b||"string"==typeof b&&b.length?a.ui.resolveMsg(b):null,this.indicatorTitle!==b&&(this.indicatorTitle=b,this.$indicator&&(null!==this.indicatorTitle?this.$indicator.attr("title",b):this.$indicator.removeAttr("title"))),this},a.ui.mixin.IndicatorElement.prototype.getIndicator=function(){return this.indicator},a.ui.mixin.IndicatorElement.prototype.getIndicatorTitle=function(){return this.indicatorTitle},a.ui.mixin.LabelElement=function(a){a=a||{},this.$label=null,this.label=null,this.autoFitLabel=void 0===a.autoFitLabel||!!a.autoFitLabel,this.setLabel(a.label||this.constructor["static"].label),this.setLabelElement(a.$label||$("<span>"))},a.initClass(a.ui.mixin.LabelElement),a.ui.mixin.LabelElement["static"].label=null,a.ui.mixin.LabelElement.prototype.setLabelElement=function(a){this.$label&&this.$label.removeClass("oo-ui-labelElement-label").empty(),this.$label=a.addClass("oo-ui-labelElement-label"),this.setLabelContent(this.label)},a.ui.mixin.LabelElement.prototype.setLabel=function(b){return b="function"==typeof b?a.ui.resolveMsg(b):b,b="string"==typeof b&&b.length||b instanceof jQuery||b instanceof a.ui.HtmlSnippet?b:null,this.$element.toggleClass("oo-ui-labelElement",!!b),this.label!==b&&(this.$label&&this.setLabelContent(b),this.label=b,this.emit("labelChange")),this},a.ui.mixin.LabelElement.prototype.getLabel=function(){return this.label},a.ui.mixin.LabelElement.prototype.fitLabel=function(){return this.$label&&this.$label.autoEllipsis&&this.autoFitLabel&&this.$label.autoEllipsis({hasSpan:!1,tooltip:!0}),this},a.ui.mixin.LabelElement.prototype.setLabelContent=function(b){"string"==typeof b?b.match(/^\s*$/)?this.$label.html("&nbsp;"):this.$label.text(b):b instanceof a.ui.HtmlSnippet?this.$label.html(b.toString()):b instanceof jQuery?this.$label.empty().append(b):this.$label.empty()},a.ui.mixin.LookupElement=function(b){b=b||{},this.$overlay=b.$overlay||this.$element,this.lookupMenu=new a.ui.TextInputMenuSelectWidget(this,{widget:this,input:this,$container:b.$container}),this.allowSuggestionsWhenEmpty=b.allowSuggestionsWhenEmpty||!1,this.lookupCache={},this.lookupQuery=null,this.lookupRequest=null,this.lookupsDisabled=!1,this.lookupInputFocused=!1,this.$input.on({focus:this.onLookupInputFocus.bind(this),blur:this.onLookupInputBlur.bind(this),mousedown:this.onLookupInputMouseDown.bind(this)}),this.connect(this,{change:"onLookupInputChange"}),this.lookupMenu.connect(this,{toggle:"onLookupMenuToggle",choose:"onLookupMenuItemChoose"}),this.$element.addClass("oo-ui-lookupElement"),this.lookupMenu.$element.addClass("oo-ui-lookupElement-menu"),this.$overlay.append(this.lookupMenu.$element)
},a.ui.mixin.LookupElement.prototype.onLookupInputFocus=function(){this.lookupInputFocused=!0,this.populateLookupMenu()},a.ui.mixin.LookupElement.prototype.onLookupInputBlur=function(){this.closeLookupMenu(),this.lookupInputFocused=!1},a.ui.mixin.LookupElement.prototype.onLookupInputMouseDown=function(){this.lookupInputFocused&&!this.lookupMenu.isVisible()&&this.populateLookupMenu()},a.ui.mixin.LookupElement.prototype.onLookupInputChange=function(){this.lookupInputFocused&&this.populateLookupMenu()},a.ui.mixin.LookupElement.prototype.onLookupMenuToggle=function(a){a||(this.abortLookupRequest(),this.lookupMenu.clearItems())},a.ui.mixin.LookupElement.prototype.onLookupMenuItemChoose=function(a){this.setValue(a.getData())},a.ui.mixin.LookupElement.prototype.getLookupMenu=function(){return this.lookupMenu},a.ui.mixin.LookupElement.prototype.setLookupsDisabled=function(a){this.lookupsDisabled=!!a},a.ui.mixin.LookupElement.prototype.openLookupMenu=function(){return this.lookupMenu.isEmpty()||this.lookupMenu.toggle(!0),this},a.ui.mixin.LookupElement.prototype.closeLookupMenu=function(){return this.lookupMenu.toggle(!1),this.abortLookupRequest(),this.lookupMenu.clearItems(),this},a.ui.mixin.LookupElement.prototype.populateLookupMenu=function(){var a=this,b=this.getValue();if(!this.lookupsDisabled)return this.allowSuggestionsWhenEmpty||""!==b?b!==this.lookupQuery&&this.getLookupMenuItems().done(function(b){a.lookupMenu.clearItems(),b.length?(a.lookupMenu.addItems(b).toggle(!0),a.initializeLookupMenuSelection()):a.lookupMenu.toggle(!1)}).fail(function(){a.lookupMenu.clearItems()}):this.closeLookupMenu(),this},a.ui.mixin.LookupElement.prototype.initializeLookupMenuSelection=function(){this.lookupMenu.getSelectedItem()||this.lookupMenu.highlightItem(this.lookupMenu.getFirstSelectableItem())},a.ui.mixin.LookupElement.prototype.getLookupMenuItems=function(){var a,b=this,c=this.getValue(),d=$.Deferred();return this.abortLookupRequest(),Object.prototype.hasOwnProperty.call(this.lookupCache,c)?d.resolve(this.getLookupMenuOptionsFromData(this.lookupCache[c])):(this.pushPending(),this.lookupQuery=c,a=this.lookupRequest=this.getLookupRequest(),a.always(function(){b.popPending()}).done(function(e){a===b.lookupRequest&&(b.lookupQuery=null,b.lookupRequest=null,b.lookupCache[c]=b.getLookupCacheDataFromResponse(e),d.resolve(b.getLookupMenuOptionsFromData(b.lookupCache[c])))}).fail(function(){a===b.lookupRequest&&(b.lookupQuery=null,b.lookupRequest=null,d.reject())})),d.promise()},a.ui.mixin.LookupElement.prototype.abortLookupRequest=function(){var a=this.lookupRequest;a&&(this.lookupRequest=null,this.lookupQuery=null,a.abort())},a.ui.mixin.LookupElement.prototype.getLookupRequest=function(){return null},a.ui.mixin.LookupElement.prototype.getLookupCacheDataFromResponse=function(){return[]},a.ui.mixin.LookupElement.prototype.getLookupMenuOptionsFromData=function(){return[]},a.ui.mixin.PopupElement=function(b){b=b||{},this.popup=new a.ui.PopupWidget($.extend({autoClose:!0},b.popup,{$autoCloseIgnore:this.$element}))},a.ui.mixin.PopupElement.prototype.getPopup=function(){return this.popup},a.ui.mixin.FlaggedElement=function(a){a=a||{},this.flags={},this.$flagged=null,this.setFlags(a.flags),this.setFlaggedElement(a.$flagged||this.$element)},a.ui.mixin.FlaggedElement.prototype.setFlaggedElement=function(a){var b=Object.keys(this.flags).map(function(a){return"oo-ui-flaggedElement-"+a}).join(" ");this.$flagged&&this.$flagged.removeClass(b),this.$flagged=a.addClass(b)},a.ui.mixin.FlaggedElement.prototype.hasFlag=function(a){return a in this.flags},a.ui.mixin.FlaggedElement.prototype.getFlags=function(){return Object.keys(this.flags)},a.ui.mixin.FlaggedElement.prototype.clearFlags=function(){var a,b,c={},d=[],e="oo-ui-flaggedElement-";for(a in this.flags)b=e+a,c[a]=!1,delete this.flags[a],d.push(b);return this.$flagged&&this.$flagged.removeClass(d.join(" ")),this.updateThemeClasses(),this.emit("flag",c),this},a.ui.mixin.FlaggedElement.prototype.setFlags=function(b){var c,d,e,f,g={},h=[],i=[],j="oo-ui-flaggedElement-";if("string"==typeof b)f=j+b,this.flags[b]||(this.flags[b]=!0,h.push(f));else if(Array.isArray(b))for(c=0,d=b.length;d>c;c++)e=b[c],f=j+e,this.flags[e]||(g[e]=!0,this.flags[e]=!0,h.push(f));else if(a.isPlainObject(b))for(e in b)f=j+e,b[e]?this.flags[e]||(g[e]=!0,this.flags[e]=!0,h.push(f)):this.flags[e]&&(g[e]=!1,delete this.flags[e],i.push(f));return this.$flagged&&this.$flagged.addClass(h.join(" ")).removeClass(i.join(" ")),this.updateThemeClasses(),this.emit("flag",g),this},a.ui.mixin.TitledElement=function(a){a=a||{},this.$titled=null,this.title=null,this.setTitle(a.title||this.constructor["static"].title),this.setTitledElement(a.$titled||this.$element)},a.initClass(a.ui.mixin.TitledElement),a.ui.mixin.TitledElement["static"].title=null,a.ui.mixin.TitledElement.prototype.setTitledElement=function(a){this.$titled&&this.$titled.removeAttr("title"),this.$titled=a,this.title&&this.$titled.attr("title",this.title)},a.ui.mixin.TitledElement.prototype.setTitle=function(b){return b="string"==typeof b?a.ui.resolveMsg(b):null,this.title!==b&&(this.$titled&&(null!==b?this.$titled.attr("title",b):this.$titled.removeAttr("title")),this.title=b),this},a.ui.mixin.TitledElement.prototype.getTitle=function(){return this.title},a.ui.mixin.ClippableElement=function(a){a=a||{},this.$clippable=null,this.clipping=!1,this.clippedHorizontally=!1,this.clippedVertically=!1,this.$clippableContainer=null,this.$clippableScroller=null,this.$clippableWindow=null,this.idealWidth=null,this.idealHeight=null,this.onClippableContainerScrollHandler=this.clip.bind(this),this.onClippableWindowResizeHandler=this.clip.bind(this),this.setClippableElement(a.$clippable||this.$element)},a.ui.mixin.ClippableElement.prototype.setClippableElement=function(b){this.$clippable&&(this.$clippable.removeClass("oo-ui-clippableElement-clippable"),this.$clippable.css({width:"",height:"",overflowX:"",overflowY:""}),a.ui.Element["static"].reconsiderScrollbars(this.$clippable[0])),this.$clippable=b.addClass("oo-ui-clippableElement-clippable"),this.clip()},a.ui.mixin.ClippableElement.prototype.toggleClipping=function(b){return b=void 0===b?!this.clipping:!!b,this.clipping!==b&&(this.clipping=b,b?(this.$clippableContainer=$(this.getClosestScrollableElementContainer()),this.$clippableScroller=this.$clippableContainer.is("html, body")?$(a.ui.Element["static"].getWindow(this.$clippableContainer)):this.$clippableContainer,this.$clippableScroller.on("scroll",this.onClippableContainerScrollHandler),this.$clippableWindow=$(this.getElementWindow()).on("resize",this.onClippableWindowResizeHandler),this.clip()):(this.$clippable.css({width:"",height:"",overflowX:"",overflowY:""}),a.ui.Element["static"].reconsiderScrollbars(this.$clippable[0]),this.$clippableContainer=null,this.$clippableScroller.off("scroll",this.onClippableContainerScrollHandler),this.$clippableScroller=null,this.$clippableWindow.off("resize",this.onClippableWindowResizeHandler),this.$clippableWindow=null)),this},a.ui.mixin.ClippableElement.prototype.isClipping=function(){return this.clipping},a.ui.mixin.ClippableElement.prototype.isClipped=function(){return this.clippedHorizontally||this.clippedVertically},a.ui.mixin.ClippableElement.prototype.isClippedHorizontally=function(){return this.clippedHorizontally},a.ui.mixin.ClippableElement.prototype.isClippedVertically=function(){return this.clippedVertically},a.ui.mixin.ClippableElement.prototype.setIdealSize=function(a,b){this.idealWidth=a,this.idealHeight=b,this.clipping||this.$clippable.css({width:a,height:b})},a.ui.mixin.ClippableElement.prototype.clip=function(){if(!this.clipping)return this;var b=7,c=this.$clippable.offset(),d=this.$clippableContainer.is("html, body")?this.$clippableWindow:this.$clippableContainer,e=d.offset()||{top:0,left:0},f=d.innerHeight()-b,g=d.innerWidth()-b,h=this.$clippable.outerWidth()+b,i=this.$clippableScroller[0]===this.$clippableWindow[0]?this.$clippableScroller.scrollTop():0,j=this.$clippableScroller.scrollLeft(),k=c.left<0?h+c.left:e.left+j+g-c.left,l=e.top+i+f-c.top,m=this.$clippable.prop("scrollWidth"),n=this.$clippable.prop("scrollHeight"),o=m>k,p=n>l;return this.$clippable.css(o?{overflowX:"scroll",width:k}:{width:this.idealWidth||"",overflowX:""}),this.$clippable.css(p?{overflowY:"scroll",height:l}:{height:this.idealHeight||"",overflowY:""}),o&&p||a.ui.Element["static"].reconsiderScrollbars(this.$clippable[0]),this.clippedHorizontally=o,this.clippedVertically=p,this},a.ui.Tool=function(b,c){a.isPlainObject(b)&&void 0===c&&(c=b,b=c.toolGroup),c=c||{},a.ui.Tool.parent.call(this,c),this.toolGroup=b,this.toolbar=this.toolGroup.getToolbar(),this.active=!1,this.$title=$("<span>"),this.$accel=$("<span>"),this.$link=$("<a>"),this.title=null,a.ui.mixin.IconElement.call(this,c),a.ui.mixin.FlaggedElement.call(this,c),a.ui.mixin.TabIndexedElement.call(this,$.extend({},c,{$tabIndexed:this.$link})),this.toolbar.connect(this,{updateState:"onUpdateState"}),this.$title.addClass("oo-ui-tool-title"),this.$accel.addClass("oo-ui-tool-accel").prop({dir:"ltr",lang:"en"}),this.$link.addClass("oo-ui-tool-link").append(this.$icon,this.$title,this.$accel).attr("role","button"),this.$element.data("oo-ui-tool",this).addClass("oo-ui-tool oo-ui-tool-name-"+this.constructor["static"].name.replace(/^([^\/]+)\/([^\/]+).*$/,"$1-$2")).toggleClass("oo-ui-tool-with-label",this.constructor["static"].displayBothIconAndLabel).append(this.$link),this.setTitle(c.title||this.constructor["static"].title)},a.inheritClass(a.ui.Tool,a.ui.Widget),a.mixinClass(a.ui.Tool,a.ui.mixin.IconElement),a.mixinClass(a.ui.Tool,a.ui.mixin.FlaggedElement),a.mixinClass(a.ui.Tool,a.ui.mixin.TabIndexedElement),a.ui.Tool["static"].tagName="span",a.ui.Tool["static"].name="",a.ui.Tool["static"].group="",a.ui.Tool["static"].title="",a.ui.Tool["static"].displayBothIconAndLabel=!1,a.ui.Tool["static"].autoAddToCatchall=!0,a.ui.Tool["static"].autoAddToGroup=!0,a.ui.Tool["static"].isCompatibleWith=function(){return!1},a.ui.Tool.prototype.onUpdateState=function(){throw new Error("OO.ui.Tool.onUpdateState not implemented in this subclass:"+this.constructor)},a.ui.Tool.prototype.onSelect=function(){throw new Error("OO.ui.Tool.onSelect not implemented in this subclass:"+this.constructor)},a.ui.Tool.prototype.isActive=function(){return this.active},a.ui.Tool.prototype.setActive=function(a){this.active=!!a,this.active?this.$element.addClass("oo-ui-tool-active"):this.$element.removeClass("oo-ui-tool-active")},a.ui.Tool.prototype.setTitle=function(b){return this.title=a.ui.resolveMsg(b),this.updateTitle(),this},a.ui.Tool.prototype.getTitle=function(){return this.title},a.ui.Tool.prototype.getName=function(){return this.constructor["static"].name},a.ui.Tool.prototype.updateTitle=function(){var a=this.toolGroup.constructor["static"].titleTooltips,b=this.toolGroup.constructor["static"].accelTooltips,c=this.toolbar.getToolAccelerator(this.constructor["static"].name),d=[];this.$title.text(this.title),this.$accel.text(c),a&&"string"==typeof this.title&&this.title.length&&d.push(this.title),b&&"string"==typeof c&&c.length&&d.push(c),d.length?this.$link.attr("title",d.join(" ")):this.$link.removeAttr("title")},a.ui.Tool.prototype.destroy=function(){this.toolbar.disconnect(this),this.$element.remove()},a.ui.Toolbar=function(b,c,d){a.isPlainObject(b)&&void 0===d&&(d=b,b=d.toolFactory,c=d.toolGroupFactory),d=d||{},a.ui.Toolbar.parent.call(this,d),a.EventEmitter.call(this),a.ui.mixin.GroupElement.call(this,d),this.toolFactory=b,this.toolGroupFactory=c,this.groups=[],this.tools={},this.$bar=$("<div>"),this.$actions=$("<div>"),this.initialized=!1,this.onWindowResizeHandler=this.onWindowResize.bind(this),this.$element.add(this.$bar).add(this.$group).add(this.$actions).on("mousedown keydown",this.onPointerDown.bind(this)),this.$group.addClass("oo-ui-toolbar-tools"),d.actions&&this.$bar.append(this.$actions.addClass("oo-ui-toolbar-actions")),this.$bar.addClass("oo-ui-toolbar-bar").append(this.$group,'<div style="clear:both"></div>'),d.shadow&&this.$bar.append('<div class="oo-ui-toolbar-shadow"></div>'),this.$element.addClass("oo-ui-toolbar").append(this.$bar)},a.inheritClass(a.ui.Toolbar,a.ui.Element),a.mixinClass(a.ui.Toolbar,a.EventEmitter),a.mixinClass(a.ui.Toolbar,a.ui.mixin.GroupElement),a.ui.Toolbar.prototype.getToolFactory=function(){return this.toolFactory},a.ui.Toolbar.prototype.getToolGroupFactory=function(){return this.toolGroupFactory},a.ui.Toolbar.prototype.onPointerDown=function(a){var b=$(a.target).closest(".oo-ui-widget"),c=this.$element.closest(".oo-ui-widget");return b.length&&b[0]!==c[0]?void 0:!1},a.ui.Toolbar.prototype.onWindowResize=function(){this.$element.toggleClass("oo-ui-toolbar-narrow",this.$bar.width()<=this.narrowThreshold)},a.ui.Toolbar.prototype.initialize=function(){this.initialized=!0,this.narrowThreshold=this.$group.width()+this.$actions.width(),$(this.getElementWindow()).on("resize",this.onWindowResizeHandler),this.onWindowResize()},a.ui.Toolbar.prototype.setup=function(b){var c,d,e,f,g=[],h="bar";for(this.reset(),c=0,d=b.length;d>c;c++)f=b[c],"*"===f.include&&(void 0===f.type&&(f.type="list"),void 0===f.label&&(f.label=a.ui.msg("ooui-toolbar-more"))),e=this.getToolGroupFactory().lookup(f.type)?f.type:h,g.push(this.getToolGroupFactory().create(e,this,f));this.addItems(g)},a.ui.Toolbar.prototype.reset=function(){var a,b;for(this.groups=[],this.tools={},a=0,b=this.items.length;b>a;a++)this.items[a].destroy();this.clearItems()},a.ui.Toolbar.prototype.destroy=function(){$(this.getElementWindow()).off("resize",this.onWindowResizeHandler),this.reset(),this.$element.remove()},a.ui.Toolbar.prototype.isToolAvailable=function(a){return!this.tools[a]},a.ui.Toolbar.prototype.reserveTool=function(a){this.tools[a.getName()]=a},a.ui.Toolbar.prototype.releaseTool=function(a){delete this.tools[a.getName()]},a.ui.Toolbar.prototype.getToolAccelerator=function(){return void 0},a.ui.ToolGroup=function(b,c){a.isPlainObject(b)&&void 0===c&&(c=b,b=c.toolbar),c=c||{},a.ui.ToolGroup.parent.call(this,c),a.ui.mixin.GroupElement.call(this,c),this.toolbar=b,this.tools={},this.pressed=null,this.autoDisabled=!1,this.include=c.include||[],this.exclude=c.exclude||[],this.promote=c.promote||[],this.demote=c.demote||[],this.onCapturedMouseKeyUpHandler=this.onCapturedMouseKeyUp.bind(this),this.$element.on({mousedown:this.onMouseKeyDown.bind(this),mouseup:this.onMouseKeyUp.bind(this),keydown:this.onMouseKeyDown.bind(this),keyup:this.onMouseKeyUp.bind(this),focus:this.onMouseOverFocus.bind(this),blur:this.onMouseOutBlur.bind(this),mouseover:this.onMouseOverFocus.bind(this),mouseout:this.onMouseOutBlur.bind(this)}),this.toolbar.getToolFactory().connect(this,{register:"onToolFactoryRegister"}),this.aggregate({disable:"itemDisable"}),this.connect(this,{itemDisable:"updateDisabled"}),this.$group.addClass("oo-ui-toolGroup-tools"),this.$element.addClass("oo-ui-toolGroup").append(this.$group),this.populate()},a.inheritClass(a.ui.ToolGroup,a.ui.Widget),a.mixinClass(a.ui.ToolGroup,a.ui.mixin.GroupElement),a.ui.ToolGroup["static"].titleTooltips=!1,a.ui.ToolGroup["static"].accelTooltips=!1,a.ui.ToolGroup["static"].autoDisable=!0,a.ui.ToolGroup.prototype.isDisabled=function(){return this.autoDisabled||a.ui.ToolGroup.parent.prototype.isDisabled.apply(this,arguments)},a.ui.ToolGroup.prototype.updateDisabled=function(){var b,c,d=!0;if(this.constructor["static"].autoDisable){for(b=this.items.length-1;b>=0;b--)if(c=this.items[b],!c.isDisabled()){d=!1;break}this.autoDisabled=d}a.ui.ToolGroup.parent.prototype.updateDisabled.apply(this,arguments)},a.ui.ToolGroup.prototype.onMouseKeyDown=function(b){return this.isDisabled()||1!==b.which&&b.which!==a.ui.Keys.SPACE&&b.which!==a.ui.Keys.ENTER?void 0:(this.pressed=this.getTargetTool(b),this.pressed&&(this.pressed.setActive(!0),this.getElementDocument().addEventListener("mouseup",this.onCapturedMouseKeyUpHandler,!0),this.getElementDocument().addEventListener("keyup",this.onCapturedMouseKeyUpHandler,!0)),!1)},a.ui.ToolGroup.prototype.onCapturedMouseKeyUp=function(a){this.getElementDocument().removeEventListener("mouseup",this.onCapturedMouseKeyUpHandler,!0),this.getElementDocument().removeEventListener("keyup",this.onCapturedMouseKeyUpHandler,!0),this.onMouseKeyUp(a)},a.ui.ToolGroup.prototype.onMouseKeyUp=function(b){var c=this.getTargetTool(b);return this.isDisabled()||!this.pressed||this.pressed!==c||1!==b.which&&b.which!==a.ui.Keys.SPACE&&b.which!==a.ui.Keys.ENTER?void(this.pressed=null):(this.pressed.onSelect(),this.pressed=null,!1)},a.ui.ToolGroup.prototype.onMouseOverFocus=function(a){var b=this.getTargetTool(a);this.pressed&&this.pressed===b&&this.pressed.setActive(!0)},a.ui.ToolGroup.prototype.onMouseOutBlur=function(a){var b=this.getTargetTool(a);this.pressed&&this.pressed===b&&this.pressed.setActive(!1)},a.ui.ToolGroup.prototype.getTargetTool=function(a){var b,c=$(a.target).closest(".oo-ui-tool-link");return c.length&&(b=c.parent().data("oo-ui-tool")),b&&!b.isDisabled()?b:null},a.ui.ToolGroup.prototype.onToolFactoryRegister=function(){this.populate()},a.ui.ToolGroup.prototype.getToolbar=function(){return this.toolbar},a.ui.ToolGroup.prototype.populate=function(){var a,b,c,d,e=this.toolbar.getToolFactory(),f={},g=[],h=[],i=this.toolbar.getToolFactory().getTools(this.include,this.exclude,this.promote,this.demote);for(a=0,b=i.length;b>a;a++)c=i[a],e.lookup(c)&&(this.toolbar.isToolAvailable(c)||this.tools[c])&&(this.toolbar.tools[c]=!0,d=this.tools[c],d||(this.tools[c]=d=e.create(c,this),d.updateTitle()),this.toolbar.reserveTool(d),g.push(d),f[c]=!0);for(c in this.tools)f[c]||(this.tools[c].destroy(),this.toolbar.releaseTool(this.tools[c]),h.push(this.tools[c]),delete this.tools[c]);h.length&&this.removeItems(h),g.length?this.$element.removeClass("oo-ui-toolGroup-empty"):this.$element.addClass("oo-ui-toolGroup-empty"),this.addItems(g),this.updateDisabled()},a.ui.ToolGroup.prototype.destroy=function(){var a;this.clearItems(),this.toolbar.getToolFactory().disconnect(this);for(a in this.tools)this.toolbar.releaseTool(this.tools[a]),this.tools[a].disconnect(this).destroy(),delete this.tools[a];this.$element.remove()},a.ui.MessageDialog=function(b){a.ui.MessageDialog.parent.call(this,b),this.verticalActionLayout=null,this.$element.addClass("oo-ui-messageDialog")},a.inheritClass(a.ui.MessageDialog,a.ui.Dialog),a.ui.MessageDialog["static"].name="message",a.ui.MessageDialog["static"].size="small",a.ui.MessageDialog["static"].verbose=!1,a.ui.MessageDialog["static"].title=null,a.ui.MessageDialog["static"].message=null,a.ui.MessageDialog["static"].actions=[{action:"accept",label:a.ui.deferMsg("ooui-dialog-message-accept"),flags:"primary"},{action:"reject",label:a.ui.deferMsg("ooui-dialog-message-reject"),flags:"safe"}],a.ui.MessageDialog.prototype.setManager=function(b){return a.ui.MessageDialog.parent.prototype.setManager.call(this,b),this.manager.connect(this,{resize:"onResize"}),this},a.ui.MessageDialog.prototype.onActionResize=function(b){return this.fitActions(),a.ui.MessageDialog.parent.prototype.onActionResize.call(this,b)},a.ui.MessageDialog.prototype.onResize=function(){var a=this;a.fitActions(),setTimeout(function(){a.fitActions()},300)},a.ui.MessageDialog.prototype.toggleVerticalActionLayout=function(a){return a=void 0===a?!this.verticalActionLayout:!!a,a!==this.verticalActionLayout&&(this.verticalActionLayout=a,this.$actions.toggleClass("oo-ui-messageDialog-actions-vertical",a).toggleClass("oo-ui-messageDialog-actions-horizontal",!a)),this},a.ui.MessageDialog.prototype.getActionProcess=function(b){return b?new a.ui.Process(function(){this.close({action:b})},this):a.ui.MessageDialog.parent.prototype.getActionProcess.call(this,b)},a.ui.MessageDialog.prototype.getSetupProcess=function(b){return b=b||{},a.ui.MessageDialog.parent.prototype.getSetupProcess.call(this,b).next(function(){this.title.setLabel(void 0!==b.title?b.title:this.constructor["static"].title),this.message.setLabel(void 0!==b.message?b.message:this.constructor["static"].message),this.message.$element.toggleClass("oo-ui-messageDialog-message-verbose",void 0!==b.verbose?b.verbose:this.constructor["static"].verbose)},this)},a.ui.MessageDialog.prototype.getBodyHeight=function(){var b,c,d=this.container.$element;return c=d[0].style.overflow,d[0].style.overflow="hidden",a.ui.Element["static"].reconsiderScrollbars(d[0]),b=this.text.$element.outerHeight(!0),d[0].style.overflow=c,b},a.ui.MessageDialog.prototype.setDimensions=function(b){var c=this.container.$element;return a.ui.MessageDialog.parent.prototype.setDimensions.call(this,b),setTimeout(function(){var b=c[0].style.overflow;c[0].style.overflow="hidden",a.ui.Element["static"].reconsiderScrollbars(c[0]),c[0].style.overflow=b},300),this},a.ui.MessageDialog.prototype.initialize=function(){a.ui.MessageDialog.parent.prototype.initialize.call(this),this.$actions=$("<div>"),this.container=new a.ui.PanelLayout({scrollable:!0,classes:["oo-ui-messageDialog-container"]}),this.text=new a.ui.PanelLayout({padded:!0,expanded:!1,classes:["oo-ui-messageDialog-text"]}),this.message=new a.ui.LabelWidget({classes:["oo-ui-messageDialog-message"]}),this.title.$element.addClass("oo-ui-messageDialog-title"),this.$content.addClass("oo-ui-messageDialog-content"),this.container.$element.append(this.text.$element),this.text.$element.append(this.title.$element,this.message.$element),this.$body.append(this.container.$element),this.$actions.addClass("oo-ui-messageDialog-actions"),this.$foot.append(this.$actions)},a.ui.MessageDialog.prototype.attachActions=function(){var b,c,d,e,f;if(a.ui.MessageDialog.parent.prototype.attachActions.call(this),e=this.actions.getSpecial(),f=this.actions.getOthers(),e.safe&&(this.$actions.append(e.safe.$element),e.safe.toggleFramed(!1)),f.length)for(b=0,c=f.length;c>b;b++)d=f[b],this.$actions.append(d.$element),d.toggleFramed(!1);e.primary&&(this.$actions.append(e.primary.$element),e.primary.toggleFramed(!1)),this.isOpening()||this.updateSize()},a.ui.MessageDialog.prototype.fitActions=function(){var a,b,c,d=this.verticalActionLayout,e=this.actions.get();for(this.toggleVerticalActionLayout(!1),a=0,b=e.length;b>a;a++)if(c=e[a],c.$element.innerWidth()<c.$label.outerWidth(!0)){this.toggleVerticalActionLayout(!0);break}this.$body.css("bottom",this.$foot.outerHeight(!0)),this.verticalActionLayout!==d&&this.updateSize()},a.ui.ProcessDialog=function(b){a.ui.ProcessDialog.parent.call(this,b),this.$element.addClass("oo-ui-processDialog")},a.inheritClass(a.ui.ProcessDialog,a.ui.Dialog),a.ui.ProcessDialog.prototype.onDismissErrorButtonClick=function(){this.hideErrors()},a.ui.ProcessDialog.prototype.onRetryButtonClick=function(){this.hideErrors(),this.executeAction(this.currentAction)},a.ui.ProcessDialog.prototype.onActionResize=function(b){return this.actions.isSpecial(b)&&this.fitLabel(),a.ui.ProcessDialog.parent.prototype.onActionResize.call(this,b)},a.ui.ProcessDialog.prototype.initialize=function(){a.ui.ProcessDialog.parent.prototype.initialize.call(this),this.$navigation=$("<div>"),this.$location=$("<div>"),this.$safeActions=$("<div>"),this.$primaryActions=$("<div>"),this.$otherActions=$("<div>"),this.dismissButton=new a.ui.ButtonWidget({label:a.ui.msg("ooui-dialog-process-dismiss")}),this.retryButton=new a.ui.ButtonWidget,this.$errors=$("<div>"),this.$errorsTitle=$("<div>"),this.dismissButton.connect(this,{click:"onDismissErrorButtonClick"}),this.retryButton.connect(this,{click:"onRetryButtonClick"}),this.title.$element.addClass("oo-ui-processDialog-title"),this.$location.append(this.title.$element).addClass("oo-ui-processDialog-location"),this.$safeActions.addClass("oo-ui-processDialog-actions-safe"),this.$primaryActions.addClass("oo-ui-processDialog-actions-primary"),this.$otherActions.addClass("oo-ui-processDialog-actions-other"),this.$errorsTitle.addClass("oo-ui-processDialog-errors-title").text(a.ui.msg("ooui-dialog-process-error")),this.$errors.addClass("oo-ui-processDialog-errors oo-ui-element-hidden").append(this.$errorsTitle,this.dismissButton.$element,this.retryButton.$element),this.$content.addClass("oo-ui-processDialog-content").append(this.$errors),this.$navigation.addClass("oo-ui-processDialog-navigation").append(this.$safeActions,this.$location,this.$primaryActions),this.$head.append(this.$navigation),this.$foot.append(this.$otherActions)},a.ui.ProcessDialog.prototype.getActionWidgets=function(b){var c,d,e=[];for(c=0,d=b.length;d>c;c++)e.push(new a.ui.ActionWidget($.extend({framed:!0},b[c])));return e},a.ui.ProcessDialog.prototype.attachActions=function(){var b,c,d,e,f;for(a.ui.ProcessDialog.parent.prototype.attachActions.call(this),e=this.actions.getSpecial(),f=this.actions.getOthers(),e.primary&&this.$primaryActions.append(e.primary.$element),b=0,c=f.length;c>b;b++)d=f[b],this.$otherActions.append(d.$element);e.safe&&this.$safeActions.append(e.safe.$element),this.fitLabel(),this.$body.css("bottom",this.$foot.outerHeight(!0))},a.ui.ProcessDialog.prototype.executeAction=function(b){var c=this;return a.ui.ProcessDialog.parent.prototype.executeAction.call(this,b).fail(function(a){c.showErrors(a||[])})},a.ui.ProcessDialog.prototype.fitLabel=function(){var b,c,d,e,f,g,h;return b=this.$safeActions.is(":visible")?this.$safeActions.width():0,c=this.$primaryActions.is(":visible")?this.$primaryActions.width():0,d=Math.max(b,c),e=this.title.$element.width(),f=a.ui.WindowManager["static"].sizes[this.getSize()].width-20,f>2*d+e?g=h=d:"ltr"===this.getDir()?(g=b,h=c):(g=c,h=b),this.$location.css({paddingLeft:g,paddingRight:h}),this},a.ui.ProcessDialog.prototype.showErrors=function(b){var c,d,e,f,g=[],h={},i=!0,j=!1;for(b instanceof a.ui.Error&&(b=[b]),c=0,d=b.length;d>c;c++)b[c].isRecoverable()||(i=!1),b[c].isWarning()&&(j=!0),e=$("<div>").addClass("oo-ui-processDialog-error").append(b[c].getMessage()),g.push(e[0]);this.$errorItems=$(g),i?(h[this.currentAction]=!0,f=this.actions.get({actions:this.currentAction}),f.length&&this.retryButton.clearFlags().setFlags(f[0].getFlags())):(h[this.currentAction]=!1,this.actions.setAbilities(h)),this.retryButton.setLabel(j?a.ui.msg("ooui-dialog-process-continue"):a.ui.msg("ooui-dialog-process-retry")),this.retryButton.toggle(i),this.$errorsTitle.after(this.$errorItems),this.$errors.removeClass("oo-ui-element-hidden").scrollTop(0)},a.ui.ProcessDialog.prototype.hideErrors=function(){this.$errors.addClass("oo-ui-element-hidden"),this.$errorItems&&(this.$errorItems.remove(),this.$errorItems=null)},a.ui.ProcessDialog.prototype.getTeardownProcess=function(b){return a.ui.ProcessDialog.parent.prototype.getTeardownProcess.call(this,b).first(function(){this.hideErrors()},this)},a.ui.FieldLayout=function(b,c){a.isPlainObject(b)&&void 0===c&&(c=b,b=c.fieldWidget);var d=b.constructor["static"].supportsSimpleLabel;c=$.extend({align:"left"},c),a.ui.FieldLayout.parent.call(this,c),a.ui.mixin.LabelElement.call(this,c),this.fieldWidget=b,this.$field=$("<div>"),this.$body=$("<"+(d?"label":"div")+">"),this.align=null,c.help?(this.popupButtonWidget=new a.ui.PopupButtonWidget({classes:["oo-ui-fieldLayout-help"],framed:!1,icon:"info"}),this.popupButtonWidget.getPopup().$body.append($("<div>").text(c.help).addClass("oo-ui-fieldLayout-help-content")),this.$help=this.popupButtonWidget.$element):this.$help=$([]),d&&this.$label.on("click",this.onLabelClick.bind(this)),this.fieldWidget.connect(this,{disable:"onFieldDisable"}),this.$element.addClass("oo-ui-fieldLayout").append(this.$help,this.$body),this.$body.addClass("oo-ui-fieldLayout-body"),this.$field.addClass("oo-ui-fieldLayout-field").toggleClass("oo-ui-fieldLayout-disable",this.fieldWidget.isDisabled()).append(this.fieldWidget.$element),this.setAlignment(c.align)},a.inheritClass(a.ui.FieldLayout,a.ui.Layout),a.mixinClass(a.ui.FieldLayout,a.ui.mixin.LabelElement),a.ui.FieldLayout.prototype.onFieldDisable=function(a){this.$element.toggleClass("oo-ui-fieldLayout-disabled",a)},a.ui.FieldLayout.prototype.onLabelClick=function(){return this.fieldWidget.simulateLabelClick(),!1},a.ui.FieldLayout.prototype.getField=function(){return this.fieldWidget},a.ui.FieldLayout.prototype.setAlignment=function(a){return a!==this.align&&(-1===["left","right","top","inline"].indexOf(a)&&(a="left"),"inline"===a?this.$body.append(this.$field,this.$label):this.$body.append(this.$label,this.$field),this.align&&this.$element.removeClass("oo-ui-fieldLayout-align-"+this.align),this.$element.addClass("oo-ui-fieldLayout-align-"+a),this.align=a),this},a.ui.ActionFieldLayout=function(b,c,d){a.isPlainObject(b)&&void 0===d&&(d=b,b=d.fieldWidget,c=d.buttonWidget),a.ui.ActionFieldLayout.parent.call(this,b,d),this.buttonWidget=c,this.$button=$("<div>"),this.$input=$("<div>"),this.$element.addClass("oo-ui-actionFieldLayout"),this.$button.addClass("oo-ui-actionFieldLayout-button").append(this.buttonWidget.$element),this.$input.addClass("oo-ui-actionFieldLayout-input").append(this.fieldWidget.$element),this.$field.append(this.$input,this.$button)},a.inheritClass(a.ui.ActionFieldLayout,a.ui.FieldLayout),a.ui.FieldsetLayout=function(b){b=b||{},a.ui.FieldsetLayout.parent.call(this,b),a.ui.mixin.IconElement.call(this,b),a.ui.mixin.LabelElement.call(this,b),a.ui.mixin.GroupElement.call(this,b),b.help?(this.popupButtonWidget=new a.ui.PopupButtonWidget({classes:["oo-ui-fieldsetLayout-help"],framed:!1,icon:"info"}),this.popupButtonWidget.getPopup().$body.append($("<div>").text(b.help).addClass("oo-ui-fieldsetLayout-help-content")),this.$help=this.popupButtonWidget.$element):this.$help=$([]),this.$element.addClass("oo-ui-fieldsetLayout").prepend(this.$help,this.$icon,this.$label,this.$group),Array.isArray(b.items)&&this.addItems(b.items)},a.inheritClass(a.ui.FieldsetLayout,a.ui.Layout),a.mixinClass(a.ui.FieldsetLayout,a.ui.mixin.IconElement),a.mixinClass(a.ui.FieldsetLayout,a.ui.mixin.LabelElement),a.mixinClass(a.ui.FieldsetLayout,a.ui.mixin.GroupElement),a.ui.FormLayout=function(b){b=b||{},a.ui.FormLayout.parent.call(this,b),a.ui.mixin.GroupElement.call(this,$.extend({},b,{$group:this.$element})),this.$element.on("submit",this.onFormSubmit.bind(this)),this.$element.addClass("oo-ui-formLayout").attr({method:b.method,action:b.action,enctype:b.enctype}),Array.isArray(b.items)&&this.addItems(b.items)},a.inheritClass(a.ui.FormLayout,a.ui.Layout),a.mixinClass(a.ui.FormLayout,a.ui.mixin.GroupElement),a.ui.FormLayout["static"].tagName="form",a.ui.FormLayout.prototype.onFormSubmit=function(){return this.emit("submit")?!1:void 0},a.ui.MenuLayout=function(b){b=$.extend({showMenu:!0,menuPosition:"before"},b),a.ui.MenuLayout.parent.call(this,b),this.$menu=$("<div>"),this.$content=$("<div>"),this.$menu.addClass("oo-ui-menuLayout-menu"),this.$content.addClass("oo-ui-menuLayout-content"),this.$element.addClass("oo-ui-menuLayout").append(this.$content,this.$menu),this.setMenuPosition(b.menuPosition),this.toggleMenu(b.showMenu)},a.inheritClass(a.ui.MenuLayout,a.ui.Layout),a.ui.MenuLayout.prototype.toggleMenu=function(a){return a=void 0===a?!this.showMenu:!!a,this.showMenu!==a&&(this.showMenu=a,this.$element.toggleClass("oo-ui-menuLayout-showMenu",this.showMenu).toggleClass("oo-ui-menuLayout-hideMenu",!this.showMenu)),this},a.ui.MenuLayout.prototype.isMenuVisible=function(){return this.showMenu},a.ui.MenuLayout.prototype.setMenuPosition=function(a){return this.$element.removeClass("oo-ui-menuLayout-"+this.menuPosition),this.menuPosition=a,this.$element.addClass("oo-ui-menuLayout-"+a),this},a.ui.MenuLayout.prototype.getMenuPosition=function(){return this.menuPosition},a.ui.BookletLayout=function(b){b=b||{},a.ui.BookletLayout.parent.call(this,b),this.currentPageName=null,this.pages={},this.ignoreFocus=!1,this.stackLayout=new a.ui.StackLayout({continuous:!!b.continuous}),this.$content.append(this.stackLayout.$element),this.autoFocus=void 0===b.autoFocus||!!b.autoFocus,this.outlineVisible=!1,this.outlined=!!b.outlined,this.outlined&&(this.editable=!!b.editable,this.outlineControlsWidget=null,this.outlineSelectWidget=new a.ui.OutlineSelectWidget,this.outlinePanel=new a.ui.PanelLayout({scrollable:!0}),this.$menu.append(this.outlinePanel.$element),this.outlineVisible=!0,this.editable&&(this.outlineControlsWidget=new a.ui.OutlineControlsWidget(this.outlineSelectWidget))),this.toggleMenu(this.outlined),this.stackLayout.connect(this,{set:"onStackLayoutSet"}),this.outlined&&this.outlineSelectWidget.connect(this,{select:"onOutlineSelectWidgetSelect"}),this.autoFocus&&this.stackLayout.$element.on("focusin",this.onStackLayoutFocus.bind(this)),this.$element.addClass("oo-ui-bookletLayout"),this.stackLayout.$element.addClass("oo-ui-bookletLayout-stackLayout"),this.outlined&&(this.outlinePanel.$element.addClass("oo-ui-bookletLayout-outlinePanel").append(this.outlineSelectWidget.$element),this.editable&&this.outlinePanel.$element.addClass("oo-ui-bookletLayout-outlinePanel-editable").append(this.outlineControlsWidget.$element))
},a.inheritClass(a.ui.BookletLayout,a.ui.MenuLayout),a.ui.BookletLayout.prototype.onStackLayoutFocus=function(a){var b,c;c=$(a.target).closest(".oo-ui-pageLayout");for(b in this.pages)if(this.pages[b].$element[0]===c[0]&&b!==this.currentPageName){this.setPage(b);break}},a.ui.BookletLayout.prototype.onStackLayoutSet=function(a){var b=this;a&&a.scrollElementIntoView({complete:function(){b.autoFocus&&b.focus()}})},a.ui.BookletLayout.prototype.focus=function(a){var b,c,d=this.stackLayout.getItems();c=void 0!==a&&d[a]?d[a]:this.stackLayout.getCurrentItem(),!c&&this.outlined&&(this.selectFirstSelectablePage(),c=this.stackLayout.getCurrentItem()),c&&(c.$element.find(":focus").length||(b=c.$element.find(":input:first"),b.length&&b[0].focus()))},a.ui.BookletLayout.prototype.focusFirstFocusable=function(){var b,c,d=!1,e=this.stackLayout.getItems(),f=function(){return a.ui.isFocusableElement($(this))?($(this).focus(),d=!0,!1):void 0};for(b=0,c=e.length;c>b&&!d;b++)e[b].$element.find("input, select, textarea, button, object").each(f)},a.ui.BookletLayout.prototype.onOutlineSelectWidgetSelect=function(a){a&&this.setPage(a.getData())},a.ui.BookletLayout.prototype.isOutlined=function(){return this.outlined},a.ui.BookletLayout.prototype.isEditable=function(){return this.editable},a.ui.BookletLayout.prototype.isOutlineVisible=function(){return this.outlined&&this.outlineVisible},a.ui.BookletLayout.prototype.toggleOutline=function(a){return this.outlined&&(a=void 0===a?!this.outlineVisible:!!a,this.outlineVisible=a,this.toggleMenu(a)),this},a.ui.BookletLayout.prototype.getClosestPage=function(a){var b,c,d,e=this.stackLayout.getItems(),f=$.inArray(a,e);if(-1!==f&&(b=e[f+1],c=e[f-1],this.outlined)){if(d=this.outlineSelectWidget.getItemFromData(a.getName()).getLevel(),c&&d===this.outlineSelectWidget.getItemFromData(c.getName()).getLevel())return c;if(b&&d===this.outlineSelectWidget.getItemFromData(b.getName()).getLevel())return b}return c||b||null},a.ui.BookletLayout.prototype.getOutline=function(){return this.outlineSelectWidget},a.ui.BookletLayout.prototype.getOutlineControls=function(){return this.outlineControlsWidget},a.ui.BookletLayout.prototype.getPage=function(a){return this.pages[a]},a.ui.BookletLayout.prototype.getCurrentPage=function(){var a=this.getCurrentPageName();return a?this.getPage(a):void 0},a.ui.BookletLayout.prototype.getCurrentPageName=function(){return this.currentPageName},a.ui.BookletLayout.prototype.addPages=function(b,c){var d,e,f,g,h,i,j=this.stackLayout.getItems(),k=[],l=[];for(d=0,e=b.length;e>d;d++)g=b[d],f=g.getName(),Object.prototype.hasOwnProperty.call(this.pages,f)&&(i=$.inArray(this.pages[f],j),-1!==i&&c>i+1&&c--,k.push(this.pages[f]));for(k.length&&this.removePages(k),d=0,e=b.length;e>d;d++)g=b[d],f=g.getName(),this.pages[g.getName()]=g,this.outlined&&(h=new a.ui.OutlineOptionWidget({data:f}),g.setOutlineItem(h),l.push(h));return this.outlined&&l.length&&(this.outlineSelectWidget.addItems(l,c),this.selectFirstSelectablePage()),this.stackLayout.addItems(b,c),this.emit("add",b,c),this},a.ui.BookletLayout.prototype.removePages=function(a){var b,c,d,e,f=[];for(b=0,c=a.length;c>b;b++)e=a[b],d=e.getName(),delete this.pages[d],this.outlined&&(f.push(this.outlineSelectWidget.getItemFromData(d)),e.setOutlineItem(null));return this.outlined&&f.length&&(this.outlineSelectWidget.removeItems(f),this.selectFirstSelectablePage()),this.stackLayout.removeItems(a),this.emit("remove",a),this},a.ui.BookletLayout.prototype.clearPages=function(){var a,b,c=this.stackLayout.getItems();if(this.pages={},this.currentPageName=null,this.outlined)for(this.outlineSelectWidget.clearItems(),a=0,b=c.length;b>a;a++)c[a].setOutlineItem(null);return this.stackLayout.clearItems(),this.emit("remove",c),this},a.ui.BookletLayout.prototype.setPage=function(a){var b,c,d=this.pages[a];a!==this.currentPageName&&(this.outlined&&(b=this.outlineSelectWidget.getSelectedItem(),b&&b.getData()!==a&&this.outlineSelectWidget.selectItemByData(a)),d&&(this.currentPageName&&this.pages[this.currentPageName]&&(this.pages[this.currentPageName].setActive(!1),this.autoFocus&&!d.$element.find(":input").length&&(c=this.pages[this.currentPageName].$element.find(":focus"),c.length&&c[0].blur())),this.currentPageName=a,this.stackLayout.setItem(d),d.setActive(!0),this.emit("set",d)))},a.ui.BookletLayout.prototype.selectFirstSelectablePage=function(){return this.outlineSelectWidget.getSelectedItem()||this.outlineSelectWidget.selectItem(this.outlineSelectWidget.getFirstSelectableItem()),this},a.ui.IndexLayout=function(b){b=$.extend({},b,{menuPosition:"top"}),a.ui.IndexLayout.parent.call(this,b),this.currentCardName=null,this.cards={},this.ignoreFocus=!1,this.stackLayout=new a.ui.StackLayout({continuous:!!b.continuous}),this.$content.append(this.stackLayout.$element),this.autoFocus=void 0===b.autoFocus||!!b.autoFocus,this.tabSelectWidget=new a.ui.TabSelectWidget,this.tabPanel=new a.ui.PanelLayout,this.$menu.append(this.tabPanel.$element),this.toggleMenu(!0),this.stackLayout.connect(this,{set:"onStackLayoutSet"}),this.tabSelectWidget.connect(this,{select:"onTabSelectWidgetSelect"}),this.autoFocus&&this.stackLayout.$element.on("focusin",this.onStackLayoutFocus.bind(this)),this.$element.addClass("oo-ui-indexLayout"),this.stackLayout.$element.addClass("oo-ui-indexLayout-stackLayout"),this.tabPanel.$element.addClass("oo-ui-indexLayout-tabPanel").append(this.tabSelectWidget.$element)},a.inheritClass(a.ui.IndexLayout,a.ui.MenuLayout),a.ui.IndexLayout.prototype.onStackLayoutFocus=function(a){var b,c;c=$(a.target).closest(".oo-ui-cardLayout");for(b in this.cards)if(this.cards[b].$element[0]===c[0]&&b!==this.currentCardName){this.setCard(b);break}},a.ui.IndexLayout.prototype.onStackLayoutSet=function(a){var b=this;a&&a.scrollElementIntoView({complete:function(){b.autoFocus&&b.focus()}})},a.ui.IndexLayout.prototype.focus=function(a){var b,c,d=this.stackLayout.getItems();c=void 0!==a&&d[a]?d[a]:this.stackLayout.getCurrentItem(),c||(this.selectFirstSelectableCard(),c=this.stackLayout.getCurrentItem()),c&&(c.$element.find(":focus").length||(b=c.$element.find(":input:first"),b.length&&b[0].focus()))},a.ui.IndexLayout.prototype.focusFirstFocusable=function(){var b,c,d=!1,e=this.stackLayout.getItems(),f=function(){return a.ui.isFocusableElement($(this))?($(this).focus(),d=!0,!1):void 0};for(b=0,c=e.length;c>b&&!d;b++)e[b].$element.find("input, select, textarea, button, object").each(f)},a.ui.IndexLayout.prototype.onTabSelectWidgetSelect=function(a){a&&this.setCard(a.getData())},a.ui.IndexLayout.prototype.getClosestCard=function(a){var b,c,d,e=this.stackLayout.getItems(),f=$.inArray(a,e);if(-1!==f){if(b=e[f+1],c=e[f-1],d=this.tabSelectWidget.getItemFromData(a.getName()).getLevel(),c&&d===this.tabSelectWidget.getItemFromData(c.getName()).getLevel())return c;if(b&&d===this.tabSelectWidget.getItemFromData(b.getName()).getLevel())return b}return c||b||null},a.ui.IndexLayout.prototype.getTabs=function(){return this.tabSelectWidget},a.ui.IndexLayout.prototype.getCard=function(a){return this.cards[a]},a.ui.IndexLayout.prototype.getCurrentCard=function(){var a=this.getCurrentCardName();return a?this.getCard(a):void 0},a.ui.IndexLayout.prototype.getCurrentCardName=function(){return this.currentCardName},a.ui.IndexLayout.prototype.addCards=function(b,c){var d,e,f,g,h,i,j=this.stackLayout.getItems(),k=[],l=[];for(d=0,e=b.length;e>d;d++)g=b[d],f=g.getName(),Object.prototype.hasOwnProperty.call(this.cards,f)&&(i=$.inArray(this.cards[f],j),-1!==i&&c>i+1&&c--,k.push(this.cards[f]));for(k.length&&this.removeCards(k),d=0,e=b.length;e>d;d++)g=b[d],f=g.getName(),this.cards[g.getName()]=g,h=new a.ui.TabOptionWidget({data:f}),g.setTabItem(h),l.push(h);return l.length&&(this.tabSelectWidget.addItems(l,c),this.selectFirstSelectableCard()),this.stackLayout.addItems(b,c),this.emit("add",b,c),this},a.ui.IndexLayout.prototype.removeCards=function(a){var b,c,d,e,f=[];for(b=0,c=a.length;c>b;b++)e=a[b],d=e.getName(),delete this.cards[d],f.push(this.tabSelectWidget.getItemFromData(d)),e.setTabItem(null);return f.length&&(this.tabSelectWidget.removeItems(f),this.selectFirstSelectableCard()),this.stackLayout.removeItems(a),this.emit("remove",a),this},a.ui.IndexLayout.prototype.clearCards=function(){var a,b,c=this.stackLayout.getItems();for(this.cards={},this.currentCardName=null,this.tabSelectWidget.clearItems(),a=0,b=c.length;b>a;a++)c[a].setTabItem(null);return this.stackLayout.clearItems(),this.emit("remove",c),this},a.ui.IndexLayout.prototype.setCard=function(a){var b,c,d=this.cards[a];a!==this.currentCardName&&(b=this.tabSelectWidget.getSelectedItem(),b&&b.getData()!==a&&this.tabSelectWidget.selectItemByData(a),d&&(this.currentCardName&&this.cards[this.currentCardName]&&(this.cards[this.currentCardName].setActive(!1),this.autoFocus&&!d.$element.find(":input").length&&(c=this.cards[this.currentCardName].$element.find(":focus"),c.length&&c[0].blur())),this.currentCardName=a,this.stackLayout.setItem(d),d.setActive(!0),this.emit("set",d)))},a.ui.IndexLayout.prototype.selectFirstSelectableCard=function(){return this.tabSelectWidget.getSelectedItem()||this.tabSelectWidget.selectItem(this.tabSelectWidget.getFirstSelectableItem()),this},a.ui.PanelLayout=function(b){b=$.extend({scrollable:!1,padded:!1,expanded:!0,framed:!1},b),a.ui.PanelLayout.parent.call(this,b),this.$element.addClass("oo-ui-panelLayout"),b.scrollable&&this.$element.addClass("oo-ui-panelLayout-scrollable"),b.padded&&this.$element.addClass("oo-ui-panelLayout-padded"),b.expanded&&this.$element.addClass("oo-ui-panelLayout-expanded"),b.framed&&this.$element.addClass("oo-ui-panelLayout-framed")},a.inheritClass(a.ui.PanelLayout,a.ui.Layout),a.ui.CardLayout=function(b,c){a.isPlainObject(b)&&void 0===c&&(c=b,b=c.name),c=$.extend({scrollable:!0},c),a.ui.CardLayout.parent.call(this,c),this.name=b,this.tabItem=null,this.active=!1,this.$element.addClass("oo-ui-cardLayout")},a.inheritClass(a.ui.CardLayout,a.ui.PanelLayout),a.ui.CardLayout.prototype.getName=function(){return this.name},a.ui.CardLayout.prototype.isActive=function(){return this.active},a.ui.CardLayout.prototype.getTabItem=function(){return this.tabItem},a.ui.CardLayout.prototype.setTabItem=function(a){return this.tabItem=a||null,a&&this.setupTabItem(),this},a.ui.CardLayout.prototype.setupTabItem=function(){return this},a.ui.CardLayout.prototype.setActive=function(a){a=!!a,a!==this.active&&(this.active=a,this.$element.toggleClass("oo-ui-cardLayout-active",this.active),this.emit("active",this.active))},a.ui.PageLayout=function(b,c){a.isPlainObject(b)&&void 0===c&&(c=b,b=c.name),c=$.extend({scrollable:!0},c),a.ui.PageLayout.parent.call(this,c),this.name=b,this.outlineItem=null,this.active=!1,this.$element.addClass("oo-ui-pageLayout")},a.inheritClass(a.ui.PageLayout,a.ui.PanelLayout),a.ui.PageLayout.prototype.getName=function(){return this.name},a.ui.PageLayout.prototype.isActive=function(){return this.active},a.ui.PageLayout.prototype.getOutlineItem=function(){return this.outlineItem},a.ui.PageLayout.prototype.setOutlineItem=function(a){return this.outlineItem=a||null,a&&this.setupOutlineItem(),this},a.ui.PageLayout.prototype.setupOutlineItem=function(){return this},a.ui.PageLayout.prototype.setActive=function(a){a=!!a,a!==this.active&&(this.active=a,this.$element.toggleClass("oo-ui-pageLayout-active",a),this.emit("active",this.active))},a.ui.StackLayout=function(b){b=$.extend({scrollable:!0},b),a.ui.StackLayout.parent.call(this,b),a.ui.mixin.GroupElement.call(this,$.extend({},b,{$group:this.$element})),this.currentItem=null,this.continuous=!!b.continuous,this.$element.addClass("oo-ui-stackLayout"),this.continuous&&this.$element.addClass("oo-ui-stackLayout-continuous"),Array.isArray(b.items)&&this.addItems(b.items)},a.inheritClass(a.ui.StackLayout,a.ui.PanelLayout),a.mixinClass(a.ui.StackLayout,a.ui.mixin.GroupElement),a.ui.StackLayout.prototype.getCurrentItem=function(){return this.currentItem},a.ui.StackLayout.prototype.unsetCurrentItem=function(){var a=this.currentItem;null!==a&&(this.currentItem=null,this.emit("set",null))},a.ui.StackLayout.prototype.addItems=function(b,c){return this.updateHiddenState(b,this.currentItem),a.ui.mixin.GroupElement.prototype.addItems.call(this,b,c),!this.currentItem&&b.length&&this.setItem(b[0]),this},a.ui.StackLayout.prototype.removeItems=function(b){return a.ui.mixin.GroupElement.prototype.removeItems.call(this,b),-1!==$.inArray(this.currentItem,b)&&(this.items.length?this.setItem(this.items[0]):this.unsetCurrentItem()),this},a.ui.StackLayout.prototype.clearItems=function(){return this.unsetCurrentItem(),a.ui.mixin.GroupElement.prototype.clearItems.call(this),this},a.ui.StackLayout.prototype.setItem=function(a){return a!==this.currentItem&&(this.updateHiddenState(this.items,a),-1!==$.inArray(a,this.items)?(this.currentItem=a,this.emit("set",a)):this.unsetCurrentItem()),this},a.ui.StackLayout.prototype.updateHiddenState=function(a,b){var c,d;if(!this.continuous){for(c=0,d=a.length;d>c;c++)b&&b===a[c]||a[c].$element.addClass("oo-ui-element-hidden");b&&b.$element.removeClass("oo-ui-element-hidden")}},a.ui.BarToolGroup=function(b,c){a.isPlainObject(b)&&void 0===c&&(c=b,b=c.toolbar),a.ui.BarToolGroup.parent.call(this,b,c),this.$element.addClass("oo-ui-barToolGroup")},a.inheritClass(a.ui.BarToolGroup,a.ui.ToolGroup),a.ui.BarToolGroup["static"].titleTooltips=!0,a.ui.BarToolGroup["static"].accelTooltips=!0,a.ui.BarToolGroup["static"].name="bar",a.ui.PopupToolGroup=function(b,c){a.isPlainObject(b)&&void 0===c&&(c=b,b=c.toolbar),c=c||{},a.ui.PopupToolGroup.parent.call(this,b,c),this.active=!1,this.dragging=!1,this.onBlurHandler=this.onBlur.bind(this),this.$handle=$("<span>"),a.ui.mixin.IconElement.call(this,c),a.ui.mixin.IndicatorElement.call(this,c),a.ui.mixin.LabelElement.call(this,c),a.ui.mixin.TitledElement.call(this,c),a.ui.mixin.ClippableElement.call(this,$.extend({},c,{$clippable:this.$group})),a.ui.mixin.TabIndexedElement.call(this,$.extend({},c,{$tabIndexed:this.$handle})),this.$handle.on({keydown:this.onHandleMouseKeyDown.bind(this),keyup:this.onHandleMouseKeyUp.bind(this),mousedown:this.onHandleMouseKeyDown.bind(this),mouseup:this.onHandleMouseKeyUp.bind(this)}),this.$handle.addClass("oo-ui-popupToolGroup-handle").append(this.$icon,this.$label,this.$indicator),void 0!==c.header&&this.$group.prepend($("<span>").addClass("oo-ui-popupToolGroup-header").text(c.header)),this.$element.addClass("oo-ui-popupToolGroup").prepend(this.$handle)},a.inheritClass(a.ui.PopupToolGroup,a.ui.ToolGroup),a.mixinClass(a.ui.PopupToolGroup,a.ui.mixin.IconElement),a.mixinClass(a.ui.PopupToolGroup,a.ui.mixin.IndicatorElement),a.mixinClass(a.ui.PopupToolGroup,a.ui.mixin.LabelElement),a.mixinClass(a.ui.PopupToolGroup,a.ui.mixin.TitledElement),a.mixinClass(a.ui.PopupToolGroup,a.ui.mixin.ClippableElement),a.mixinClass(a.ui.PopupToolGroup,a.ui.mixin.TabIndexedElement),a.ui.PopupToolGroup.prototype.setDisabled=function(){a.ui.PopupToolGroup.parent.prototype.setDisabled.apply(this,arguments),this.isDisabled()&&this.isElementAttached()&&this.setActive(!1)},a.ui.PopupToolGroup.prototype.onBlur=function(a){$(a.target).closest(".oo-ui-popupToolGroup")[0]!==this.$element[0]&&this.setActive(!1)},a.ui.PopupToolGroup.prototype.onMouseKeyUp=function(b){return this.isDisabled()||!this.pressed||this.pressed!==this.getTargetTool(b)||1!==b.which&&b.which!==a.ui.Keys.SPACE&&b.which!==a.ui.Keys.ENTER||this.setActive(!1),a.ui.PopupToolGroup.parent.prototype.onMouseKeyUp.call(this,b)},a.ui.PopupToolGroup.prototype.onHandleMouseKeyUp=function(b){return this.isDisabled()||1!==b.which&&b.which!==a.ui.Keys.SPACE&&b.which!==a.ui.Keys.ENTER?void 0:!1},a.ui.PopupToolGroup.prototype.onHandleMouseKeyDown=function(b){return this.isDisabled()||1!==b.which&&b.which!==a.ui.Keys.SPACE&&b.which!==a.ui.Keys.ENTER?void 0:(this.setActive(!this.active),!1)},a.ui.PopupToolGroup.prototype.setActive=function(a){a=!!a,this.active!==a&&(this.active=a,a?(this.getElementDocument().addEventListener("mouseup",this.onBlurHandler,!0),this.getElementDocument().addEventListener("keyup",this.onBlurHandler,!0),this.$element.addClass("oo-ui-popupToolGroup-active oo-ui-popupToolGroup-left"),this.toggleClipping(!0),this.isClippedHorizontally()&&(this.toggleClipping(!1),this.$element.removeClass("oo-ui-popupToolGroup-left").addClass("oo-ui-popupToolGroup-right"),this.toggleClipping(!0))):(this.getElementDocument().removeEventListener("mouseup",this.onBlurHandler,!0),this.getElementDocument().removeEventListener("keyup",this.onBlurHandler,!0),this.$element.removeClass("oo-ui-popupToolGroup-active oo-ui-popupToolGroup-left  oo-ui-popupToolGroup-right"),this.toggleClipping(!1)))},a.ui.ListToolGroup=function(b,c){a.isPlainObject(b)&&void 0===c&&(c=b,b=c.toolbar),c=c||{},this.allowCollapse=c.allowCollapse,this.forceExpand=c.forceExpand,this.expanded=void 0!==c.expanded?c.expanded:!1,this.collapsibleTools=[],a.ui.ListToolGroup.parent.call(this,b,c),this.$element.addClass("oo-ui-listToolGroup")},a.inheritClass(a.ui.ListToolGroup,a.ui.PopupToolGroup),a.ui.ListToolGroup["static"].name="list",a.ui.ListToolGroup.prototype.populate=function(){var b,c,d=[];for(a.ui.ListToolGroup.parent.prototype.populate.call(this),void 0!==this.allowCollapse?d=this.allowCollapse:void 0!==this.forceExpand&&(d=a.simpleArrayDifference(Object.keys(this.tools),this.forceExpand)),this.collapsibleTools=[],b=0,c=d.length;c>b;b++)void 0!==this.tools[d[b]]&&this.collapsibleTools.push(this.tools[d[b]]);this.$group.append(this.getExpandCollapseTool().$element),this.getExpandCollapseTool().toggle(0!==this.collapsibleTools.length),this.updateCollapsibleState()},a.ui.ListToolGroup.prototype.getExpandCollapseTool=function(){if(void 0===this.expandCollapseTool){var b=function(){b.parent.apply(this,arguments)};a.inheritClass(b,a.ui.Tool),b.prototype.onSelect=function(){this.toolGroup.expanded=!this.toolGroup.expanded,this.toolGroup.updateCollapsibleState(),this.setActive(!1)},b.prototype.onUpdateState=function(){},b["static"].name="more-fewer",this.expandCollapseTool=new b(this)}return this.expandCollapseTool},a.ui.ListToolGroup.prototype.onMouseKeyUp=function(b){return!$(b.target).closest(".oo-ui-tool-name-more-fewer").length||1!==b.which&&b.which!==a.ui.Keys.SPACE&&b.which!==a.ui.Keys.ENTER?a.ui.ListToolGroup.parent.prototype.onMouseKeyUp.call(this,b):a.ui.ListToolGroup.parent.parent.prototype.onMouseKeyUp.call(this,b)},a.ui.ListToolGroup.prototype.updateCollapsibleState=function(){var b,c;for(this.getExpandCollapseTool().setIcon(this.expanded?"collapse":"expand").setTitle(a.ui.msg(this.expanded?"ooui-toolgroup-collapse":"ooui-toolgroup-expand")),b=0,c=this.collapsibleTools.length;c>b;b++)this.collapsibleTools[b].toggle(this.expanded)},a.ui.MenuToolGroup=function(b,c){a.isPlainObject(b)&&void 0===c&&(c=b,b=c.toolbar),c=c||{},a.ui.MenuToolGroup.parent.call(this,b,c),this.toolbar.connect(this,{updateState:"onUpdateState"}),this.$element.addClass("oo-ui-menuToolGroup")},a.inheritClass(a.ui.MenuToolGroup,a.ui.PopupToolGroup),a.ui.MenuToolGroup["static"].name="menu",a.ui.MenuToolGroup.prototype.onUpdateState=function(){var a,b=[];for(a in this.tools)this.tools[a].isActive()&&b.push(this.tools[a].getTitle());this.setLabel(b.join(", ")||" ")},a.ui.PopupTool=function(b,c){a.isPlainObject(b)&&void 0===c&&(c=b,b=c.toolGroup),a.ui.PopupTool.parent.call(this,b,c),a.ui.mixin.PopupElement.call(this,c),this.$element.addClass("oo-ui-popupTool").append(this.popup.$element)},a.inheritClass(a.ui.PopupTool,a.ui.Tool),a.mixinClass(a.ui.PopupTool,a.ui.mixin.PopupElement),a.ui.PopupTool.prototype.onSelect=function(){return this.isDisabled()||this.popup.toggle(),this.setActive(!1),!1},a.ui.PopupTool.prototype.onUpdateState=function(){this.setActive(!1)},a.ui.ToolGroupTool=function(b,c){a.isPlainObject(b)&&void 0===c&&(c=b,b=c.toolGroup),a.ui.ToolGroupTool.parent.call(this,b,c),this.innerToolGroup=this.createGroup(this.constructor["static"].groupConfig),this.innerToolGroup.connect(this,{disable:"onToolGroupDisable"}),this.$link.remove(),this.$element.addClass("oo-ui-toolGroupTool").append(this.innerToolGroup.$element)},a.inheritClass(a.ui.ToolGroupTool,a.ui.Tool),a.ui.ToolGroupTool["static"].groupConfig={},a.ui.ToolGroupTool.prototype.onSelect=function(){return this.innerToolGroup.setActive(!this.innerToolGroup.active),!1},a.ui.ToolGroupTool.prototype.onToolGroupDisable=function(a){this.setDisabled(a)},a.ui.ToolGroupTool.prototype.onUpdateState=function(){this.setActive(!1)},a.ui.ToolGroupTool.prototype.createGroup=function(b){return"*"===b.include&&void 0===b.label&&(b.label=a.ui.msg("ooui-toolbar-more")),this.toolbar.getToolGroupFactory().create("list",this.toolbar,b)},a.ui.mixin.GroupWidget=function(b){a.ui.mixin.GroupWidget.parent.call(this,b)},a.inheritClass(a.ui.mixin.GroupWidget,a.ui.mixin.GroupElement),a.ui.mixin.GroupWidget.prototype.setDisabled=function(b){var c,d;if(a.ui.Widget.prototype.setDisabled.call(this,b),this.items)for(c=0,d=this.items.length;d>c;c++)this.items[c].updateDisabled();return this},a.ui.mixin.ItemWidget=function(){},a.ui.mixin.ItemWidget.prototype.isDisabled=function(){return this.disabled||this.elementGroup instanceof a.ui.Widget&&this.elementGroup.isDisabled()},a.ui.mixin.ItemWidget.prototype.setElementGroup=function(b){return a.ui.Element.prototype.setElementGroup.call(this,b),this.updateDisabled(),this},a.ui.OutlineControlsWidget=function(b,c){a.isPlainObject(b)&&void 0===c&&(c=b,b=c.outline),c=$.extend({icon:"add"},c),a.ui.OutlineControlsWidget.parent.call(this,c),a.ui.mixin.GroupElement.call(this,c),a.ui.mixin.IconElement.call(this,c),this.outline=b,this.$movers=$("<div>"),this.upButton=new a.ui.ButtonWidget({framed:!1,icon:"collapse",title:a.ui.msg("ooui-outline-control-move-up")}),this.downButton=new a.ui.ButtonWidget({framed:!1,icon:"expand",title:a.ui.msg("ooui-outline-control-move-down")}),this.removeButton=new a.ui.ButtonWidget({framed:!1,icon:"remove",title:a.ui.msg("ooui-outline-control-remove")}),this.abilities={move:!0,remove:!0},b.connect(this,{select:"onOutlineChange",add:"onOutlineChange",remove:"onOutlineChange"}),this.upButton.connect(this,{click:["emit","move",-1]}),this.downButton.connect(this,{click:["emit","move",1]}),this.removeButton.connect(this,{click:["emit","remove"]}),this.$element.addClass("oo-ui-outlineControlsWidget"),this.$group.addClass("oo-ui-outlineControlsWidget-items"),this.$movers.addClass("oo-ui-outlineControlsWidget-movers").append(this.removeButton.$element,this.upButton.$element,this.downButton.$element),this.$element.append(this.$icon,this.$group,this.$movers),this.setAbilities(c.abilities||{})},a.inheritClass(a.ui.OutlineControlsWidget,a.ui.Widget),a.mixinClass(a.ui.OutlineControlsWidget,a.ui.mixin.GroupElement),a.mixinClass(a.ui.OutlineControlsWidget,a.ui.mixin.IconElement),a.ui.OutlineControlsWidget.prototype.setAbilities=function(a){var b;for(b in this.abilities)void 0!==a[b]&&(this.abilities[b]=!!a[b]);this.onOutlineChange()},a.ui.OutlineControlsWidget.prototype.onOutlineChange=function(){var a,b,c,d,e=this.outline.getItems(),f=this.outline.getSelectedItem(),g=this.abilities.move&&f&&f.isMovable(),h=this.abilities.remove&&f&&f.isRemovable();if(g){for(a=-1,b=e.length;++a<b;)if(e[a].isMovable()){c=e[a];break}for(a=b;a--;)if(e[a].isMovable()){d=e[a];break}}this.upButton.setDisabled(!g||f===c),this.downButton.setDisabled(!g||f===d),this.removeButton.setDisabled(!h)},a.ui.ToggleWidget=function(b){b=b||{},a.ui.ToggleWidget.parent.call(this,b),this.value=null,this.$element.addClass("oo-ui-toggleWidget"),this.setValue(!!b.value)},a.inheritClass(a.ui.ToggleWidget,a.ui.Widget),a.ui.ToggleWidget.prototype.getValue=function(){return this.value},a.ui.ToggleWidget.prototype.setValue=function(a){return a=!!a,this.value!==a&&(this.value=a,this.emit("change",a),this.$element.toggleClass("oo-ui-toggleWidget-on",a),this.$element.toggleClass("oo-ui-toggleWidget-off",!a),this.$element.attr("aria-checked",a.toString())),this},a.ui.ButtonGroupWidget=function(b){b=b||{},a.ui.ButtonGroupWidget.parent.call(this,b),a.ui.mixin.GroupElement.call(this,$.extend({},b,{$group:this.$element})),this.$element.addClass("oo-ui-buttonGroupWidget"),Array.isArray(b.items)&&this.addItems(b.items)},a.inheritClass(a.ui.ButtonGroupWidget,a.ui.Widget),a.mixinClass(a.ui.ButtonGroupWidget,a.ui.mixin.GroupElement),a.ui.ButtonWidget=function(b){b=b||{},a.ui.ButtonWidget.parent.call(this,b),a.ui.mixin.ButtonElement.call(this,b),a.ui.mixin.IconElement.call(this,b),a.ui.mixin.IndicatorElement.call(this,b),a.ui.mixin.LabelElement.call(this,b),a.ui.mixin.TitledElement.call(this,$.extend({},b,{$titled:this.$button})),a.ui.mixin.FlaggedElement.call(this,b),a.ui.mixin.TabIndexedElement.call(this,$.extend({},b,{$tabIndexed:this.$button})),this.href=null,this.target=null,this.noFollow=!1,this.connect(this,{disable:"onDisable"}),this.$button.append(this.$icon,this.$label,this.$indicator),this.$element.addClass("oo-ui-buttonWidget").append(this.$button),this.setHref(b.href),this.setTarget(b.target),this.setNoFollow(b.noFollow)},a.inheritClass(a.ui.ButtonWidget,a.ui.Widget),a.mixinClass(a.ui.ButtonWidget,a.ui.mixin.ButtonElement),a.mixinClass(a.ui.ButtonWidget,a.ui.mixin.IconElement),a.mixinClass(a.ui.ButtonWidget,a.ui.mixin.IndicatorElement),a.mixinClass(a.ui.ButtonWidget,a.ui.mixin.LabelElement),a.mixinClass(a.ui.ButtonWidget,a.ui.mixin.TitledElement),a.mixinClass(a.ui.ButtonWidget,a.ui.mixin.FlaggedElement),a.mixinClass(a.ui.ButtonWidget,a.ui.mixin.TabIndexedElement),a.ui.ButtonWidget.prototype.onMouseDown=function(b){return this.isDisabled()||this.$button.removeAttr("tabindex"),a.ui.mixin.ButtonElement.prototype.onMouseDown.call(this,b)},a.ui.ButtonWidget.prototype.onMouseUp=function(b){return this.isDisabled()||this.$button.attr("tabindex",this.tabIndex),a.ui.mixin.ButtonElement.prototype.onMouseUp.call(this,b)},a.ui.ButtonWidget.prototype.getHref=function(){return this.href},a.ui.ButtonWidget.prototype.getTarget=function(){return this.target},a.ui.ButtonWidget.prototype.getNoFollow=function(){return this.noFollow},a.ui.ButtonWidget.prototype.setHref=function(a){return a="string"==typeof a?a:null,a!==this.href&&(this.href=a,this.updateHref()),this},a.ui.ButtonWidget.prototype.updateHref=function(){return null===this.href||this.isDisabled()?this.$button.removeAttr("href"):this.$button.attr("href",this.href),this},a.ui.ButtonWidget.prototype.onDisable=function(){this.updateHref()},a.ui.ButtonWidget.prototype.setTarget=function(a){return a="string"==typeof a?a:null,a!==this.target&&(this.target=a,null!==a?this.$button.attr("target",a):this.$button.removeAttr("target")),this},a.ui.ButtonWidget.prototype.setNoFollow=function(a){return a="boolean"==typeof a?a:!0,a!==this.noFollow&&(this.noFollow=a,a?this.$button.attr("rel","nofollow"):this.$button.removeAttr("rel")),this},a.ui.ActionWidget=function(b){b=$.extend({framed:!1},b),a.ui.ActionWidget.parent.call(this,b),a.ui.mixin.PendingElement.call(this,b),this.action=b.action||"",this.modes=b.modes||[],this.width=0,this.height=0,this.$element.addClass("oo-ui-actionWidget")},a.inheritClass(a.ui.ActionWidget,a.ui.ButtonWidget),a.mixinClass(a.ui.ActionWidget,a.ui.mixin.PendingElement),a.ui.ActionWidget.prototype.hasMode=function(a){return-1!==this.modes.indexOf(a)},a.ui.ActionWidget.prototype.getAction=function(){return this.action},a.ui.ActionWidget.prototype.getModes=function(){return this.modes.slice()},a.ui.ActionWidget.prototype.propagateResize=function(){var a,b;return this.isElementAttached()&&(a=this.$element.width(),b=this.$element.height(),(a!==this.width||b!==this.height)&&(this.width=a,this.height=b,this.emit("resize"))),this},a.ui.ActionWidget.prototype.setIcon=function(){return a.ui.mixin.IconElement.prototype.setIcon.apply(this,arguments),this.propagateResize(),this},a.ui.ActionWidget.prototype.setLabel=function(){return a.ui.mixin.LabelElement.prototype.setLabel.apply(this,arguments),this.propagateResize(),this},a.ui.ActionWidget.prototype.setFlags=function(){return a.ui.mixin.FlaggedElement.prototype.setFlags.apply(this,arguments),this.propagateResize(),this},a.ui.ActionWidget.prototype.clearFlags=function(){return a.ui.mixin.FlaggedElement.prototype.clearFlags.apply(this,arguments),this.propagateResize(),this},a.ui.ActionWidget.prototype.toggle=function(){return a.ui.ActionWidget.parent.prototype.toggle.apply(this,arguments),this.propagateResize(),this},a.ui.PopupButtonWidget=function(b){a.ui.PopupButtonWidget.parent.call(this,b),a.ui.mixin.PopupElement.call(this,b),this.connect(this,{click:"onAction"}),this.$element.addClass("oo-ui-popupButtonWidget").attr("aria-haspopup","true").append(this.popup.$element)},a.inheritClass(a.ui.PopupButtonWidget,a.ui.ButtonWidget),a.mixinClass(a.ui.PopupButtonWidget,a.ui.mixin.PopupElement),a.ui.PopupButtonWidget.prototype.onAction=function(){this.popup.toggle()},a.ui.ToggleButtonWidget=function(b){b=b||{},a.ui.ToggleButtonWidget.parent.call(this,b),a.ui.mixin.ButtonElement.call(this,b),a.ui.mixin.IconElement.call(this,b),a.ui.mixin.IndicatorElement.call(this,b),a.ui.mixin.LabelElement.call(this,b),a.ui.mixin.TitledElement.call(this,$.extend({},b,{$titled:this.$button})),a.ui.mixin.FlaggedElement.call(this,b),a.ui.mixin.TabIndexedElement.call(this,$.extend({},b,{$tabIndexed:this.$button})),this.connect(this,{click:"onAction"}),this.$button.append(this.$icon,this.$label,this.$indicator),this.$element.addClass("oo-ui-toggleButtonWidget").append(this.$button)},a.inheritClass(a.ui.ToggleButtonWidget,a.ui.ToggleWidget),a.mixinClass(a.ui.ToggleButtonWidget,a.ui.mixin.ButtonElement),a.mixinClass(a.ui.ToggleButtonWidget,a.ui.mixin.IconElement),a.mixinClass(a.ui.ToggleButtonWidget,a.ui.mixin.IndicatorElement),a.mixinClass(a.ui.ToggleButtonWidget,a.ui.mixin.LabelElement),a.mixinClass(a.ui.ToggleButtonWidget,a.ui.mixin.TitledElement),a.mixinClass(a.ui.ToggleButtonWidget,a.ui.mixin.FlaggedElement),a.mixinClass(a.ui.ToggleButtonWidget,a.ui.mixin.TabIndexedElement),a.ui.ToggleButtonWidget.prototype.onAction=function(){this.setValue(!this.value)},a.ui.ToggleButtonWidget.prototype.setValue=function(b){return b=!!b,b!==this.value&&(this.$button&&this.$button.attr("aria-pressed",b.toString()),this.setActive(b)),a.ui.ToggleButtonWidget.parent.prototype.setValue.call(this,b),this},a.ui.ToggleButtonWidget.prototype.setButtonElement=function(b){this.$button&&this.$button.removeAttr("aria-pressed"),a.ui.mixin.ButtonElement.prototype.setButtonElement.call(this,b),this.$button.attr("aria-pressed",this.value.toString())},a.ui.DropdownWidget=function(b){b=$.extend({indicator:"down"},b),a.ui.DropdownWidget.parent.call(this,b),this.$handle=this.$("<span>"),a.ui.mixin.IconElement.call(this,b),a.ui.mixin.IndicatorElement.call(this,b),a.ui.mixin.LabelElement.call(this,b),a.ui.mixin.TitledElement.call(this,$.extend({},b,{$titled:this.$label})),a.ui.mixin.TabIndexedElement.call(this,$.extend({},b,{$tabIndexed:this.$handle})),this.menu=new a.ui.MenuSelectWidget($.extend({widget:this},b.menu)),this.$handle.on({click:this.onClick.bind(this),keypress:this.onKeyPress.bind(this)}),this.menu.connect(this,{select:"onMenuSelect"}),this.$handle.addClass("oo-ui-dropdownWidget-handle").append(this.$icon,this.$label,this.$indicator),this.$element.addClass("oo-ui-dropdownWidget").append(this.$handle,this.menu.$element)},a.inheritClass(a.ui.DropdownWidget,a.ui.Widget),a.mixinClass(a.ui.DropdownWidget,a.ui.mixin.IconElement),a.mixinClass(a.ui.DropdownWidget,a.ui.mixin.IndicatorElement),a.mixinClass(a.ui.DropdownWidget,a.ui.mixin.LabelElement),a.mixinClass(a.ui.DropdownWidget,a.ui.mixin.TitledElement),a.mixinClass(a.ui.DropdownWidget,a.ui.mixin.TabIndexedElement),a.ui.DropdownWidget.prototype.getMenu=function(){return this.menu},a.ui.DropdownWidget.prototype.onMenuSelect=function(a){var b;return a?(b=a.getLabel(),b instanceof jQuery&&(b=b.clone()),void this.setLabel(b)):void this.setLabel(null)},a.ui.DropdownWidget.prototype.onClick=function(a){return this.isDisabled()||1!==a.which||this.menu.toggle(),!1},a.ui.DropdownWidget.prototype.onKeyPress=function(b){return this.isDisabled()||(b.which!==a.ui.Keys.SPACE||this.menu.isVisible())&&b.which!==a.ui.Keys.ENTER?void 0:(this.menu.toggle(),!1)
},a.ui.SelectFileWidget=function(b){var c;b=$.extend({accept:null,placeholder:a.ui.msg("ooui-selectfile-placeholder"),notsupported:a.ui.msg("ooui-selectfile-not-supported"),droppable:!0},b),a.ui.SelectFileWidget.parent.call(this,b),this.$handle=$("<span>"),a.ui.mixin.IconElement.call(this,b),a.ui.mixin.IndicatorElement.call(this,b),a.ui.mixin.PendingElement.call(this,b),a.ui.mixin.LabelElement.call(this,$.extend(b,{autoFitLabel:!0})),a.ui.mixin.TabIndexedElement.call(this,$.extend({},b,{$tabIndexed:this.$handle})),this.isSupported=this.constructor["static"].isSupported(),this.currentFile=null,this.accept=Array.isArray(b.accept)?b.accept:null,this.placeholder=b.placeholder,this.notsupported=b.notsupported,this.onFileSelectedHandler=this.onFileSelected.bind(this),this.clearButton=new a.ui.ButtonWidget({classes:["oo-ui-selectFileWidget-clearButton"],framed:!1,icon:"remove",disabled:this.disabled}),this.$handle.on({keypress:this.onKeyPress.bind(this)}),this.clearButton.connect(this,{click:"onClearClick"}),b.droppable&&(c=this.onDragEnterOrOver.bind(this),this.$handle.on({dragenter:c,dragover:c,dragleave:this.onDragLeave.bind(this),drop:this.onDrop.bind(this)})),this.addInput(),this.updateUI(),this.$label.addClass("oo-ui-selectFileWidget-label"),this.$handle.addClass("oo-ui-selectFileWidget-handle").append(this.$icon,this.$label,this.clearButton.$element,this.$indicator),this.$element.addClass("oo-ui-selectFileWidget").append(this.$handle),b.droppable&&this.$element.addClass("oo-ui-selectFileWidget-droppable")},a.inheritClass(a.ui.SelectFileWidget,a.ui.Widget),a.mixinClass(a.ui.SelectFileWidget,a.ui.mixin.IconElement),a.mixinClass(a.ui.SelectFileWidget,a.ui.mixin.IndicatorElement),a.mixinClass(a.ui.SelectFileWidget,a.ui.mixin.PendingElement),a.mixinClass(a.ui.SelectFileWidget,a.ui.mixin.LabelElement),a.mixinClass(a.ui.SelectFileWidget,a.ui.mixin.TabIndexedElement),a.ui.SelectFileWidget["static"].isSupported=function(){var b;return null===a.ui.SelectFileWidget["static"].isSupportedCache&&(b=$('<input type="file">'),a.ui.SelectFileWidget["static"].isSupportedCache=void 0!==b[0].files),a.ui.SelectFileWidget["static"].isSupportedCache},a.ui.SelectFileWidget["static"].isSupportedCache=null,a.ui.SelectFileWidget.prototype.getValue=function(){return this.currentFile},a.ui.SelectFileWidget.prototype.setValue=function(a){this.currentFile!==a&&(this.currentFile=a,this.updateUI(),this.emit("change",this.currentFile))},a.ui.SelectFileWidget.prototype.updateUI=function(){this.isSupported?this.currentFile?(this.$element.removeClass("oo-ui-selectFileWidget-empty"),this.setLabel(this.currentFile.name+(""!==this.currentFile.type?a.ui.msg("ooui-semicolon-separator")+this.currentFile.type:""))):(this.$element.addClass("oo-ui-selectFileWidget-empty"),this.setLabel(this.placeholder)):(this.$element.addClass("oo-ui-selectFileWidget-notsupported"),this.$element.removeClass("oo-ui-selectFileWidget-empty"),this.setLabel(this.notsupported)),this.$input&&this.$input.attr("title",this.getLabel())},a.ui.SelectFileWidget.prototype.addInput=function(){return this.$input&&this.$input.remove(),this.isSupported?(this.$input=$('<input type="file">'),this.$input.on("change",this.onFileSelectedHandler),this.$input.attr({tabindex:-1,title:this.getLabel()}),this.accept&&this.$input.attr("accept",this.accept.join(", ")),void this.$handle.append(this.$input)):void(this.$input=null)},a.ui.SelectFileWidget.prototype.isFileAcceptable=function(a){var b,c,d;if(!this.accept||""===a.type)return!0;for(c=a.type,b=0;b<this.accept.length;b++){if(d=this.accept[b],d===c)return!0;if("/*"===d.substr(-2)&&(d=d.substr(0,d.length-1),c.substr(0,d.length)===d))return!0}return!1},a.ui.SelectFileWidget.prototype.onFileSelected=function(a){var b=null;a.target.files&&a.target.files[0]&&(b=a.target.files[0],this.isFileAcceptable(b)||(b=null)),this.setValue(b),this.addInput()},a.ui.SelectFileWidget.prototype.onClearClick=function(){return this.setValue(null),!1},a.ui.SelectFileWidget.prototype.onKeyPress=function(b){return!this.isSupported||this.isDisabled()||!this.$input||b.which!==a.ui.Keys.SPACE&&b.which!==a.ui.Keys.ENTER?void 0:(this.$input.click(),!1)},a.ui.SelectFileWidget.prototype.onDragEnterOrOver=function(a){var b=null,c=a.originalEvent.dataTransfer;return a.preventDefault(),a.stopPropagation(),this.isDisabled()||!this.isSupported?(this.$element.removeClass("oo-ui-selectFileWidget-canDrop"),c.dropEffect="none",!1):(c&&c.files&&c.files[0]?(b=c.files[0],this.isFileAcceptable(b)||(b=null)):c&&c.types&&$.inArray("Files",c.types)&&(b="Files exist, but details are unknown"),b?this.$element.addClass("oo-ui-selectFileWidget-canDrop"):(this.$element.removeClass("oo-ui-selectFileWidget-canDrop"),c.dropEffect="none"),!1)},a.ui.SelectFileWidget.prototype.onDragLeave=function(){this.$element.removeClass("oo-ui-selectFileWidget-canDrop")},a.ui.SelectFileWidget.prototype.onDrop=function(a){var b=null,c=a.originalEvent.dataTransfer;return a.preventDefault(),a.stopPropagation(),this.$element.removeClass("oo-ui-selectFileWidget-canDrop"),this.isDisabled()||!this.isSupported?!1:(c&&c.files&&c.files[0]&&(b=c.files[0],this.isFileAcceptable(b)||(b=null)),b&&this.setValue(b),!1)},a.ui.SelectFileWidget.prototype.setDisabled=function(b){return a.ui.SelectFileWidget.parent.prototype.setDisabled.call(this,b),this.clearButton&&this.clearButton.setDisabled(b),this},a.ui.IconWidget=function(b){b=b||{},a.ui.IconWidget.parent.call(this,b),a.ui.mixin.IconElement.call(this,$.extend({},b,{$icon:this.$element})),a.ui.mixin.TitledElement.call(this,$.extend({},b,{$titled:this.$element})),a.ui.mixin.FlaggedElement.call(this,$.extend({},b,{$flagged:this.$element})),this.$element.addClass("oo-ui-iconWidget")},a.inheritClass(a.ui.IconWidget,a.ui.Widget),a.mixinClass(a.ui.IconWidget,a.ui.mixin.IconElement),a.mixinClass(a.ui.IconWidget,a.ui.mixin.TitledElement),a.mixinClass(a.ui.IconWidget,a.ui.mixin.FlaggedElement),a.ui.IconWidget["static"].tagName="span",a.ui.IndicatorWidget=function(b){b=b||{},a.ui.IndicatorWidget.parent.call(this,b),a.ui.mixin.IndicatorElement.call(this,$.extend({},b,{$indicator:this.$element})),a.ui.mixin.TitledElement.call(this,$.extend({},b,{$titled:this.$element})),this.$element.addClass("oo-ui-indicatorWidget")},a.inheritClass(a.ui.IndicatorWidget,a.ui.Widget),a.mixinClass(a.ui.IndicatorWidget,a.ui.mixin.IndicatorElement),a.mixinClass(a.ui.IndicatorWidget,a.ui.mixin.TitledElement),a.ui.IndicatorWidget["static"].tagName="span",a.ui.InputWidget=function(b){b=b||{},a.ui.InputWidget.parent.call(this,b),this.$input=this.getInputElement(b),this.value="",this.inputFilter=b.inputFilter,a.ui.mixin.FlaggedElement.call(this,b),a.ui.mixin.TabIndexedElement.call(this,$.extend({},b,{$tabIndexed:this.$input})),this.$input.on("keydown mouseup cut paste change input select",this.onEdit.bind(this)),this.$input.attr("name",b.name).prop("disabled",this.isDisabled()),this.$element.addClass("oo-ui-inputWidget").append(this.$input,$("<span>")),this.setValue(b.value)},a.inheritClass(a.ui.InputWidget,a.ui.Widget),a.mixinClass(a.ui.InputWidget,a.ui.mixin.FlaggedElement),a.mixinClass(a.ui.InputWidget,a.ui.mixin.TabIndexedElement),a.ui.InputWidget["static"].supportsSimpleLabel=!0,a.ui.InputWidget.prototype.getInputElement=function(){return $("<input>")},a.ui.InputWidget.prototype.onEdit=function(){var a=this;this.isDisabled()||setTimeout(function(){a.setValue(a.$input.val())})},a.ui.InputWidget.prototype.getValue=function(){var a=this.$input.val();return this.value!==a&&this.setValue(a),this.value},a.ui.InputWidget.prototype.setRTL=function(a){this.$input.prop("dir",a?"rtl":"ltr")},a.ui.InputWidget.prototype.setValue=function(a){return a=this.cleanUpValue(a),this.$input.val()!==a&&this.$input.val(a),this.value!==a&&(this.value=a,this.emit("change",this.value)),this},a.ui.InputWidget.prototype.cleanUpValue=function(a){return void 0===a||null===a?"":this.inputFilter?this.inputFilter(String(a)):String(a)},a.ui.InputWidget.prototype.simulateLabelClick=function(){this.isDisabled()||(this.$input.is(":checkbox, :radio")&&this.$input.click(),this.$input.is(":input")&&this.$input[0].focus())},a.ui.InputWidget.prototype.setDisabled=function(b){return a.ui.InputWidget.parent.prototype.setDisabled.call(this,b),this.$input&&this.$input.prop("disabled",this.isDisabled()),this},a.ui.InputWidget.prototype.focus=function(){return this.$input[0].focus(),this},a.ui.InputWidget.prototype.blur=function(){return this.$input[0].blur(),this},a.ui.ButtonInputWidget=function(b){b=$.extend({type:"button",useInputTag:!1},b),this.useInputTag=b.useInputTag,a.ui.ButtonInputWidget.parent.call(this,b),a.ui.mixin.ButtonElement.call(this,$.extend({},b,{$button:this.$input})),a.ui.mixin.IconElement.call(this,b),a.ui.mixin.IndicatorElement.call(this,b),a.ui.mixin.LabelElement.call(this,b),a.ui.mixin.TitledElement.call(this,$.extend({},b,{$titled:this.$input})),b.useInputTag||this.$input.append(this.$icon,this.$label,this.$indicator),this.$element.addClass("oo-ui-buttonInputWidget")},a.inheritClass(a.ui.ButtonInputWidget,a.ui.InputWidget),a.mixinClass(a.ui.ButtonInputWidget,a.ui.mixin.ButtonElement),a.mixinClass(a.ui.ButtonInputWidget,a.ui.mixin.IconElement),a.mixinClass(a.ui.ButtonInputWidget,a.ui.mixin.IndicatorElement),a.mixinClass(a.ui.ButtonInputWidget,a.ui.mixin.LabelElement),a.mixinClass(a.ui.ButtonInputWidget,a.ui.mixin.TitledElement),a.ui.ButtonInputWidget.prototype.getInputElement=function(a){var b=-1!==["button","submit","reset"].indexOf(a.type)?a.type:"button";return $("<"+(a.useInputTag?"input":"button")+' type="'+b+'">')},a.ui.ButtonInputWidget.prototype.setLabel=function(b){return a.ui.mixin.LabelElement.prototype.setLabel.call(this,b),this.useInputTag&&("function"==typeof b&&(b=a.ui.resolveMsg(b)),b instanceof jQuery&&(b=b.text()),b||(b=""),this.$input.val(b)),this},a.ui.ButtonInputWidget.prototype.setValue=function(b){return this.useInputTag||a.ui.ButtonInputWidget.parent.prototype.setValue.call(this,b),this},a.ui.CheckboxInputWidget=function(b){b=b||{},a.ui.CheckboxInputWidget.parent.call(this,b),this.$element.addClass("oo-ui-checkboxInputWidget"),this.setSelected(void 0!==b.selected?b.selected:!1)},a.inheritClass(a.ui.CheckboxInputWidget,a.ui.InputWidget),a.ui.CheckboxInputWidget.prototype.getInputElement=function(){return $('<input type="checkbox" />')},a.ui.CheckboxInputWidget.prototype.onEdit=function(){var a=this;this.isDisabled()||setTimeout(function(){a.setSelected(a.$input.prop("checked"))})},a.ui.CheckboxInputWidget.prototype.setSelected=function(a){return a=!!a,this.selected!==a&&(this.selected=a,this.$input.prop("checked",this.selected),this.emit("change",this.selected)),this},a.ui.CheckboxInputWidget.prototype.isSelected=function(){var a=this.$input.prop("checked");return this.selected!==a&&this.setSelected(a),this.selected},a.ui.DropdownInputWidget=function(b){b=b||{},this.dropdownWidget=new a.ui.DropdownWidget,a.ui.DropdownInputWidget.parent.call(this,b),this.dropdownWidget.getMenu().connect(this,{select:"onMenuSelect"}),this.setOptions(b.options||[]),this.$element.addClass("oo-ui-dropdownInputWidget").append(this.dropdownWidget.$element)},a.inheritClass(a.ui.DropdownInputWidget,a.ui.InputWidget),a.ui.DropdownInputWidget.prototype.getInputElement=function(){return $('<input type="hidden">')},a.ui.DropdownInputWidget.prototype.onMenuSelect=function(a){this.setValue(a.getData())},a.ui.DropdownInputWidget.prototype.setValue=function(b){return this.dropdownWidget.getMenu().selectItemByData(b),a.ui.DropdownInputWidget.parent.prototype.setValue.call(this,b),this},a.ui.DropdownInputWidget.prototype.setDisabled=function(b){return this.dropdownWidget.setDisabled(b),a.ui.DropdownInputWidget.parent.prototype.setDisabled.call(this,b),this},a.ui.DropdownInputWidget.prototype.setOptions=function(b){var c=this.getValue();return this.dropdownWidget.getMenu().clearItems().addItems(b.map(function(b){return new a.ui.MenuOptionWidget({data:b.data,label:void 0!==b.label?b.label:b.data})})),this.dropdownWidget.getMenu().getItemFromData(c)?this.setValue(c):b.length&&this.setValue(b[0].data),this},a.ui.DropdownInputWidget.prototype.focus=function(){return this.dropdownWidget.getMenu().toggle(!0),this},a.ui.DropdownInputWidget.prototype.blur=function(){return this.dropdownWidget.getMenu().toggle(!1),this},a.ui.RadioInputWidget=function(b){b=b||{},a.ui.RadioInputWidget.parent.call(this,b),this.$element.addClass("oo-ui-radioInputWidget"),this.setSelected(void 0!==b.selected?b.selected:!1)},a.inheritClass(a.ui.RadioInputWidget,a.ui.InputWidget),a.ui.RadioInputWidget.prototype.getInputElement=function(){return $('<input type="radio" />')},a.ui.RadioInputWidget.prototype.onEdit=function(){},a.ui.RadioInputWidget.prototype.setSelected=function(a){return this.$input.prop("checked",a),this},a.ui.RadioInputWidget.prototype.isSelected=function(){return this.$input.prop("checked")},a.ui.RadioSelectInputWidget=function(b){b=b||{},this.radioSelectWidget=new a.ui.RadioSelectWidget,a.ui.RadioSelectInputWidget.parent.call(this,b),this.radioSelectWidget.connect(this,{select:"onMenuSelect"}),this.setOptions(b.options||[]),this.$element.addClass("oo-ui-radioSelectInputWidget").append(this.radioSelectWidget.$element)},a.inheritClass(a.ui.RadioSelectInputWidget,a.ui.InputWidget),a.ui.RadioSelectInputWidget["static"].supportsSimpleLabel=!1,a.ui.RadioSelectInputWidget.prototype.getInputElement=function(){return $('<input type="hidden">')},a.ui.RadioSelectInputWidget.prototype.onMenuSelect=function(a){this.setValue(a.getData())},a.ui.RadioSelectInputWidget.prototype.setValue=function(b){return this.radioSelectWidget.selectItemByData(b),a.ui.RadioSelectInputWidget.parent.prototype.setValue.call(this,b),this},a.ui.RadioSelectInputWidget.prototype.setDisabled=function(b){return this.radioSelectWidget.setDisabled(b),a.ui.RadioSelectInputWidget.parent.prototype.setDisabled.call(this,b),this},a.ui.RadioSelectInputWidget.prototype.setOptions=function(b){var c=this.getValue();return this.radioSelectWidget.clearItems().addItems(b.map(function(b){return new a.ui.RadioOptionWidget({data:b.data,label:void 0!==b.label?b.label:b.data})})),this.radioSelectWidget.getItemFromData(c)?this.setValue(c):b.length&&this.setValue(b[0].data),this},a.ui.TextInputWidget=function(b){b=$.extend({type:"text",labelPosition:"after",maxRows:10},b),a.ui.TextInputWidget.parent.call(this,b),a.ui.mixin.IconElement.call(this,b),a.ui.mixin.IndicatorElement.call(this,b),a.ui.mixin.PendingElement.call(this,b),a.ui.mixin.LabelElement.call(this,b),this.readOnly=!1,this.multiline=!!b.multiline,this.autosize=!!b.autosize,this.maxRows=b.maxRows,this.validate=null,this.autosize&&(this.$clone=this.$input.clone().insertAfter(this.$input).attr("aria-hidden","true").addClass("oo-ui-element-hidden")),this.setValidation(b.validate),this.setLabelPosition(b.labelPosition),this.$input.on({keypress:this.onKeyPress.bind(this),blur:this.onBlur.bind(this)}),this.$input.one({focus:this.onElementAttach.bind(this)}),this.$icon.on("mousedown",this.onIconMouseDown.bind(this)),this.$indicator.on("mousedown",this.onIndicatorMouseDown.bind(this)),this.on("labelChange",this.updatePosition.bind(this)),this.connect(this,{change:"onChange"}),this.$element.addClass("oo-ui-textInputWidget").append(this.$icon,this.$indicator),this.setReadOnly(!!b.readOnly),b.placeholder&&this.$input.attr("placeholder",b.placeholder),void 0!==b.maxLength&&this.$input.attr("maxlength",b.maxLength),b.autofocus&&this.$input.attr("autofocus","autofocus"),b.required&&(this.$input.attr("required","required"),this.$input.attr("aria-required","true")),(this.label||b.autosize)&&this.installParentChangeDetector()},a.inheritClass(a.ui.TextInputWidget,a.ui.InputWidget),a.mixinClass(a.ui.TextInputWidget,a.ui.mixin.IconElement),a.mixinClass(a.ui.TextInputWidget,a.ui.mixin.IndicatorElement),a.mixinClass(a.ui.TextInputWidget,a.ui.mixin.PendingElement),a.mixinClass(a.ui.TextInputWidget,a.ui.mixin.LabelElement),a.ui.TextInputWidget["static"].validationPatterns={"non-empty":/.+/,integer:/^\d+$/},a.ui.TextInputWidget.prototype.onIconMouseDown=function(a){return 1===a.which?(this.$input[0].focus(),!1):void 0},a.ui.TextInputWidget.prototype.onIndicatorMouseDown=function(a){return 1===a.which?(this.$input[0].focus(),!1):void 0},a.ui.TextInputWidget.prototype.onKeyPress=function(b){b.which!==a.ui.Keys.ENTER||this.multiline||this.emit("enter",b)},a.ui.TextInputWidget.prototype.onBlur=function(){this.setValidityFlag()},a.ui.TextInputWidget.prototype.onElementAttach=function(){this.valCache=null,this.adjustSize(),this.positionLabel()},a.ui.TextInputWidget.prototype.onChange=function(){this.setValidityFlag(),this.adjustSize()},a.ui.TextInputWidget.prototype.isReadOnly=function(){return this.readOnly},a.ui.TextInputWidget.prototype.setReadOnly=function(a){return this.readOnly=!!a,this.$input.prop("readOnly",this.readOnly),this},a.ui.TextInputWidget.prototype.installParentChangeDetector=function(){var a,b,c,d,e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,f=this;if(e){if(this.$element.closest("html").length)return;for(c=this.$element[0];c.parentNode;)c=c.parentNode;a=new e(function(a){var d,e,f;for(d=0;d<a.length;d++)for(f=a[d].removedNodes,e=0;e<f.length;e++)if(f[e]===c)return void setTimeout(b,0)}),b=function(){f.$element.closest("html").length&&f.onElementAttach(),a.disconnect(),f.installParentChangeDetector()},d=$("<div>").append(this.$element)[0],a.observe(d,{childList:!0})}else this.$element.on("DOMNodeInsertedIntoDocument",this.onElementAttach.bind(this))},a.ui.TextInputWidget.prototype.adjustSize=function(){var a,b,c,d,e,f;return this.multiline&&this.autosize&&this.$input.val()!==this.valCache&&(this.$clone.val(this.$input.val()).attr("rows","").css("height",0),this.$clone.removeClass("oo-ui-element-hidden"),this.valCache=this.$input.val(),a=this.$clone[0].scrollHeight,this.$clone.css("height",""),b=this.$clone.innerHeight(),c=this.$clone.outerHeight(),this.$clone.attr("rows",this.maxRows).css("height","auto").val(""),d=this.$clone.innerHeight(),e=d-this.$clone[0].scrollHeight,f=Math.min(d,a+e),this.$clone.addClass("oo-ui-element-hidden"),f>b?this.$input.css("height",f+(c-b)):this.$input.css("height","")),this},a.ui.TextInputWidget.prototype.getInputElement=function(a){var b=-1!==["text","password","search","email","url"].indexOf(a.type)?a.type:"text";return $(a.multiline?"<textarea>":'<input type="'+b+'" />')},a.ui.TextInputWidget.prototype.isMultiline=function(){return!!this.multiline},a.ui.TextInputWidget.prototype.isAutosizing=function(){return!!this.autosize},a.ui.TextInputWidget.prototype.select=function(){return this.$input.select(),this},a.ui.TextInputWidget.prototype.setValidation=function(a){this.validate=a instanceof RegExp||a instanceof Function?a:this.constructor["static"].validationPatterns[a]||/.*/},a.ui.TextInputWidget.prototype.setValidityFlag=function(a){var b=this,c=function(a){a?b.$input.removeAttr("aria-invalid"):b.$input.attr("aria-invalid","true"),b.setFlags({invalid:!a})};void 0!==a?c(a):this.isValid().done(c)},a.ui.TextInputWidget.prototype.isValid=function(){if(this.validate instanceof Function){var a=this.validate(this.getValue());return $.isFunction(a.promise)?a.promise():$.Deferred().resolve(!!a).promise()}return $.Deferred().resolve(!!this.getValue().match(this.validate)).promise()},a.ui.TextInputWidget.prototype.setLabelPosition=function(a){return this.labelPosition=a,this.updatePosition(),this},a.ui.TextInputWidget.prototype.setPosition=a.ui.TextInputWidget.prototype.setLabelPosition,a.ui.TextInputWidget.prototype.updatePosition=function(){var a="after"===this.labelPosition;return this.$element.toggleClass("oo-ui-textInputWidget-labelPosition-after",!!this.label&&a).toggleClass("oo-ui-textInputWidget-labelPosition-before",!!this.label&&!a),this.label&&this.positionLabel(),this},a.ui.TextInputWidget.prototype.positionLabel=function(){if(this.$input.css({"padding-right":"","padding-left":""}),!this.label)return void this.$label.detach();this.$element.append(this.$label);var a="after"===this.labelPosition,b="rtl"===this.$element.css("direction"),c=a===b?"padding-left":"padding-right";return this.$input.css(c,this.$label.outerWidth(!0)),this},a.ui.ComboBoxWidget=function(b){b=b||{},a.ui.ComboBoxWidget.parent.call(this,b),this.$indicator=this.$("<span>"),a.ui.mixin.TabIndexedElement.call(this,$.extend({},b,{$tabIndexed:this.$indicator})),this.$overlay=b.$overlay||this.$element,this.input=new a.ui.TextInputWidget($.extend({indicator:"down",$indicator:this.$indicator,disabled:this.isDisabled()},b.input)),this.input.$input.eq(0).attr({role:"combobox","aria-autocomplete":"list"}),this.menu=new a.ui.TextInputMenuSelectWidget(this.input,$.extend({widget:this,input:this.input,disabled:this.isDisabled()},b.menu)),this.$indicator.on({click:this.onClick.bind(this),keypress:this.onKeyPress.bind(this)}),this.input.connect(this,{change:"onInputChange",enter:"onInputEnter"}),this.menu.connect(this,{choose:"onMenuChoose",add:"onMenuItemsChange",remove:"onMenuItemsChange"}),this.$element.addClass("oo-ui-comboBoxWidget").append(this.input.$element),this.$overlay.append(this.menu.$element),this.onMenuItemsChange()},a.inheritClass(a.ui.ComboBoxWidget,a.ui.Widget),a.mixinClass(a.ui.ComboBoxWidget,a.ui.mixin.TabIndexedElement),a.ui.ComboBoxWidget.prototype.getMenu=function(){return this.menu},a.ui.ComboBoxWidget.prototype.getInput=function(){return this.input},a.ui.ComboBoxWidget.prototype.onInputChange=function(a){var b=this.menu.getItemFromData(a);this.menu.selectItem(b),this.menu.getHighlightedItem()&&this.menu.highlightItem(b),this.isDisabled()||this.menu.toggle(!0)},a.ui.ComboBoxWidget.prototype.onClick=function(a){return this.isDisabled()||1!==a.which||(this.menu.toggle(),this.input.$input[0].focus()),!1},a.ui.ComboBoxWidget.prototype.onKeyPress=function(b){return this.isDisabled()||b.which!==a.ui.Keys.SPACE&&b.which!==a.ui.Keys.ENTER?void 0:(this.menu.toggle(),this.input.$input[0].focus(),!1)},a.ui.ComboBoxWidget.prototype.onInputEnter=function(){this.isDisabled()||this.menu.toggle(!1)},a.ui.ComboBoxWidget.prototype.onMenuChoose=function(a){this.input.setValue(a.getData())},a.ui.ComboBoxWidget.prototype.onMenuItemsChange=function(){var a=this.menu.getItemFromData(this.input.getValue());this.menu.selectItem(a),this.menu.getHighlightedItem()&&this.menu.highlightItem(a),this.$element.toggleClass("oo-ui-comboBoxWidget-empty",this.menu.isEmpty())},a.ui.ComboBoxWidget.prototype.setDisabled=function(b){return a.ui.ComboBoxWidget.parent.prototype.setDisabled.call(this,b),this.input&&this.input.setDisabled(this.isDisabled()),this.menu&&this.menu.setDisabled(this.isDisabled()),this},a.ui.LabelWidget=function(b){b=b||{},a.ui.LabelWidget.parent.call(this,b),a.ui.mixin.LabelElement.call(this,$.extend({},b,{$label:this.$element})),a.ui.mixin.TitledElement.call(this,b),this.input=b.input,this.input instanceof a.ui.InputWidget&&this.$element.on("click",this.onClick.bind(this)),this.$element.addClass("oo-ui-labelWidget")},a.inheritClass(a.ui.LabelWidget,a.ui.Widget),a.mixinClass(a.ui.LabelWidget,a.ui.mixin.LabelElement),a.mixinClass(a.ui.LabelWidget,a.ui.mixin.TitledElement),a.ui.LabelWidget["static"].tagName="span",a.ui.LabelWidget.prototype.onClick=function(){return this.input.simulateLabelClick(),!1},a.ui.OptionWidget=function(b){b=b||{},a.ui.OptionWidget.parent.call(this,b),a.ui.mixin.ItemWidget.call(this),a.ui.mixin.LabelElement.call(this,b),a.ui.mixin.FlaggedElement.call(this,b),this.selected=!1,this.highlighted=!1,this.pressed=!1,this.$element.data("oo-ui-optionWidget",this).attr("role","option").addClass("oo-ui-optionWidget").append(this.$label)},a.inheritClass(a.ui.OptionWidget,a.ui.Widget),a.mixinClass(a.ui.OptionWidget,a.ui.mixin.ItemWidget),a.mixinClass(a.ui.OptionWidget,a.ui.mixin.LabelElement),a.mixinClass(a.ui.OptionWidget,a.ui.mixin.FlaggedElement),a.ui.OptionWidget["static"].selectable=!0,a.ui.OptionWidget["static"].highlightable=!0,a.ui.OptionWidget["static"].pressable=!0,a.ui.OptionWidget["static"].scrollIntoViewOnSelect=!1,a.ui.OptionWidget.prototype.isSelectable=function(){return this.constructor["static"].selectable&&!this.isDisabled()},a.ui.OptionWidget.prototype.isHighlightable=function(){return this.constructor["static"].highlightable&&!this.isDisabled()},a.ui.OptionWidget.prototype.isPressable=function(){return this.constructor["static"].pressable&&!this.isDisabled()},a.ui.OptionWidget.prototype.isSelected=function(){return this.selected},a.ui.OptionWidget.prototype.isHighlighted=function(){return this.highlighted},a.ui.OptionWidget.prototype.isPressed=function(){return this.pressed},a.ui.OptionWidget.prototype.setSelected=function(a){return this.constructor["static"].selectable&&(this.selected=!!a,this.$element.toggleClass("oo-ui-optionWidget-selected",a).attr("aria-selected",a.toString()),a&&this.constructor["static"].scrollIntoViewOnSelect&&this.scrollElementIntoView(),this.updateThemeClasses()),this},a.ui.OptionWidget.prototype.setHighlighted=function(a){return this.constructor["static"].highlightable&&(this.highlighted=!!a,this.$element.toggleClass("oo-ui-optionWidget-highlighted",a),this.updateThemeClasses()),this},a.ui.OptionWidget.prototype.setPressed=function(a){return this.constructor["static"].pressable&&(this.pressed=!!a,this.$element.toggleClass("oo-ui-optionWidget-pressed",a),this.updateThemeClasses()),this},a.ui.DecoratedOptionWidget=function(b){a.ui.DecoratedOptionWidget.parent.call(this,b),a.ui.mixin.IconElement.call(this,b),a.ui.mixin.IndicatorElement.call(this,b),this.$element.addClass("oo-ui-decoratedOptionWidget").prepend(this.$icon).append(this.$indicator)},a.inheritClass(a.ui.DecoratedOptionWidget,a.ui.OptionWidget),a.mixinClass(a.ui.DecoratedOptionWidget,a.ui.mixin.IconElement),a.mixinClass(a.ui.DecoratedOptionWidget,a.ui.mixin.IndicatorElement),a.ui.ButtonOptionWidget=function(b){b=$.extend({tabIndex:-1},b),a.ui.ButtonOptionWidget.parent.call(this,b),a.ui.mixin.ButtonElement.call(this,b),a.ui.mixin.TabIndexedElement.call(this,$.extend({},b,{$tabIndexed:this.$button})),this.$element.addClass("oo-ui-buttonOptionWidget"),this.$button.append(this.$element.contents()),this.$element.append(this.$button)},a.inheritClass(a.ui.ButtonOptionWidget,a.ui.DecoratedOptionWidget),a.mixinClass(a.ui.ButtonOptionWidget,a.ui.mixin.ButtonElement),a.mixinClass(a.ui.ButtonOptionWidget,a.ui.mixin.TabIndexedElement),a.ui.ButtonOptionWidget["static"].cancelButtonMouseDownEvents=!1,a.ui.ButtonOptionWidget["static"].highlightable=!1,a.ui.ButtonOptionWidget.prototype.setSelected=function(b){return a.ui.ButtonOptionWidget.parent.prototype.setSelected.call(this,b),this.constructor["static"].selectable&&this.setActive(b),this},a.ui.RadioOptionWidget=function(b){b=b||{},this.radio=new a.ui.RadioInputWidget({value:b.data,tabIndex:-1}),a.ui.RadioOptionWidget.parent.call(this,b),this.radio.$input.on("focus",this.onInputFocus.bind(this)),this.$element.addClass("oo-ui-radioOptionWidget").prepend(this.radio.$element)},a.inheritClass(a.ui.RadioOptionWidget,a.ui.OptionWidget),a.ui.RadioOptionWidget["static"].highlightable=!1,a.ui.RadioOptionWidget["static"].scrollIntoViewOnSelect=!0,a.ui.RadioOptionWidget["static"].pressable=!1,a.ui.RadioOptionWidget["static"].tagName="label",a.ui.RadioOptionWidget.prototype.onInputFocus=function(){this.radio.$input.blur(),this.$element.parent().focus()},a.ui.RadioOptionWidget.prototype.setSelected=function(b){return a.ui.RadioOptionWidget.parent.prototype.setSelected.call(this,b),this.radio.setSelected(b),this},a.ui.RadioOptionWidget.prototype.setDisabled=function(b){return a.ui.RadioOptionWidget.parent.prototype.setDisabled.call(this,b),this.radio.setDisabled(this.isDisabled()),this},a.ui.MenuOptionWidget=function(b){b=$.extend({icon:"check"},b),a.ui.MenuOptionWidget.parent.call(this,b),this.$element.attr("role","menuitem").addClass("oo-ui-menuOptionWidget")},a.inheritClass(a.ui.MenuOptionWidget,a.ui.DecoratedOptionWidget),a.ui.MenuOptionWidget["static"].scrollIntoViewOnSelect=!0,a.ui.MenuSectionOptionWidget=function(b){a.ui.MenuSectionOptionWidget.parent.call(this,b),this.$element.addClass("oo-ui-menuSectionOptionWidget")},a.inheritClass(a.ui.MenuSectionOptionWidget,a.ui.DecoratedOptionWidget),a.ui.MenuSectionOptionWidget["static"].selectable=!1,a.ui.MenuSectionOptionWidget["static"].highlightable=!1,a.ui.OutlineOptionWidget=function(b){b=b||{},a.ui.OutlineOptionWidget.parent.call(this,b),this.level=0,this.movable=!!b.movable,this.removable=!!b.removable,this.$element.addClass("oo-ui-outlineOptionWidget"),this.setLevel(b.level)},a.inheritClass(a.ui.OutlineOptionWidget,a.ui.DecoratedOptionWidget),a.ui.OutlineOptionWidget["static"].highlightable=!1,a.ui.OutlineOptionWidget["static"].scrollIntoViewOnSelect=!0,a.ui.OutlineOptionWidget["static"].levelClass="oo-ui-outlineOptionWidget-level-",a.ui.OutlineOptionWidget["static"].levels=3,a.ui.OutlineOptionWidget.prototype.isMovable=function(){return this.movable},a.ui.OutlineOptionWidget.prototype.isRemovable=function(){return this.removable},a.ui.OutlineOptionWidget.prototype.getLevel=function(){return this.level},a.ui.OutlineOptionWidget.prototype.setMovable=function(a){return this.movable=!!a,this.updateThemeClasses(),this},a.ui.OutlineOptionWidget.prototype.setRemovable=function(a){return this.removable=!!a,this.updateThemeClasses(),this},a.ui.OutlineOptionWidget.prototype.setLevel=function(a){var b=this.constructor["static"].levels,c=this.constructor["static"].levelClass,d=b;for(this.level=a?Math.max(0,Math.min(b-1,a)):0;d--;)this.level===d?this.$element.addClass(c+d):this.$element.removeClass(c+d);return this.updateThemeClasses(),this},a.ui.TabOptionWidget=function(b){b=b||{},a.ui.TabOptionWidget.parent.call(this,b),this.$element.addClass("oo-ui-tabOptionWidget")},a.inheritClass(a.ui.TabOptionWidget,a.ui.OptionWidget),a.ui.TabOptionWidget["static"].highlightable=!1,a.ui.PopupWidget=function(b){b=b||{},a.ui.PopupWidget.parent.call(this,b),this.$body=$("<div>"),a.ui.mixin.LabelElement.call(this,b),a.ui.mixin.ClippableElement.call(this,$.extend({},b,{$clippable:this.$body})),this.$popup=$("<div>"),this.$head=$("<div>"),this.$anchor=$("<div>"),this.$container=b.$container,this.containerPadding=void 0!==b.containerPadding?b.containerPadding:10,this.autoClose=!!b.autoClose,this.$autoCloseIgnore=b.$autoCloseIgnore,this.transitionTimeout=null,this.anchor=null,this.width=void 0!==b.width?b.width:320,this.height=void 0!==b.height?b.height:null,this.setAlignment(b.align),this.closeButton=new a.ui.ButtonWidget({framed:!1,icon:"close"}),this.onMouseDownHandler=this.onMouseDown.bind(this),this.onDocumentKeyDownHandler=this.onDocumentKeyDown.bind(this),this.closeButton.connect(this,{click:"onCloseButtonClick"}),this.toggleAnchor(void 0===b.anchor||b.anchor),this.$body.addClass("oo-ui-popupWidget-body"),this.$anchor.addClass("oo-ui-popupWidget-anchor"),this.$head.addClass("oo-ui-popupWidget-head").append(this.$label,this.closeButton.$element),b.head||this.$head.addClass("oo-ui-element-hidden"),this.$popup.addClass("oo-ui-popupWidget-popup").append(this.$head,this.$body),this.$element.addClass("oo-ui-popupWidget").append(this.$popup,this.$anchor),b.$content instanceof jQuery&&this.$body.append(b.$content),b.padded&&this.$body.addClass("oo-ui-popupWidget-body-padded"),this.visible=!1,this.$element.addClass("oo-ui-element-hidden")},a.inheritClass(a.ui.PopupWidget,a.ui.Widget),a.mixinClass(a.ui.PopupWidget,a.ui.mixin.LabelElement),a.mixinClass(a.ui.PopupWidget,a.ui.mixin.ClippableElement),a.ui.PopupWidget.prototype.onMouseDown=function(a){!this.isVisible()||$.contains(this.$element[0],a.target)||this.$autoCloseIgnore&&this.$autoCloseIgnore.has(a.target).length||this.toggle(!1)},a.ui.PopupWidget.prototype.bindMouseDownListener=function(){this.getElementWindow().addEventListener("mousedown",this.onMouseDownHandler,!0)},a.ui.PopupWidget.prototype.onCloseButtonClick=function(){this.isVisible()&&this.toggle(!1)},a.ui.PopupWidget.prototype.unbindMouseDownListener=function(){this.getElementWindow().removeEventListener("mousedown",this.onMouseDownHandler,!0)
},a.ui.PopupWidget.prototype.onDocumentKeyDown=function(b){b.which===a.ui.Keys.ESCAPE&&this.isVisible()&&(this.toggle(!1),b.preventDefault(),b.stopPropagation())},a.ui.PopupWidget.prototype.bindKeyDownListener=function(){this.getElementWindow().addEventListener("keydown",this.onDocumentKeyDownHandler,!0)},a.ui.PopupWidget.prototype.unbindKeyDownListener=function(){this.getElementWindow().removeEventListener("keydown",this.onDocumentKeyDownHandler,!0)},a.ui.PopupWidget.prototype.toggleAnchor=function(a){a=void 0===a?!this.anchored:!!a,this.anchored!==a&&(a?this.$element.addClass("oo-ui-popupWidget-anchored"):this.$element.removeClass("oo-ui-popupWidget-anchored"),this.anchored=a)},a.ui.PopupWidget.prototype.hasAnchor=function(){return this.anchor},a.ui.PopupWidget.prototype.toggle=function(b){b=void 0===b?!this.isVisible():!!b;var c=b!==this.isVisible();return a.ui.PopupWidget.parent.prototype.toggle.call(this,b),c&&(b?(this.autoClose&&(this.bindMouseDownListener(),this.bindKeyDownListener()),this.updateDimensions(),this.toggleClipping(!0)):(this.toggleClipping(!1),this.autoClose&&(this.unbindMouseDownListener(),this.unbindKeyDownListener()))),this},a.ui.PopupWidget.prototype.setSize=function(a,b,c){this.width=a,this.height=void 0!==b?b:null,this.isVisible()&&this.updateDimensions(c)},a.ui.PopupWidget.prototype.updateDimensions=function(a){var b,c,d,e,f,g,h,i,j,k,l=this.align,m=this;return this.$container||(this.$container=$(this.getClosestScrollableElementContainer())),this.$popup.css({width:this.width,height:null!==this.height?this.height:"auto"}),("forwards"===l||"backwards"===l)&&(l="rtl"===this.$container.css("direction")?{forwards:"force-left",backwards:"force-right"}[this.align]:{forwards:"force-right",backwards:"force-left"}[this.align]),b=this.width*{"force-left":-1,center:-.5,"force-right":0}[l],c=this.$element.offset().left,d=this.$container.offset().left,e=this.$container.innerWidth(),f=d+e,g=b-this.containerPadding,h=b+this.containerPadding+this.width+this.containerPadding,i=c+g-d,j=f-(c+h),0>j?b+=j:0>i&&(b-=i),k=2*this.$anchor[0].scrollWidth,b+this.width<k?b=k-this.width:k>-b&&(b=-k),clearTimeout(this.transitionTimeout),a&&this.$element.addClass("oo-ui-popupWidget-transitioning"),this.$popup.css("margin-left",b),a?this.transitionTimeout=setTimeout(function(){m.$element.removeClass("oo-ui-popupWidget-transitioning")},200):this.$element.removeClass("oo-ui-popupWidget-transitioning"),this.clip(),this},a.ui.PopupWidget.prototype.setAlignment=function(a){this.align=["left","right","force-left","force-right","backwards","forwards","center"].indexOf(a)>-1?{left:"force-right",right:"force-left"}[a]||a:"center"},a.ui.PopupWidget.prototype.getAlignment=function(){return this.align},a.ui.ProgressBarWidget=function(b){b=b||{},a.ui.ProgressBarWidget.parent.call(this,b),this.$bar=$("<div>"),this.progress=null,this.setProgress(void 0!==b.progress?b.progress:!1),this.$bar.addClass("oo-ui-progressBarWidget-bar"),this.$element.attr({role:"progressbar","aria-valuemin":0,"aria-valuemax":100}).addClass("oo-ui-progressBarWidget").append(this.$bar)},a.inheritClass(a.ui.ProgressBarWidget,a.ui.Widget),a.ui.ProgressBarWidget["static"].tagName="div",a.ui.ProgressBarWidget.prototype.getProgress=function(){return this.progress},a.ui.ProgressBarWidget.prototype.setProgress=function(a){this.progress=a,a!==!1?(this.$bar.css("width",this.progress+"%"),this.$element.attr("aria-valuenow",this.progress)):(this.$bar.css("width",""),this.$element.removeAttr("aria-valuenow")),this.$element.toggleClass("oo-ui-progressBarWidget-indeterminate",!a)},a.ui.SearchWidget=function(b){b=b||{},a.ui.SearchWidget.parent.call(this,b),this.query=new a.ui.TextInputWidget({icon:"search",placeholder:b.placeholder,value:b.value}),this.results=new a.ui.SelectWidget,this.$query=$("<div>"),this.$results=$("<div>"),this.query.connect(this,{change:"onQueryChange",enter:"onQueryEnter"}),this.results.connect(this,{highlight:"onResultsHighlight",select:"onResultsSelect"}),this.query.$input.on("keydown",this.onQueryKeydown.bind(this)),this.$query.addClass("oo-ui-searchWidget-query").append(this.query.$element),this.$results.addClass("oo-ui-searchWidget-results").append(this.results.$element),this.$element.addClass("oo-ui-searchWidget").append(this.$results,this.$query)},a.inheritClass(a.ui.SearchWidget,a.ui.Widget),a.ui.SearchWidget.prototype.onQueryKeydown=function(b){var c,d,e=b.which===a.ui.Keys.DOWN?1:b.which===a.ui.Keys.UP?-1:0;e&&(c=this.results.getHighlightedItem(),c||(c=this.results.getSelectedItem()),d=this.results.getRelativeSelectableItem(c,e),this.results.highlightItem(d),d.scrollElementIntoView())},a.ui.SearchWidget.prototype.onQueryChange=function(){this.results.clearItems()},a.ui.SearchWidget.prototype.onQueryEnter=function(){this.results.selectItem(this.results.getHighlightedItem())},a.ui.SearchWidget.prototype.onResultsHighlight=function(a){this.emit("highlight",a?a.getData():null)},a.ui.SearchWidget.prototype.onResultsSelect=function(a){this.emit("select",a?a.getData():null)},a.ui.SearchWidget.prototype.getQuery=function(){return this.query},a.ui.SearchWidget.prototype.getResults=function(){return this.results},a.ui.SelectWidget=function(b){b=b||{},a.ui.SelectWidget.parent.call(this,b),a.ui.mixin.GroupWidget.call(this,$.extend({},b,{$group:this.$element})),this.pressed=!1,this.selecting=null,this.onMouseUpHandler=this.onMouseUp.bind(this),this.onMouseMoveHandler=this.onMouseMove.bind(this),this.onKeyDownHandler=this.onKeyDown.bind(this),this.onKeyPressHandler=this.onKeyPress.bind(this),this.keyPressBuffer="",this.keyPressBufferTimer=null,this.connect(this,{toggle:"onToggle"}),this.$element.on({mousedown:this.onMouseDown.bind(this),mouseover:this.onMouseOver.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.$element.addClass("oo-ui-selectWidget oo-ui-selectWidget-depressed").attr("role","listbox"),Array.isArray(b.items)&&this.addItems(b.items)},a.inheritClass(a.ui.SelectWidget,a.ui.Widget),a.mixinClass(a.ui.SelectWidget,a.ui.mixin.GroupElement),a.mixinClass(a.ui.SelectWidget,a.ui.mixin.GroupWidget),a.ui.SelectWidget["static"].passAllFilter=function(){return!0},a.ui.SelectWidget.prototype.onMouseDown=function(a){var b;return this.isDisabled()||1!==a.which||(this.togglePressed(!0),b=this.getTargetItem(a),b&&b.isSelectable()&&(this.pressItem(b),this.selecting=b,this.getElementDocument().addEventListener("mouseup",this.onMouseUpHandler,!0),this.getElementDocument().addEventListener("mousemove",this.onMouseMoveHandler,!0))),!1},a.ui.SelectWidget.prototype.onMouseUp=function(a){var b;return this.togglePressed(!1),this.selecting||(b=this.getTargetItem(a),b&&b.isSelectable()&&(this.selecting=b)),!this.isDisabled()&&1===a.which&&this.selecting&&(this.pressItem(null),this.chooseItem(this.selecting),this.selecting=null),this.getElementDocument().removeEventListener("mouseup",this.onMouseUpHandler,!0),this.getElementDocument().removeEventListener("mousemove",this.onMouseMoveHandler,!0),!1},a.ui.SelectWidget.prototype.onMouseMove=function(a){var b;return!this.isDisabled()&&this.pressed&&(b=this.getTargetItem(a),b&&b!==this.selecting&&b.isSelectable()&&(this.pressItem(b),this.selecting=b)),!1},a.ui.SelectWidget.prototype.onMouseOver=function(a){var b;return this.isDisabled()||(b=this.getTargetItem(a),this.highlightItem(b&&b.isHighlightable()?b:null)),!1},a.ui.SelectWidget.prototype.onMouseLeave=function(){return this.isDisabled()||this.highlightItem(null),!1},a.ui.SelectWidget.prototype.onKeyDown=function(b){var c,d=!1,e=this.getHighlightedItem()||this.getSelectedItem();if(!this.isDisabled()&&this.isVisible()){switch(b.keyCode){case a.ui.Keys.ENTER:e&&e.constructor["static"].highlightable&&(this.chooseItem(e),d=!0);break;case a.ui.Keys.UP:case a.ui.Keys.LEFT:this.clearKeyPressBuffer(),c=this.getRelativeSelectableItem(e,-1),d=!0;break;case a.ui.Keys.DOWN:case a.ui.Keys.RIGHT:this.clearKeyPressBuffer(),c=this.getRelativeSelectableItem(e,1),d=!0;break;case a.ui.Keys.ESCAPE:case a.ui.Keys.TAB:e&&e.constructor["static"].highlightable&&e.setHighlighted(!1),this.unbindKeyDownListener(),this.unbindKeyPressListener(),d=!1}c&&(c.constructor["static"].highlightable?this.highlightItem(c):this.chooseItem(c),c.scrollElementIntoView()),d&&(b.preventDefault(),b.stopPropagation())}},a.ui.SelectWidget.prototype.bindKeyDownListener=function(){this.getElementWindow().addEventListener("keydown",this.onKeyDownHandler,!0)},a.ui.SelectWidget.prototype.unbindKeyDownListener=function(){this.getElementWindow().removeEventListener("keydown",this.onKeyDownHandler,!0)},a.ui.SelectWidget.prototype.clearKeyPressBuffer=function(){this.keyPressBufferTimer&&(clearTimeout(this.keyPressBufferTimer),this.keyPressBufferTimer=null),this.keyPressBuffer=""},a.ui.SelectWidget.prototype.onKeyPress=function(b){var c,d,e;{if(b.charCode)return c=String.fromCodePoint?String.fromCodePoint(b.charCode):String.fromCharCode(b.charCode),this.keyPressBufferTimer&&clearTimeout(this.keyPressBufferTimer),this.keyPressBufferTimer=setTimeout(this.clearKeyPressBuffer.bind(this),1500),e=this.getHighlightedItem()||this.getSelectedItem(),this.keyPressBuffer===c?e&&(e=this.getRelativeSelectableItem(e,1)):this.keyPressBuffer+=c,d=this.getItemMatcher(this.keyPressBuffer),e&&d(e)||(e=this.getRelativeSelectableItem(e,1,d)),e&&(e.constructor["static"].highlightable?this.highlightItem(e):this.chooseItem(e),e.scrollElementIntoView()),!1;if(b.keyCode===a.ui.Keys.BACKSPACE&&""!==this.keyPressBuffer)return this.keyPressBuffer=this.keyPressBuffer.substr(0,this.keyPressBuffer.length-1),!1}},a.ui.SelectWidget.prototype.getItemMatcher=function(a){var b;return a.normalize&&(a=a.normalize()),b=new RegExp("^\\s*"+a.replace(/([\\{}()|.?*+\-\^$\[\]])/g,"\\$1").replace(/\s+/g,"\\s+"),"i"),function(a){var c=a.getLabel();return"string"!=typeof c&&(c=a.$label.text()),c.normalize&&(c=c.normalize()),b.test(c)}},a.ui.SelectWidget.prototype.bindKeyPressListener=function(){this.getElementWindow().addEventListener("keypress",this.onKeyPressHandler,!0)},a.ui.SelectWidget.prototype.unbindKeyPressListener=function(){this.getElementWindow().removeEventListener("keypress",this.onKeyPressHandler,!0),this.clearKeyPressBuffer()},a.ui.SelectWidget.prototype.onToggle=function(a){a||this.clearKeyPressBuffer()},a.ui.SelectWidget.prototype.getTargetItem=function(a){return $(a.target).closest(".oo-ui-optionWidget").data("oo-ui-optionWidget")||null},a.ui.SelectWidget.prototype.getSelectedItem=function(){var a,b;for(a=0,b=this.items.length;b>a;a++)if(this.items[a].isSelected())return this.items[a];return null},a.ui.SelectWidget.prototype.getHighlightedItem=function(){var a,b;for(a=0,b=this.items.length;b>a;a++)if(this.items[a].isHighlighted())return this.items[a];return null},a.ui.SelectWidget.prototype.togglePressed=function(a){void 0===a&&(a=!this.pressed),a!==this.pressed&&(this.$element.toggleClass("oo-ui-selectWidget-pressed",a).toggleClass("oo-ui-selectWidget-depressed",!a),this.pressed=a)},a.ui.SelectWidget.prototype.highlightItem=function(a){var b,c,d,e=!1;for(b=0,c=this.items.length;c>b;b++)d=this.items[b]===a,this.items[b].isHighlighted()!==d&&(this.items[b].setHighlighted(d),e=!0);return e&&this.emit("highlight",a),this},a.ui.SelectWidget.prototype.selectItemByData=function(a){var b=this.getItemFromData(a);return void 0!==a&&b?this.selectItem(b):this.selectItem()},a.ui.SelectWidget.prototype.selectItem=function(a){var b,c,d,e=!1;for(b=0,c=this.items.length;c>b;b++)d=this.items[b]===a,this.items[b].isSelected()!==d&&(this.items[b].setSelected(d),e=!0);return e&&this.emit("select",a),this},a.ui.SelectWidget.prototype.pressItem=function(a){var b,c,d,e=!1;for(b=0,c=this.items.length;c>b;b++)d=this.items[b]===a,this.items[b].isPressed()!==d&&(this.items[b].setPressed(d),e=!0);return e&&this.emit("press",a),this},a.ui.SelectWidget.prototype.chooseItem=function(a){return this.selectItem(a),this.emit("choose",a),this},a.ui.SelectWidget.prototype.getRelativeSelectableItem=function(b,c,d){var e,f,g,h=c>0?1:-1,i=this.items.length;for($.isFunction(d)||(d=a.ui.SelectWidget["static"].passAllFilter),b instanceof a.ui.OptionWidget?(e=$.inArray(b,this.items),f=(e+h+i)%i):f=c>0?0:i-1,g=0;i>g;g++){if(b=this.items[f],b instanceof a.ui.OptionWidget&&b.isSelectable()&&d(b))return b;f=(f+h+i)%i}return null},a.ui.SelectWidget.prototype.getFirstSelectableItem=function(){var b,c,d;for(b=0,c=this.items.length;c>b;b++)if(d=this.items[b],d instanceof a.ui.OptionWidget&&d.isSelectable())return d;return null},a.ui.SelectWidget.prototype.addItems=function(b,c){return a.ui.mixin.GroupWidget.prototype.addItems.call(this,b,c),this.emit("add",b,void 0===c?this.items.length-b.length-1:c),this},a.ui.SelectWidget.prototype.removeItems=function(b){var c,d,e;for(c=0,d=b.length;d>c;c++)e=b[c],e.isSelected()&&this.selectItem(null);return a.ui.mixin.GroupWidget.prototype.removeItems.call(this,b),this.emit("remove",b),this},a.ui.SelectWidget.prototype.clearItems=function(){var b=this.items.slice();return a.ui.mixin.GroupWidget.prototype.clearItems.call(this),this.selectItem(null),this.emit("remove",b),this},a.ui.ButtonSelectWidget=function(b){a.ui.ButtonSelectWidget.parent.call(this,b),a.ui.mixin.TabIndexedElement.call(this,b),this.$element.on({focus:this.bindKeyDownListener.bind(this),blur:this.unbindKeyDownListener.bind(this)}),this.$element.addClass("oo-ui-buttonSelectWidget")},a.inheritClass(a.ui.ButtonSelectWidget,a.ui.SelectWidget),a.mixinClass(a.ui.ButtonSelectWidget,a.ui.mixin.TabIndexedElement),a.ui.RadioSelectWidget=function(b){a.ui.RadioSelectWidget.parent.call(this,b),a.ui.mixin.TabIndexedElement.call(this,b),this.$element.on({focus:this.bindKeyDownListener.bind(this),blur:this.unbindKeyDownListener.bind(this)}),this.$element.addClass("oo-ui-radioSelectWidget")},a.inheritClass(a.ui.RadioSelectWidget,a.ui.SelectWidget),a.mixinClass(a.ui.RadioSelectWidget,a.ui.mixin.TabIndexedElement),a.ui.MenuSelectWidget=function(b){b=b||{},a.ui.MenuSelectWidget.parent.call(this,b),a.ui.mixin.ClippableElement.call(this,$.extend({},b,{$clippable:this.$group})),this.newItems=null,this.autoHide=void 0===b.autoHide||!!b.autoHide,this.$input=b.input?b.input.$input:null,this.$widget=b.widget?b.widget.$element:null,this.onDocumentMouseDownHandler=this.onDocumentMouseDown.bind(this),this.$element.addClass("oo-ui-menuSelectWidget").attr("role","menu"),this.visible=!1,this.$element.addClass("oo-ui-element-hidden")},a.inheritClass(a.ui.MenuSelectWidget,a.ui.SelectWidget),a.mixinClass(a.ui.MenuSelectWidget,a.ui.mixin.ClippableElement),a.ui.MenuSelectWidget.prototype.onDocumentMouseDown=function(b){a.ui.contains(this.$element[0],b.target,!0)||this.$widget&&a.ui.contains(this.$widget[0],b.target,!0)||this.toggle(!1)},a.ui.MenuSelectWidget.prototype.onKeyDown=function(b){var c=this.getHighlightedItem()||this.getSelectedItem();if(!this.isDisabled()&&this.isVisible())switch(b.keyCode){case a.ui.Keys.LEFT:case a.ui.Keys.RIGHT:this.$input||a.ui.MenuSelectWidget.parent.prototype.onKeyDown.call(this,b);break;case a.ui.Keys.ESCAPE:case a.ui.Keys.TAB:c&&c.setHighlighted(!1),this.toggle(!1),b.keyCode===a.ui.Keys.ESCAPE&&(b.preventDefault(),b.stopPropagation());break;default:return void a.ui.MenuSelectWidget.parent.prototype.onKeyDown.call(this,b)}},a.ui.MenuSelectWidget.prototype.bindKeyDownListener=function(){this.$input?this.$input.on("keydown",this.onKeyDownHandler):a.ui.MenuSelectWidget.parent.prototype.bindKeyDownListener.call(this)},a.ui.MenuSelectWidget.prototype.unbindKeyDownListener=function(){this.$input?this.$input.off("keydown",this.onKeyDownHandler):a.ui.MenuSelectWidget.parent.prototype.unbindKeyDownListener.call(this)},a.ui.MenuSelectWidget.prototype.bindKeyPressListener=function(){this.$input||a.ui.MenuSelectWidget.parent.prototype.bindKeyPressListener.call(this)},a.ui.MenuSelectWidget.prototype.unbindKeyPressListener=function(){this.$input?this.clearKeyPressBuffer():a.ui.MenuSelectWidget.parent.prototype.unbindKeyPressListener.call(this)},a.ui.MenuSelectWidget.prototype.chooseItem=function(b){return a.ui.MenuSelectWidget.parent.prototype.chooseItem.call(this,b),this.toggle(!1),this},a.ui.MenuSelectWidget.prototype.addItems=function(b,c){var d,e,f;for(a.ui.MenuSelectWidget.parent.prototype.addItems.call(this,b,c),this.newItems||(this.newItems=[]),d=0,e=b.length;e>d;d++)f=b[d],this.isVisible()?f.fitLabel():this.newItems.push(f);return this.clip(),this},a.ui.MenuSelectWidget.prototype.removeItems=function(b){return a.ui.MenuSelectWidget.parent.prototype.removeItems.call(this,b),this.clip(),this},a.ui.MenuSelectWidget.prototype.clearItems=function(){return a.ui.MenuSelectWidget.parent.prototype.clearItems.call(this),this.clip(),this},a.ui.MenuSelectWidget.prototype.toggle=function(b){b=(void 0===b?!this.visible:!!b)&&!!this.items.length;var c,d,e=b!==this.isVisible();if(a.ui.MenuSelectWidget.parent.prototype.toggle.call(this,b),e)if(b){if(this.bindKeyDownListener(),this.bindKeyPressListener(),this.newItems&&this.newItems.length){for(c=0,d=this.newItems.length;d>c;c++)this.newItems[c].fitLabel();this.newItems=null}this.toggleClipping(!0),this.autoHide&&this.getElementDocument().addEventListener("mousedown",this.onDocumentMouseDownHandler,!0)}else this.unbindKeyDownListener(),this.unbindKeyPressListener(),this.getElementDocument().removeEventListener("mousedown",this.onDocumentMouseDownHandler,!0),this.toggleClipping(!1);return this},a.ui.TextInputMenuSelectWidget=function(b,c){a.isPlainObject(b)&&void 0===c&&(c=b,b=c.inputWidget),c=c||{},a.ui.TextInputMenuSelectWidget.parent.call(this,c),this.inputWidget=b,this.$container=c.$container||this.inputWidget.$element,this.onWindowResizeHandler=this.onWindowResize.bind(this),this.$element.addClass("oo-ui-textInputMenuSelectWidget")},a.inheritClass(a.ui.TextInputMenuSelectWidget,a.ui.MenuSelectWidget),a.ui.TextInputMenuSelectWidget.prototype.onWindowResize=function(){this.position()},a.ui.TextInputMenuSelectWidget.prototype.toggle=function(b){b=void 0===b?!this.isVisible():!!b;var c=b!==this.isVisible();return c&&b&&this.position(),a.ui.TextInputMenuSelectWidget.parent.prototype.toggle.call(this,b),c&&(this.isVisible()?(this.position(),$(this.getElementWindow()).on("resize",this.onWindowResizeHandler)):$(this.getElementWindow()).off("resize",this.onWindowResizeHandler)),this},a.ui.TextInputMenuSelectWidget.prototype.position=function(){var b=this.$container,c=a.ui.Element["static"].getRelativePosition(b,this.$element.offsetParent());return c.top+=b.height(),this.$element.css(c),this.setIdealSize(b.width()),this.clip(),this},a.ui.OutlineSelectWidget=function(b){a.ui.OutlineSelectWidget.parent.call(this,b),a.ui.mixin.TabIndexedElement.call(this,b),this.$element.on({focus:this.bindKeyDownListener.bind(this),blur:this.unbindKeyDownListener.bind(this)}),this.$element.addClass("oo-ui-outlineSelectWidget")},a.inheritClass(a.ui.OutlineSelectWidget,a.ui.SelectWidget),a.mixinClass(a.ui.OutlineSelectWidget,a.ui.mixin.TabIndexedElement),a.ui.TabSelectWidget=function(b){a.ui.TabSelectWidget.parent.call(this,b),a.ui.mixin.TabIndexedElement.call(this,b),this.$element.on({focus:this.bindKeyDownListener.bind(this),blur:this.unbindKeyDownListener.bind(this)}),this.$element.addClass("oo-ui-tabSelectWidget")},a.inheritClass(a.ui.TabSelectWidget,a.ui.SelectWidget),a.mixinClass(a.ui.TabSelectWidget,a.ui.mixin.TabIndexedElement),a.ui.NumberInputWidget=function(b){b=$.extend({isInteger:!1,min:-1/0,max:1/0,step:1,pageStep:null},b),a.ui.NumberInputWidget.parent.call(this,b),this.input=new a.ui.TextInputWidget($.extend({disabled:this.isDisabled()},b.input)),this.minusButton=new a.ui.ButtonWidget($.extend({disabled:this.isDisabled(),tabIndex:-1},b.minusButton,{classes:["oo-ui-numberInputWidget-minusButton"],label:"‚àí"})),this.plusButton=new a.ui.ButtonWidget($.extend({disabled:this.isDisabled(),tabIndex:-1},b.plusButton,{classes:["oo-ui-numberInputWidget-plusButton"],label:"+"})),this.input.connect(this,{change:this.emit.bind(this,"change"),enter:this.emit.bind(this,"enter")}),this.input.$input.on({keydown:this.onKeyDown.bind(this),"wheel mousewheel DOMMouseScroll":this.onWheel.bind(this)}),this.plusButton.connect(this,{click:["onButtonClick",1]}),this.minusButton.connect(this,{click:["onButtonClick",-1]}),this.setIsInteger(!!b.isInteger),this.setRange(b.min,b.max),this.setStep(b.step,b.pageStep),this.$field=$("<div>").addClass("oo-ui-numberInputWidget-field").append(this.minusButton.$element,this.input.$element,this.plusButton.$element),this.$element.addClass("oo-ui-numberInputWidget").append(this.$field),this.input.setValidation(this.validateNumber.bind(this))},a.inheritClass(a.ui.NumberInputWidget,a.ui.Widget),a.ui.NumberInputWidget.prototype.setIsInteger=function(a){this.isInteger=!!a,this.input.setValidityFlag()},a.ui.NumberInputWidget.prototype.getIsInteger=function(){return this.isInteger},a.ui.NumberInputWidget.prototype.setRange=function(a,b){if(a>b)throw new Error("Minimum ("+a+") must not be greater than maximum ("+b+")");this.min=a,this.max=b,this.input.setValidityFlag()},a.ui.NumberInputWidget.prototype.getRange=function(){return[this.min,this.max]},a.ui.NumberInputWidget.prototype.setStep=function(a,b){if(0>=a)throw new Error("Step value must be positive");if(null===b)b=10*a;else if(0>=b)throw new Error("Page step value must be positive");this.step=a,this.pageStep=b},a.ui.NumberInputWidget.prototype.getStep=function(){return[this.step,this.pageStep]},a.ui.NumberInputWidget.prototype.getValue=function(){return this.input.getValue()},a.ui.NumberInputWidget.prototype.getNumericValue=function(){return+this.input.getValue()},a.ui.NumberInputWidget.prototype.setValue=function(a){this.input.setValue(a)},a.ui.NumberInputWidget.prototype.adjustValue=function(a){var b,c=this.getNumericValue();if(a=+a,isNaN(a)||!isFinite(a))throw new Error("Delta must be a finite number");isNaN(c)?b=0:(b=c+a,b=Math.max(Math.min(b,this.max),this.min),this.isInteger&&(b=Math.round(b))),b!==c&&this.setValue(b)},a.ui.NumberInputWidget.prototype.validateNumber=function(a){var b=+a;return isNaN(b)||!isFinite(b)?!1:this.isInteger&&(0|b)!==b?!1:b<this.min||b>this.max?!1:!0},a.ui.NumberInputWidget.prototype.onButtonClick=function(a){this.adjustValue(a*this.step)},a.ui.NumberInputWidget.prototype.onWheel=function(a){var b=0;return void 0!==a.originalEvent.deltaMode&&(this.sawWheelEvent=!0),a.originalEvent.deltaY?b=-a.originalEvent.deltaY:a.originalEvent.deltaX&&(b=a.originalEvent.deltaX),this.sawWheelEvent||(a.originalEvent.wheelDeltaX?b=-a.originalEvent.wheelDeltaX:a.originalEvent.wheelDeltaY?b=a.originalEvent.wheelDeltaY:a.originalEvent.wheelDelta?b=a.originalEvent.wheelDelta:a.originalEvent.detail&&(b=-a.originalEvent.detail)),b&&(b=0>b?-1:1,this.adjustValue(b*this.step)),!1},a.ui.NumberInputWidget.prototype.onKeyDown=function(b){if(!this.isDisabled())switch(b.which){case a.ui.Keys.UP:return this.adjustValue(this.step),!1;case a.ui.Keys.DOWN:return this.adjustValue(-this.step),!1;case a.ui.Keys.PAGEUP:return this.adjustValue(this.pageStep),!1;case a.ui.Keys.PAGEDOWN:return this.adjustValue(-this.pageStep),!1}},a.ui.NumberInputWidget.prototype.setDisabled=function(b){return a.ui.NumberInputWidget.parent.prototype.setDisabled.call(this,b),this.input&&this.input.setDisabled(this.isDisabled()),this.minusButton&&this.minusButton.setDisabled(this.isDisabled()),this.plusButton&&this.plusButton.setDisabled(this.isDisabled()),this},a.ui.ToggleSwitchWidget=function(b){a.ui.ToggleSwitchWidget.parent.call(this,b),a.ui.mixin.TabIndexedElement.call(this,b),this.dragging=!1,this.dragStart=null,this.sliding=!1,this.$glow=$("<span>"),this.$grip=$("<span>"),this.$element.on({click:this.onClick.bind(this),keypress:this.onKeyPress.bind(this)}),this.$glow.addClass("oo-ui-toggleSwitchWidget-glow"),this.$grip.addClass("oo-ui-toggleSwitchWidget-grip"),this.$element.addClass("oo-ui-toggleSwitchWidget").attr("role","checkbox").append(this.$glow,this.$grip)},a.inheritClass(a.ui.ToggleSwitchWidget,a.ui.ToggleWidget),a.mixinClass(a.ui.ToggleSwitchWidget,a.ui.mixin.TabIndexedElement),a.ui.ToggleSwitchWidget.prototype.onClick=function(a){return this.isDisabled()||1!==a.which||this.setValue(!this.value),!1},a.ui.ToggleSwitchWidget.prototype.onKeyPress=function(b){return this.isDisabled()||b.which!==a.ui.Keys.SPACE&&b.which!==a.ui.Keys.ENTER?void 0:(this.setValue(!this.value),!1)},a.ui.ButtonElement=a.ui.mixin.ButtonElement,a.ui.ClippableElement=a.ui.mixin.ClippableElement,a.ui.DraggableElement=a.ui.mixin.DraggableElement,a.ui.DraggableGroupElement=a.ui.mixin.DraggableGroupElement,a.ui.FlaggedElement=a.ui.mixin.FlaggedElement,a.ui.GroupElement=a.ui.mixin.GroupElement,a.ui.GroupWidget=a.ui.mixin.GroupWidget,a.ui.IconElement=a.ui.mixin.IconElement,a.ui.IndicatorElement=a.ui.mixin.IndicatorElement,a.ui.ItemWidget=a.ui.mixin.ItemWidget,a.ui.LabelElement=a.ui.mixin.LabelElement,a.ui.LookupElement=a.ui.mixin.LookupElement,a.ui.PendingElement=a.ui.mixin.PendingElement,a.ui.PopupElement=a.ui.mixin.PopupElement,a.ui.TabIndexedElement=a.ui.mixin.TabIndexedElement,a.ui.TitledElement=a.ui.mixin.TitledElement}(OO),OO.ui.ApexTheme=function(){OO.ui.ApexTheme.parent.call(this)},OO.inheritClass(OO.ui.ApexTheme,OO.ui.Theme),OO.ui.theme=new OO.ui.ApexTheme,function(){function a(a){return"\\u"+(a+65536).toString(16).slice(-4)}function b(b,c,d){var e;return b===c?a(b):(e=a(b)+"-"+a(c),d?"["+e+"]":e)}function c(a,b){var c,d,e,f,g,h,i,j,k;return c=56320,d=57343,e=55296+(a-65536>>10),g=56320+(a-65536&1023),f=55296+(b-65536>>10),h=56320+(b-65536&1023),e===f?[{hi:[e,f],lo:[g,h]}]:(i=[],j=55296+(a-65536+1023>>10),k=55296+(b-65536-1023>>10),j>e&&i.push({hi:[e,e],lo:[g,d]}),k>=j&&i.push({hi:[j,k],lo:[c,d]}),f>k&&i.push({hi:[f,f],lo:[c,h]}),i)}var d;d={},d.splitCharacters=function(a){return a.split(/(?![\uDC00-\uDFFF])/g)},d.charRangeArrayRegexp=function(d){var e,f,g,h,i,j,k,l,m=[],n=[],o=[];for(e=0;e<d.length;e++)if(k=d[e],"number"==typeof k&&65535>=k){if(k>=55296&&57343>=k)throw new Error("Surrogate: "+k.toString(16));if(k>1114111)throw new Error("Character code too high: "+k.toString(16));n.push(a(k))}else if("number"==typeof k&&k>65535)i=55296+(k-65536>>10),j=56320+(k-65536&1023),o.push(a(i)+a(j));else{if(g=k[0],h=k[1],g>h)throw new Error(g.toString(16)+" > "+h.toString(16));if(h>1114111)throw new Error("Character code too high: "+h.toString(16));if(h>=55296&&57343>=g)throw new Error("range includes surrogates: "+g.toString(16)+"-"+h.toString(16));for(65535>=h?n.push(b(g,h)):65535>=g&&h>65535?(n.push(b(g,65535)),m=c(65536,h)):g>65535&&(m=c(g,h)),f=0;f<m.length;f++)l=m[f],i=b(l.hi[0],l.hi[1],!0),j=b(l.lo[0],l.lo[1],!0),o.push(i+j)}return 1!==n.length||n[0].match(/-/)?n.length>0&&o.unshift("["+n.join("")+"]"):o.unshift(n[0]),o.join("|")},window.unicodeJS=d}(),unicodeJS.derivedcoreproperties={Alphabetic:[[65,90],[97,122],170,181,186,[192,214],[216,246],[248,705],[710,721],[736,740],748,750,837,[880,884],886,887,[890,893],895,902,[904,906],908,[910,929],[931,1013],[1015,1153],[1162,1327],[1329,1366],1369,[1377,1415],[1456,1469],1471,1473,1474,1476,1477,1479,[1488,1514],[1520,1522],[1552,1562],[1568,1623],[1625,1631],[1646,1747],[1749,1756],[1761,1768],[1773,1775],[1786,1788],1791,[1808,1855],[1869,1969],[1994,2026],2036,2037,2042,[2048,2071],[2074,2092],[2112,2136],[2208,2226],[2276,2281],[2288,2363],[2365,2380],[2382,2384],[2389,2403],[2417,2435],[2437,2444],2447,2448,[2451,2472],[2474,2480],2482,[2486,2489],[2493,2500],2503,2504,2507,2508,2510,2519,2524,2525,[2527,2531],2544,2545,[2561,2563],[2565,2570],2575,2576,[2579,2600],[2602,2608],2610,2611,2613,2614,2616,2617,[2622,2626],2631,2632,2635,2636,2641,[2649,2652],2654,[2672,2677],[2689,2691],[2693,2701],[2703,2705],[2707,2728],[2730,2736],2738,2739,[2741,2745],[2749,2757],[2759,2761],2763,2764,2768,[2784,2787],[2817,2819],[2821,2828],2831,2832,[2835,2856],[2858,2864],2866,2867,[2869,2873],[2877,2884],2887,2888,2891,2892,2902,2903,2908,2909,[2911,2915],2929,2946,2947,[2949,2954],[2958,2960],[2962,2965],2969,2970,2972,2974,2975,2979,2980,[2984,2986],[2990,3001],[3006,3010],[3014,3016],[3018,3020],3024,3031,[3072,3075],[3077,3084],[3086,3088],[3090,3112],[3114,3129],[3133,3140],[3142,3144],[3146,3148],3157,3158,3160,3161,[3168,3171],[3201,3203],[3205,3212],[3214,3216],[3218,3240],[3242,3251],[3253,3257],[3261,3268],[3270,3272],[3274,3276],3285,3286,3294,[3296,3299],3313,3314,[3329,3331],[3333,3340],[3342,3344],[3346,3386],[3389,3396],[3398,3400],[3402,3404],3406,3415,[3424,3427],[3450,3455],3458,3459,[3461,3478],[3482,3505],[3507,3515],3517,[3520,3526],[3535,3540],3542,[3544,3551],3570,3571,[3585,3642],[3648,3654],3661,3713,3714,3716,3719,3720,3722,3725,[3732,3735],[3737,3743],[3745,3747],3749,3751,3754,3755,[3757,3769],[3771,3773],[3776,3780],3782,3789,[3804,3807],3840,[3904,3911],[3913,3948],[3953,3969],[3976,3991],[3993,4028],[4096,4150],4152,[4155,4159],[4176,4194],[4197,4200],[4206,4230],4238,4252,4253,[4256,4293],4295,4301,[4304,4346],[4348,4680],[4682,4685],[4688,4694],4696,[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],4800,[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],4959,[4992,5007],[5024,5108],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5870,5880],[5888,5900],[5902,5907],[5920,5939],[5952,5971],[5984,5996],[5998,6e3],6002,6003,[6016,6067],[6070,6088],6103,6108,[6176,6263],[6272,6314],[6320,6389],[6400,6430],[6432,6443],[6448,6456],[6480,6509],[6512,6516],[6528,6571],[6576,6601],[6656,6683],[6688,6750],[6753,6772],6823,[6912,6963],[6965,6979],[6981,6987],[7040,7081],[7084,7087],[7098,7141],[7143,7153],[7168,7221],[7245,7247],[7258,7293],[7401,7404],[7406,7411],7413,7414,[7424,7615],[7655,7668],[7680,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8124],8126,[8130,8132],[8134,8140],[8144,8147],[8150,8155],[8160,8172],[8178,8180],[8182,8188],8305,8319,[8336,8348],8450,8455,[8458,8467],8469,[8473,8477],8484,8486,8488,[8490,8493],[8495,8505],[8508,8511],[8517,8521],8526,[8544,8584],[9398,9449],[11264,11310],[11312,11358],[11360,11492],[11499,11502],11506,11507,[11520,11557],11559,11565,[11568,11623],11631,[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],[11744,11775],11823,[12293,12295],[12321,12329],[12337,12341],[12344,12348],[12353,12438],[12445,12447],[12449,12538],[12540,12543],[12549,12589],[12593,12686],[12704,12730],[12784,12799],[13312,19893],[19968,40908],[40960,42124],[42192,42237],[42240,42508],[42512,42527],42538,42539,[42560,42606],[42612,42619],[42623,42653],[42655,42735],[42775,42783],[42786,42888],[42891,42894],[42896,42925],42928,42929,[42999,43009],[43011,43013],[43015,43018],[43020,43047],[43072,43123],[43136,43203],[43250,43255],43259,[43274,43306],[43312,43346],[43360,43388],[43392,43442],[43444,43455],43471,[43488,43492],[43494,43503],[43514,43518],[43520,43574],[43584,43597],[43616,43638],43642,[43646,43710],43712,43714,[43739,43741],[43744,43759],[43762,43765],[43777,43782],[43785,43790],[43793,43798],[43808,43814],[43816,43822],[43824,43866],[43868,43871],43876,43877,[43968,44010],[44032,55203],[55216,55238],[55243,55291],[63744,64109],[64112,64217],[64256,64262],[64275,64279],[64285,64296],[64298,64310],[64312,64316],64318,64320,64321,64323,64324,[64326,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140],[65142,65276],[65313,65338],[65345,65370],[65382,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500],[65536,65547],[65549,65574],[65576,65594],65596,65597,[65599,65613],[65616,65629],[65664,65786],[65856,65908],[66176,66204],[66208,66256],[66304,66335],[66352,66378],[66384,66426],[66432,66461],[66464,66499],[66504,66511],[66513,66517],[66560,66717],[66816,66855],[66864,66915],[67072,67382],[67392,67413],[67424,67431],[67584,67589],67592,[67594,67637],67639,67640,67644,[67647,67669],[67680,67702],[67712,67742],[67840,67861],[67872,67897],[67968,68023],68030,68031,[68096,68099],68101,68102,[68108,68115],[68117,68119],[68121,68147],[68192,68220],[68224,68252],[68288,68295],[68297,68324],[68352,68405],[68416,68437],[68448,68466],[68480,68497],[68608,68680],[69632,69701],[69762,69816],[69840,69864],[69888,69938],[69968,70002],70006,[70016,70079],[70081,70084],70106,[70144,70161],[70163,70196],70199,[70320,70376],[70401,70403],[70405,70412],70415,70416,[70419,70440],[70442,70448],70450,70451,[70453,70457],[70461,70468],70471,70472,70475,70476,70487,[70493,70499],[70784,70849],70852,70853,70855,[71040,71093],[71096,71102],[71168,71230],71232,71236,[71296,71349],[71840,71903],71935,[72384,72440],[73728,74648],[74752,74862],[77824,78894],[92160,92728],[92736,92766],[92880,92909],[92928,92982],[92992,92995],[93027,93047],[93053,93071],[93952,94020],[94032,94078],[94099,94111],110592,110593,[113664,113770],[113776,113788],[113792,113800],[113808,113817],113822,[119808,119892],[119894,119964],119966,119967,119970,119973,119974,[119977,119980],[119982,119993],119995,[119997,120003],[120005,120069],[120071,120074],[120077,120084],[120086,120092],[120094,120121],[120123,120126],[120128,120132],120134,[120138,120144],[120146,120485],[120488,120512],[120514,120538],[120540,120570],[120572,120596],[120598,120628],[120630,120654],[120656,120686],[120688,120712],[120714,120744],[120746,120770],[120772,120779],[124928,125124],[126464,126467],[126469,126495],126497,126498,126500,126503,[126505,126514],[126516,126519],126521,126523,126530,126535,126537,126539,[126541,126543],126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,[126567,126570],[126572,126578],[126580,126583],[126585,126588],126590,[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[127280,127305],[127312,127337],[127344,127369],[131072,173782],[173824,177972],[177984,178205],[194560,195101]]},unicodeJS.derivedgeneralcategories={M:[[768,879],[1155,1161],[1425,1469],1471,1473,1474,1476,1477,1479,[1552,1562],[1611,1631],1648,[1750,1756],[1759,1764],1767,1768,[1770,1773],1809,[1840,1866],[1958,1968],[2027,2035],[2070,2073],[2075,2083],[2085,2087],[2089,2093],[2137,2139],[2276,2307],[2362,2364],[2366,2383],[2385,2391],2402,2403,[2433,2435],2492,[2494,2500],2503,2504,[2507,2509],2519,2530,2531,[2561,2563],2620,[2622,2626],2631,2632,[2635,2637],2641,2672,2673,2677,[2689,2691],2748,[2750,2757],[2759,2761],[2763,2765],2786,2787,[2817,2819],2876,[2878,2884],2887,2888,[2891,2893],2902,2903,2914,2915,2946,[3006,3010],[3014,3016],[3018,3021],3031,[3072,3075],[3134,3140],[3142,3144],[3146,3149],3157,3158,3170,3171,[3201,3203],3260,[3262,3268],[3270,3272],[3274,3277],3285,3286,3298,3299,[3329,3331],[3390,3396],[3398,3400],[3402,3405],3415,3426,3427,3458,3459,3530,[3535,3540],3542,[3544,3551],3570,3571,3633,[3636,3642],[3655,3662],3761,[3764,3769],3771,3772,[3784,3789],3864,3865,3893,3895,3897,3902,3903,[3953,3972],3974,3975,[3981,3991],[3993,4028],4038,[4139,4158],[4182,4185],[4190,4192],[4194,4196],[4199,4205],[4209,4212],[4226,4237],4239,[4250,4253],[4957,4959],[5906,5908],[5938,5940],5970,5971,6002,6003,[6068,6099],6109,[6155,6157],6313,[6432,6443],[6448,6459],[6576,6592],6600,6601,[6679,6683],[6741,6750],[6752,6780],6783,[6832,6846],[6912,6916],[6964,6980],[7019,7027],[7040,7042],[7073,7085],[7142,7155],[7204,7223],[7376,7378],[7380,7400],7405,[7410,7412],7416,7417,[7616,7669],[7676,7679],[8400,8432],[11503,11505],11647,[11744,11775],[12330,12335],12441,12442,[42607,42610],[42612,42621],42655,42736,42737,43010,43014,43019,[43043,43047],43136,43137,[43188,43204],[43232,43249],[43302,43309],[43335,43347],[43392,43395],[43443,43456],43493,[43561,43574],43587,43596,43597,[43643,43645],43696,[43698,43700],43703,43704,43710,43711,43713,[43755,43759],43765,43766,[44003,44010],44012,44013,64286,[65024,65039],[65056,65069],66045,66272,[66422,66426],[68097,68099],68101,68102,[68108,68111],[68152,68154],68159,68325,68326,[69632,69634],[69688,69702],[69759,69762],[69808,69818],[69888,69890],[69927,69940],70003,[70016,70018],[70067,70080],[70188,70199],[70367,70378],[70401,70403],70460,[70462,70468],70471,70472,[70475,70477],70487,70498,70499,[70502,70508],[70512,70516],[70832,70851],[71087,71093],[71096,71104],[71216,71232],[71339,71351],[92912,92916],[92976,92982],[94033,94078],[94095,94098],113821,113822,[119141,119145],[119149,119154],[119163,119170],[119173,119179],[119210,119213],[119362,119364],[125136,125142],[917760,917999]],Pc:[95,8255,8256,8276,65075,65076,[65101,65103],65343]},function(){var a=[48,57],b=[8204,8205],c=unicodeJS.characterclass={};
c.patterns={word:unicodeJS.charRangeArrayRegexp([].concat(unicodeJS.derivedcoreproperties.Alphabetic,unicodeJS.derivedgeneralcategories.M,[a],unicodeJS.derivedgeneralcategories.Pc,[b]))}}(),unicodeJS.TextString=function(a){this.clusters=unicodeJS.graphemebreak.splitClusters(a)},unicodeJS.TextString.prototype.read=function(a){var b=this.clusters[a];return void 0!==b?b:null},unicodeJS.TextString.prototype.getLength=function(){return this.clusters.length},unicodeJS.TextString.prototype.substring=function(a,b){var c=new unicodeJS.TextString("");return c.clusters=this.clusters.slice(a,b),c},unicodeJS.TextString.prototype.getString=function(){return this.clusters.join("")},unicodeJS.graphemebreakproperties={CR:[13],LF:[10],Control:[[0,9],11,12,[14,31],[127,159],173,[1536,1541],1564,1757,1807,6158,8203,8206,8207,[8232,8238],[8288,8303],65279,[65520,65531],69821,[113824,113827],[119155,119162],[917504,917759],[918e3,921599]],Extend:[[768,879],[1155,1161],[1425,1469],1471,1473,1474,1476,1477,1479,[1552,1562],[1611,1631],1648,[1750,1756],[1759,1764],1767,1768,[1770,1773],1809,[1840,1866],[1958,1968],[2027,2035],[2070,2073],[2075,2083],[2085,2087],[2089,2093],[2137,2139],[2276,2306],2362,2364,[2369,2376],2381,[2385,2391],2402,2403,2433,2492,2494,[2497,2500],2509,2519,2530,2531,2561,2562,2620,2625,2626,2631,2632,[2635,2637],2641,2672,2673,2677,2689,2690,2748,[2753,2757],2759,2760,2765,2786,2787,2817,2876,2878,2879,[2881,2884],2893,2902,2903,2914,2915,2946,3006,3008,3021,3031,3072,[3134,3136],[3142,3144],[3146,3149],3157,3158,3170,3171,3201,3260,3263,3266,3270,3276,3277,3285,3286,3298,3299,3329,3390,[3393,3396],3405,3415,3426,3427,3530,3535,[3538,3540],3542,3551,3633,[3636,3642],[3655,3662],3761,[3764,3769],3771,3772,[3784,3789],3864,3865,3893,3895,3897,[3953,3966],[3968,3972],3974,3975,[3981,3991],[3993,4028],4038,[4141,4144],[4146,4151],4153,4154,4157,4158,4184,4185,[4190,4192],[4209,4212],4226,4229,4230,4237,4253,[4957,4959],[5906,5908],[5938,5940],5970,5971,6002,6003,6068,6069,[6071,6077],6086,[6089,6099],6109,[6155,6157],6313,[6432,6434],6439,6440,6450,[6457,6459],6679,6680,6683,6742,[6744,6750],6752,6754,[6757,6764],[6771,6780],6783,[6832,6846],[6912,6915],6964,[6966,6970],6972,6978,[7019,7027],7040,7041,[7074,7077],7080,7081,[7083,7085],7142,7144,7145,7149,[7151,7153],[7212,7219],7222,7223,[7376,7378],[7380,7392],[7394,7400],7405,7412,7416,7417,[7616,7669],[7676,7679],8204,8205,[8400,8432],[11503,11505],11647,[11744,11775],[12330,12335],12441,12442,[42607,42610],[42612,42621],42655,42736,42737,43010,43014,43019,43045,43046,43204,[43232,43249],[43302,43309],[43335,43345],[43392,43394],43443,[43446,43449],43452,43493,[43561,43566],43569,43570,43573,43574,43587,43596,43644,43696,[43698,43700],43703,43704,43710,43711,43713,43756,43757,43766,44005,44008,44013,64286,[65024,65039],[65056,65069],65438,65439,66045,66272,[66422,66426],[68097,68099],68101,68102,[68108,68111],[68152,68154],68159,68325,68326,69633,[69688,69702],[69759,69761],[69811,69814],69817,69818,[69888,69890],[69927,69931],[69933,69940],70003,70016,70017,[70070,70078],[70191,70193],70196,70198,70199,70367,[70371,70378],70401,70460,70462,70464,70487,[70502,70508],[70512,70516],70832,[70835,70840],70842,70845,70847,70848,70850,70851,71087,[71090,71093],71100,71101,71103,71104,[71219,71226],71229,71231,71232,71339,71341,[71344,71349],71351,[92912,92916],[92976,92982],[94095,94098],113821,113822,119141,[119143,119145],[119150,119154],[119163,119170],[119173,119179],[119210,119213],[119362,119364],[125136,125142],[917760,917999]],RegionalIndicator:[[127462,127487]],SpacingMark:[2307,2363,[2366,2368],[2377,2380],2382,2383,2434,2435,2495,2496,2503,2504,2507,2508,2563,[2622,2624],2691,[2750,2752],2761,2763,2764,2818,2819,2880,2887,2888,2891,2892,3007,3009,3010,[3014,3016],[3018,3020],[3073,3075],[3137,3140],3202,3203,3262,3264,3265,3267,3268,3271,3272,3274,3275,3330,3331,3391,3392,[3398,3400],[3402,3404],3458,3459,3536,3537,[3544,3550],3570,3571,3635,3763,3902,3903,3967,4145,4155,4156,4182,4183,4228,6070,[6078,6085],6087,6088,[6435,6438],[6441,6443],6448,6449,[6451,6456],[6581,6583],6586,6681,6682,6741,6743,[6765,6770],6916,6965,6971,[6973,6977],6979,6980,7042,7073,7078,7079,7082,7143,[7146,7148],7150,7154,7155,[7204,7211],7220,7221,7393,7410,7411,43043,43044,43047,43136,43137,[43188,43203],43346,43347,43395,43444,43445,43450,43451,[43453,43456],43567,43568,43571,43572,43597,43755,43758,43759,43765,44003,44004,44006,44007,44009,44010,44012,69632,69634,69762,[69808,69810],69815,69816,69932,70018,[70067,70069],70079,70080,[70188,70190],70194,70195,70197,[70368,70370],70402,70403,70463,[70465,70468],70471,70472,[70475,70477],70498,70499,70833,70834,70841,70843,70844,70846,70849,71088,71089,[71096,71099],71102,[71216,71218],71227,71228,71230,71340,71342,71343,71350,[94033,94078],119142,119149],L:[[4352,4447],[43360,43388]],V:[[4448,4519],[55216,55238]],T:[[4520,4607],[55243,55291]],LV:[44032,44060,44088,44116,44144,44172,44200,44228,44256,44284,44312,44340,44368,44396,44424,44452,44480,44508,44536,44564,44592,44620,44648,44676,44704,44732,44760,44788,44816,44844,44872,44900,44928,44956,44984,45012,45040,45068,45096,45124,45152,45180,45208,45236,45264,45292,45320,45348,45376,45404,45432,45460,45488,45516,45544,45572,45600,45628,45656,45684,45712,45740,45768,45796,45824,45852,45880,45908,45936,45964,45992,46020,46048,46076,46104,46132,46160,46188,46216,46244,46272,46300,46328,46356,46384,46412,46440,46468,46496,46524,46552,46580,46608,46636,46664,46692,46720,46748,46776,46804,46832,46860,46888,46916,46944,46972,47e3,47028,47056,47084,47112,47140,47168,47196,47224,47252,47280,47308,47336,47364,47392,47420,47448,47476,47504,47532,47560,47588,47616,47644,47672,47700,47728,47756,47784,47812,47840,47868,47896,47924,47952,47980,48008,48036,48064,48092,48120,48148,48176,48204,48232,48260,48288,48316,48344,48372,48400,48428,48456,48484,48512,48540,48568,48596,48624,48652,48680,48708,48736,48764,48792,48820,48848,48876,48904,48932,48960,48988,49016,49044,49072,49100,49128,49156,49184,49212,49240,49268,49296,49324,49352,49380,49408,49436,49464,49492,49520,49548,49576,49604,49632,49660,49688,49716,49744,49772,49800,49828,49856,49884,49912,49940,49968,49996,50024,50052,50080,50108,50136,50164,50192,50220,50248,50276,50304,50332,50360,50388,50416,50444,50472,50500,50528,50556,50584,50612,50640,50668,50696,50724,50752,50780,50808,50836,50864,50892,50920,50948,50976,51004,51032,51060,51088,51116,51144,51172,51200,51228,51256,51284,51312,51340,51368,51396,51424,51452,51480,51508,51536,51564,51592,51620,51648,51676,51704,51732,51760,51788,51816,51844,51872,51900,51928,51956,51984,52012,52040,52068,52096,52124,52152,52180,52208,52236,52264,52292,52320,52348,52376,52404,52432,52460,52488,52516,52544,52572,52600,52628,52656,52684,52712,52740,52768,52796,52824,52852,52880,52908,52936,52964,52992,53020,53048,53076,53104,53132,53160,53188,53216,53244,53272,53300,53328,53356,53384,53412,53440,53468,53496,53524,53552,53580,53608,53636,53664,53692,53720,53748,53776,53804,53832,53860,53888,53916,53944,53972,54e3,54028,54056,54084,54112,54140,54168,54196,54224,54252,54280,54308,54336,54364,54392,54420,54448,54476,54504,54532,54560,54588,54616,54644,54672,54700,54728,54756,54784,54812,54840,54868,54896,54924,54952,54980,55008,55036,55064,55092,55120,55148,55176],LVT:[[44033,44059],[44061,44087],[44089,44115],[44117,44143],[44145,44171],[44173,44199],[44201,44227],[44229,44255],[44257,44283],[44285,44311],[44313,44339],[44341,44367],[44369,44395],[44397,44423],[44425,44451],[44453,44479],[44481,44507],[44509,44535],[44537,44563],[44565,44591],[44593,44619],[44621,44647],[44649,44675],[44677,44703],[44705,44731],[44733,44759],[44761,44787],[44789,44815],[44817,44843],[44845,44871],[44873,44899],[44901,44927],[44929,44955],[44957,44983],[44985,45011],[45013,45039],[45041,45067],[45069,45095],[45097,45123],[45125,45151],[45153,45179],[45181,45207],[45209,45235],[45237,45263],[45265,45291],[45293,45319],[45321,45347],[45349,45375],[45377,45403],[45405,45431],[45433,45459],[45461,45487],[45489,45515],[45517,45543],[45545,45571],[45573,45599],[45601,45627],[45629,45655],[45657,45683],[45685,45711],[45713,45739],[45741,45767],[45769,45795],[45797,45823],[45825,45851],[45853,45879],[45881,45907],[45909,45935],[45937,45963],[45965,45991],[45993,46019],[46021,46047],[46049,46075],[46077,46103],[46105,46131],[46133,46159],[46161,46187],[46189,46215],[46217,46243],[46245,46271],[46273,46299],[46301,46327],[46329,46355],[46357,46383],[46385,46411],[46413,46439],[46441,46467],[46469,46495],[46497,46523],[46525,46551],[46553,46579],[46581,46607],[46609,46635],[46637,46663],[46665,46691],[46693,46719],[46721,46747],[46749,46775],[46777,46803],[46805,46831],[46833,46859],[46861,46887],[46889,46915],[46917,46943],[46945,46971],[46973,46999],[47001,47027],[47029,47055],[47057,47083],[47085,47111],[47113,47139],[47141,47167],[47169,47195],[47197,47223],[47225,47251],[47253,47279],[47281,47307],[47309,47335],[47337,47363],[47365,47391],[47393,47419],[47421,47447],[47449,47475],[47477,47503],[47505,47531],[47533,47559],[47561,47587],[47589,47615],[47617,47643],[47645,47671],[47673,47699],[47701,47727],[47729,47755],[47757,47783],[47785,47811],[47813,47839],[47841,47867],[47869,47895],[47897,47923],[47925,47951],[47953,47979],[47981,48007],[48009,48035],[48037,48063],[48065,48091],[48093,48119],[48121,48147],[48149,48175],[48177,48203],[48205,48231],[48233,48259],[48261,48287],[48289,48315],[48317,48343],[48345,48371],[48373,48399],[48401,48427],[48429,48455],[48457,48483],[48485,48511],[48513,48539],[48541,48567],[48569,48595],[48597,48623],[48625,48651],[48653,48679],[48681,48707],[48709,48735],[48737,48763],[48765,48791],[48793,48819],[48821,48847],[48849,48875],[48877,48903],[48905,48931],[48933,48959],[48961,48987],[48989,49015],[49017,49043],[49045,49071],[49073,49099],[49101,49127],[49129,49155],[49157,49183],[49185,49211],[49213,49239],[49241,49267],[49269,49295],[49297,49323],[49325,49351],[49353,49379],[49381,49407],[49409,49435],[49437,49463],[49465,49491],[49493,49519],[49521,49547],[49549,49575],[49577,49603],[49605,49631],[49633,49659],[49661,49687],[49689,49715],[49717,49743],[49745,49771],[49773,49799],[49801,49827],[49829,49855],[49857,49883],[49885,49911],[49913,49939],[49941,49967],[49969,49995],[49997,50023],[50025,50051],[50053,50079],[50081,50107],[50109,50135],[50137,50163],[50165,50191],[50193,50219],[50221,50247],[50249,50275],[50277,50303],[50305,50331],[50333,50359],[50361,50387],[50389,50415],[50417,50443],[50445,50471],[50473,50499],[50501,50527],[50529,50555],[50557,50583],[50585,50611],[50613,50639],[50641,50667],[50669,50695],[50697,50723],[50725,50751],[50753,50779],[50781,50807],[50809,50835],[50837,50863],[50865,50891],[50893,50919],[50921,50947],[50949,50975],[50977,51003],[51005,51031],[51033,51059],[51061,51087],[51089,51115],[51117,51143],[51145,51171],[51173,51199],[51201,51227],[51229,51255],[51257,51283],[51285,51311],[51313,51339],[51341,51367],[51369,51395],[51397,51423],[51425,51451],[51453,51479],[51481,51507],[51509,51535],[51537,51563],[51565,51591],[51593,51619],[51621,51647],[51649,51675],[51677,51703],[51705,51731],[51733,51759],[51761,51787],[51789,51815],[51817,51843],[51845,51871],[51873,51899],[51901,51927],[51929,51955],[51957,51983],[51985,52011],[52013,52039],[52041,52067],[52069,52095],[52097,52123],[52125,52151],[52153,52179],[52181,52207],[52209,52235],[52237,52263],[52265,52291],[52293,52319],[52321,52347],[52349,52375],[52377,52403],[52405,52431],[52433,52459],[52461,52487],[52489,52515],[52517,52543],[52545,52571],[52573,52599],[52601,52627],[52629,52655],[52657,52683],[52685,52711],[52713,52739],[52741,52767],[52769,52795],[52797,52823],[52825,52851],[52853,52879],[52881,52907],[52909,52935],[52937,52963],[52965,52991],[52993,53019],[53021,53047],[53049,53075],[53077,53103],[53105,53131],[53133,53159],[53161,53187],[53189,53215],[53217,53243],[53245,53271],[53273,53299],[53301,53327],[53329,53355],[53357,53383],[53385,53411],[53413,53439],[53441,53467],[53469,53495],[53497,53523],[53525,53551],[53553,53579],[53581,53607],[53609,53635],[53637,53663],[53665,53691],[53693,53719],[53721,53747],[53749,53775],[53777,53803],[53805,53831],[53833,53859],[53861,53887],[53889,53915],[53917,53943],[53945,53971],[53973,53999],[54001,54027],[54029,54055],[54057,54083],[54085,54111],[54113,54139],[54141,54167],[54169,54195],[54197,54223],[54225,54251],[54253,54279],[54281,54307],[54309,54335],[54337,54363],[54365,54391],[54393,54419],[54421,54447],[54449,54475],[54477,54503],[54505,54531],[54533,54559],[54561,54587],[54589,54615],[54617,54643],[54645,54671],[54673,54699],[54701,54727],[54729,54755],[54757,54783],[54785,54811],[54813,54839],[54841,54867],[54869,54895],[54897,54923],[54925,54951],[54953,54979],[54981,55007],[55009,55035],[55037,55063],[55065,55091],[55093,55119],[55121,55147],[55149,55175],[55177,55203]]},function(){var a,b,c,d=unicodeJS.graphemebreakproperties,e="[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]",f=unicodeJS.graphemebreak={},g={};for(a in d)g[a]=unicodeJS.charRangeArrayRegexp(d[a]);b=["\\r\\n",g.Control,"(?:"+g.L+")*(?:"+g.V+")+(?:"+g.T+")*","(?:"+g.L+")*(?:"+g.LV+")(?:"+g.V+")*(?:"+g.T+")*","(?:"+g.L+")*(?:"+g.LVT+")(?:"+g.T+")*","(?:"+g.L+")+","(?:"+g.T+")+","(?:"+g.RegionalIndicator+")+","(?:"+e+")(?:"+g.Extend+"|"+g.SpacingMark+")+",e],c=new RegExp("("+b.join("|")+")"),f.splitClusters=function(a){var b,d,e,f=[];for(d=a.split(c),b=0,e=d.length;e>b;b++)""!==d[b]&&f.push(d[b]);return f}}(),unicodeJS.wordbreakproperties={DoubleQuote:[34],SingleQuote:[39],HebrewLetter:[[1488,1514],[1520,1522],64285,[64287,64296],[64298,64310],[64312,64316],64318,64320,64321,64323,64324,[64326,64335]],CR:[13],LF:[10],Newline:[11,12,133,8232,8233],Extend:[[768,879],[1155,1161],[1425,1469],1471,1473,1474,1476,1477,1479,[1552,1562],[1611,1631],1648,[1750,1756],[1759,1764],1767,1768,[1770,1773],1809,[1840,1866],[1958,1968],[2027,2035],[2070,2073],[2075,2083],[2085,2087],[2089,2093],[2137,2139],[2276,2307],[2362,2364],[2366,2383],[2385,2391],2402,2403,[2433,2435],2492,[2494,2500],2503,2504,[2507,2509],2519,2530,2531,[2561,2563],2620,[2622,2626],2631,2632,[2635,2637],2641,2672,2673,2677,[2689,2691],2748,[2750,2757],[2759,2761],[2763,2765],2786,2787,[2817,2819],2876,[2878,2884],2887,2888,[2891,2893],2902,2903,2914,2915,2946,[3006,3010],[3014,3016],[3018,3021],3031,[3072,3075],[3134,3140],[3142,3144],[3146,3149],3157,3158,3170,3171,[3201,3203],3260,[3262,3268],[3270,3272],[3274,3277],3285,3286,3298,3299,[3329,3331],[3390,3396],[3398,3400],[3402,3405],3415,3426,3427,3458,3459,3530,[3535,3540],3542,[3544,3551],3570,3571,3633,[3636,3642],[3655,3662],3761,[3764,3769],3771,3772,[3784,3789],3864,3865,3893,3895,3897,3902,3903,[3953,3972],3974,3975,[3981,3991],[3993,4028],4038,[4139,4158],[4182,4185],[4190,4192],[4194,4196],[4199,4205],[4209,4212],[4226,4237],4239,[4250,4253],[4957,4959],[5906,5908],[5938,5940],5970,5971,6002,6003,[6068,6099],6109,[6155,6157],6313,[6432,6443],[6448,6459],[6576,6592],6600,6601,[6679,6683],[6741,6750],[6752,6780],6783,[6832,6846],[6912,6916],[6964,6980],[7019,7027],[7040,7042],[7073,7085],[7142,7155],[7204,7223],[7376,7378],[7380,7400],7405,[7410,7412],7416,7417,[7616,7669],[7676,7679],8204,8205,[8400,8432],[11503,11505],11647,[11744,11775],[12330,12335],12441,12442,[42607,42610],[42612,42621],42655,42736,42737,43010,43014,43019,[43043,43047],43136,43137,[43188,43204],[43232,43249],[43302,43309],[43335,43347],[43392,43395],[43443,43456],43493,[43561,43574],43587,43596,43597,[43643,43645],43696,[43698,43700],43703,43704,43710,43711,43713,[43755,43759],43765,43766,[44003,44010],44012,44013,64286,[65024,65039],[65056,65069],65438,65439,66045,66272,[66422,66426],[68097,68099],68101,68102,[68108,68111],[68152,68154],68159,68325,68326,[69632,69634],[69688,69702],[69759,69762],[69808,69818],[69888,69890],[69927,69940],70003,[70016,70018],[70067,70080],[70188,70199],[70367,70378],[70401,70403],70460,[70462,70468],70471,70472,[70475,70477],70487,70498,70499,[70502,70508],[70512,70516],[70832,70851],[71087,71093],[71096,71104],[71216,71232],[71339,71351],[92912,92916],[92976,92982],[94033,94078],[94095,94098],113821,113822,[119141,119145],[119149,119154],[119163,119170],[119173,119179],[119210,119213],[119362,119364],[125136,125142],[917760,917999]],RegionalIndicator:[[127462,127487]],Format:[173,[1536,1541],1564,1757,1807,6158,8206,8207,[8234,8238],[8288,8292],[8294,8303],65279,[65529,65531],69821,[113824,113827],[119155,119162],917505,[917536,917631]],Katakana:[[12337,12341],12443,12444,[12448,12538],[12540,12543],[12784,12799],[13008,13054],[13056,13143],[65382,65437],110592],ALetter:[[65,90],[97,122],170,181,186,[192,214],[216,246],[248,705],[710,721],[736,740],748,750,[880,884],886,887,[890,893],895,902,[904,906],908,[910,929],[931,1013],[1015,1153],[1162,1327],[1329,1366],1369,[1377,1415],1523,[1568,1610],1646,1647,[1649,1747],1749,1765,1766,1774,1775,[1786,1788],1791,1808,[1810,1839],[1869,1957],1969,[1994,2026],2036,2037,2042,[2048,2069],2074,2084,2088,[2112,2136],[2208,2226],[2308,2361],2365,2384,[2392,2401],[2417,2432],[2437,2444],2447,2448,[2451,2472],[2474,2480],2482,[2486,2489],2493,2510,2524,2525,[2527,2529],2544,2545,[2565,2570],2575,2576,[2579,2600],[2602,2608],2610,2611,2613,2614,2616,2617,[2649,2652],2654,[2674,2676],[2693,2701],[2703,2705],[2707,2728],[2730,2736],2738,2739,[2741,2745],2749,2768,2784,2785,[2821,2828],2831,2832,[2835,2856],[2858,2864],2866,2867,[2869,2873],2877,2908,2909,[2911,2913],2929,2947,[2949,2954],[2958,2960],[2962,2965],2969,2970,2972,2974,2975,2979,2980,[2984,2986],[2990,3001],3024,[3077,3084],[3086,3088],[3090,3112],[3114,3129],3133,3160,3161,3168,3169,[3205,3212],[3214,3216],[3218,3240],[3242,3251],[3253,3257],3261,3294,3296,3297,3313,3314,[3333,3340],[3342,3344],[3346,3386],3389,3406,3424,3425,[3450,3455],[3461,3478],[3482,3505],[3507,3515],3517,[3520,3526],3840,[3904,3911],[3913,3948],[3976,3980],[4256,4293],4295,4301,[4304,4346],[4348,4680],[4682,4685],[4688,4694],4696,[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],4800,[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4992,5007],[5024,5108],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5870,5880],[5888,5900],[5902,5905],[5920,5937],[5952,5969],[5984,5996],[5998,6e3],[6176,6263],[6272,6312],6314,[6320,6389],[6400,6430],[6656,6678],[6917,6963],[6981,6987],[7043,7072],7086,7087,[7098,7141],[7168,7203],[7245,7247],[7258,7293],[7401,7404],[7406,7409],7413,7414,[7424,7615],[7680,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8124],8126,[8130,8132],[8134,8140],[8144,8147],[8150,8155],[8160,8172],[8178,8180],[8182,8188],8305,8319,[8336,8348],8450,8455,[8458,8467],8469,[8473,8477],8484,8486,8488,[8490,8493],[8495,8505],[8508,8511],[8517,8521],8526,[8544,8584],[9398,9449],[11264,11310],[11312,11358],[11360,11492],[11499,11502],11506,11507,[11520,11557],11559,11565,[11568,11623],11631,[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],11823,12293,12347,12348,[12549,12589],[12593,12686],[12704,12730],[40960,42124],[42192,42237],[42240,42508],[42512,42527],42538,42539,[42560,42606],[42623,42653],[42656,42735],[42775,42783],[42786,42888],[42891,42894],[42896,42925],42928,42929,[42999,43009],[43011,43013],[43015,43018],[43020,43042],[43072,43123],[43138,43187],[43250,43255],43259,[43274,43301],[43312,43334],[43360,43388],[43396,43442],43471,[43520,43560],[43584,43586],[43588,43595],[43744,43754],[43762,43764],[43777,43782],[43785,43790],[43793,43798],[43808,43814],[43816,43822],[43824,43866],[43868,43871],43876,43877,[43968,44002],[44032,55203],[55216,55238],[55243,55291],[64256,64262],[64275,64279],[64336,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140],[65142,65276],[65313,65338],[65345,65370],[65440,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500],[65536,65547],[65549,65574],[65576,65594],65596,65597,[65599,65613],[65616,65629],[65664,65786],[65856,65908],[66176,66204],[66208,66256],[66304,66335],[66352,66378],[66384,66421],[66432,66461],[66464,66499],[66504,66511],[66513,66517],[66560,66717],[66816,66855],[66864,66915],[67072,67382],[67392,67413],[67424,67431],[67584,67589],67592,[67594,67637],67639,67640,67644,[67647,67669],[67680,67702],[67712,67742],[67840,67861],[67872,67897],[67968,68023],68030,68031,68096,[68112,68115],[68117,68119],[68121,68147],[68192,68220],[68224,68252],[68288,68295],[68297,68324],[68352,68405],[68416,68437],[68448,68466],[68480,68497],[68608,68680],[69635,69687],[69763,69807],[69840,69864],[69891,69926],[69968,70002],70006,[70019,70066],[70081,70084],70106,[70144,70161],[70163,70187],[70320,70366],[70405,70412],70415,70416,[70419,70440],[70442,70448],70450,70451,[70453,70457],70461,[70493,70497],[70784,70831],70852,70853,70855,[71040,71086],[71168,71215],71236,[71296,71338],[71840,71903],71935,[72384,72440],[73728,74648],[74752,74862],[77824,78894],[92160,92728],[92736,92766],[92880,92909],[92928,92975],[92992,92995],[93027,93047],[93053,93071],[93952,94020],94032,[94099,94111],[113664,113770],[113776,113788],[113792,113800],[113808,113817],[119808,119892],[119894,119964],119966,119967,119970,119973,119974,[119977,119980],[119982,119993],119995,[119997,120003],[120005,120069],[120071,120074],[120077,120084],[120086,120092],[120094,120121],[120123,120126],[120128,120132],120134,[120138,120144],[120146,120485],[120488,120512],[120514,120538],[120540,120570],[120572,120596],[120598,120628],[120630,120654],[120656,120686],[120688,120712],[120714,120744],[120746,120770],[120772,120779],[124928,125124],[126464,126467],[126469,126495],126497,126498,126500,126503,[126505,126514],[126516,126519],126521,126523,126530,126535,126537,126539,[126541,126543],126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,[126567,126570],[126572,126578],[126580,126583],[126585,126588],126590,[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[127280,127305],[127312,127337],[127344,127369]],MidLetter:[58,183,727,903,1524,8231,65043,65109,65306],MidNum:[44,59,894,1417,1548,1549,1644,2040,8260,65040,65044,65104,65108,65292,65307],MidNumLet:[46,8216,8217,8228,65106,65287,65294],Numeric:[[48,57],[1632,1641],1643,[1776,1785],[1984,1993],[2406,2415],[2534,2543],[2662,2671],[2790,2799],[2918,2927],[3046,3055],[3174,3183],[3302,3311],[3430,3439],[3558,3567],[3664,3673],[3792,3801],[3872,3881],[4160,4169],[4240,4249],[6112,6121],[6160,6169],[6470,6479],[6608,6617],[6784,6793],[6800,6809],[6992,7001],[7088,7097],[7232,7241],[7248,7257],[42528,42537],[43216,43225],[43264,43273],[43472,43481],[43504,43513],[43600,43609],[44016,44025],[66720,66729],[69734,69743],[69872,69881],[69942,69951],[70096,70105],[70384,70393],[70864,70873],[71248,71257],[71360,71369],[71904,71913],[92768,92777],[93008,93017],[120782,120831]],ExtendNumLet:[95,8255,8256,8276,65075,65076,[65101,65103],65343]},function(){function a(a){var b,c;if("string"!=typeof a)return null;b=unicodeJS.splitCharacters(a)[0];for(c in e)if(e[c].test(b))return c;return null}var b,c=unicodeJS.wordbreakproperties,d=unicodeJS.wordbreak={},e={};for(b in c)e[b]=new RegExp(unicodeJS.charRangeArrayRegexp(c[b]));d.nextBreakOffset=function(a,b,c){return d.moveBreakOffset(1,a,b,c)},d.prevBreakOffset=function(a,b,c){return d.moveBreakOffset(-1,a,b,c)},d.moveBreakOffset=function(b,c,d,e){for(var f,g=d,h=b>0?0:-1;null!==c.read(g+h);)if(g+=b,unicodeJS.wordbreak.isBreak(c,g)){if(e&&(f=a(c.read(g-b+h)),"ALetter"!==f&&"Numeric"!==f&&"Katakana"!==f&&"HebrewLetter"!==f))continue;break}return g},d.isBreak=function(b,c){if(null===b.read(c-1)||null===b.read(c))return!0;if(b.read(c-1).match(/[\uD800-\uDBFF]/)&&b.read(c).match(/[\uDC00-\uDFFF]/))return!1;var d=[],e=[],f=0,g=0;switch(e.push(a(b.read(c+g))),d.push(a(b.read(c-f-1))),!0){case"CR"===d[0]&&"LF"===e[0]:return!1;case"Newline"===d[0]||"CR"===d[0]||"LF"===d[0]:case"Newline"===e[0]||"CR"===e[0]||"LF"===e[0]:return!0}if("Extend"===e[0]||"Format"===e[0])return!1;for(;"Extend"===d[0]||"Format"===d[0];){if(f++,0>=c-f-1)return!0;d[d.length-1]=a(b.read(c-f-1))}if(!("ALetter"!==d[0]&&"HebrewLetter"!==d[0]||"ALetter"!==e[0]&&"HebrewLetter"!==e[0]))return!1;switch(f++,g++,e.push(a(b.read(c+g))),d.push(a(b.read(c-f-1))),!0){case!("ALetter"!==d[0]&&"HebrewLetter"!==d[0]||"ALetter"!==e[1]&&"HebrewLetter"!==e[1]||"MidLetter"!==e[0]&&"MidNumLet"!==e[0]&&"SingleQuote"!==e[0]):case!("ALetter"!==e[0]&&"HebrewLetter"!==e[0]||"ALetter"!==d[1]&&"HebrewLetter"!==d[1]||"MidLetter"!==d[0]&&"MidNumLet"!==d[0]&&"SingleQuote"!==d[0]):case"HebrewLetter"===d[0]&&"SingleQuote"===e[0]:case"HebrewLetter"===d[0]&&"DoubleQuote"===e[0]&&"HebrewLetter"===e[1]:case"HebrewLetter"===d[1]&&"DoubleQuote"===d[0]&&"HebrewLetter"===e[0]:case"Numeric"===d[0]&&"Numeric"===e[0]:case("ALetter"===d[0]||"HebrewLetter"===d[0])&&"Numeric"===e[0]:case"Numeric"===d[0]&&("ALetter"===e[0]||"HebrewLetter"===e[0]):return!1;case"Numeric"===e[0]&&"Numeric"===d[1]&&("MidNum"===d[0]||"MidNumLet"===d[0]||"SingleQuote"===d[0]):case"Numeric"===d[0]&&"Numeric"===e[1]&&("MidNum"===e[0]||"MidNumLet"===e[0]||"SingleQuote"===e[0]):return!1;case"Katakana"===d[0]&&"Katakana"===e[0]:return!1;case"ExtendNumLet"===e[0]&&("ALetter"===d[0]||"HebrewLetter"===d[0]||"Numeric"===d[0]||"Katakana"===d[0]||"ExtendNumLet"===d[0]):case"ExtendNumLet"===d[0]&&("ALetter"===e[0]||"HebrewLetter"===e[0]||"Numeric"===e[0]||"Katakana"===e[0]):return!1;case"RegionalIndicator"===d[0]&&"RegionalIndicator"===e[0]:return!1}return!0}}(),function(){function a(){if(void 0===b){var a,c=document.createElement("p"),d=document.createElement("p"),e=document.createTextNode("aa"),f=document.createTextNode("aa"),g=document.createRange();b={},c.appendChild(e),d.appendChild(f),document.body.appendChild(c),document.body.appendChild(d),g.setStart(e,1),g.setEnd(f,1),b.getClientRects=b.getBoundingClientRect=g.getClientRects().length>2,b.getBoundingClientRect||(g.setEnd(e,1),a=g.getBoundingClientRect(),b.getBoundingClientRect=0===a.top&&0===a.left),document.body.removeChild(c),document.body.removeChild(d)}return b}var b,c={};c.getClientRects=function(b){if(!a().getClientRects)return b.getClientRects();for(var c=[],d=b.endContainer,e=b.endOffset,f=document.createRange();d!==b.commonAncestorContainer;)f.setStart(d,0),f.setEnd(d,e),Array.prototype.push.apply(c,f.getClientRects()),e=Array.prototype.indexOf.call(d.parentNode.childNodes,d),d=d.parentNode;return f=b.cloneRange(),f.setEnd(d,e),Array.prototype.push.apply(c,f.getClientRects()),c},c.getBoundingClientRect=function(b){var c,d,e,f=this.getClientRects(b),g=b.getBoundingClientRect();if(0===f.length)return null;if(!a().getBoundingClientRect)return g;if(0===g.width&&0===g.height)return f[0];for(c=0,d=f.length;d>c;c++)e?(e.left=Math.min(e.left,f[c].left),e.top=Math.min(e.top,f[c].top),e.right=Math.max(e.right,f[c].right),e.bottom=Math.max(e.bottom,f[c].bottom)):e={left:f[c].left,top:f[c].top,right:f[c].right,bottom:f[c].bottom};return e&&(e.width=e.right-e.left,e.height=e.bottom-e.top),e},window.RangeFix=c}(),window.ve={},ve.now=function(){var a=window.performance,b=a&&a.timing&&a.timing.navigationStart;return b&&"function"==typeof a.now?function(){return b+a.now()}:Date.now}(),ve.isInstanceOfAny=function(a,b){for(var c=b.length;b[--c];)if(a instanceof b[c])return!0;return!1},ve.getProp=OO.getProp,ve.setProp=OO.setProp,ve.cloneObject=OO.cloneObject,ve.getObjectValues=OO.getObjectValues,ve.compare=OO.compare,ve.copy=OO.copy,ve.debounce=OO.ui.debounce,ve.copyDomElements=function(a,b){return a.map(function(a){return b?b.importNode(a,!0):a.cloneNode(!0)})},ve.isEqualDomElements=function(a,b){var c=0,d=a.length;if(d!==b.length)return!1;for(;d>c;c++)if(!a[c].isEqualNode(b[c]))return!1;return!0},ve.compareClassLists=function(a,b){var c=function(a){return""!==a};return a=Array.isArray(a)?a:a.trim().split(/\s+/),b=Array.isArray(b)?b:b.trim().split(/\s+/),a=a.filter(c),b=b.filter(c),ve.compare(OO.unique(a).sort(),OO.unique(b).sort())},ve.isPlainObject=$.isPlainObject,ve.isEmptyObject=$.isEmptyObject,ve.indexOf=$.inArray,ve.extendObject=$.extend,ve.supportsSplice=function(){var a,b;return a=new Array(1e5),a.splice(30,0,"x"),a.splice(20,1),29!==a.indexOf("x")?!1:(a=[],b=256,a[b]="a",a.splice(b+1,0,"b"),"a"!==a[b]?!1:!0)}(),ve.batchSplice=function(a,b,c,d){var e,f,g=0,h=1024,i=c,j=[];if(e=Array.isArray(a)?ve.supportsSplice?Array.prototype.splice:function(a,b){var c,d,e,f;return c=Array.prototype.slice.call(arguments,2),d=this.slice(0,a),e=this.slice(a,a+b),f=this.slice(a+b),this.length=0,ve.batchPush(this,d),ve.batchPush(this,c),ve.batchPush(this,f),e}:a.splice,0===d.length)return e.call(a,b,c);for(;g<d.length;)f=e.apply(a,[g+b,i].concat(d.slice(g,g+h))),i>0&&(j=f),g+=h,i=0;return j},ve.insertIntoArray=function(a,b,c){ve.batchSplice(a,b,0,c)},ve.batchPush=function(a,b){for(var c,d=0,e=1024;d<b.length;)c=a.push.apply(a,b.slice(d,d+e)),d+=e;return c},ve.binarySearch=function(a,b,c){for(var d,e,f=0,g=a.length;g>f;)if(d=f+g>>1,e=b(a[d]),0>e)g=d;else{if(!(e>0))return d;f=d+1}return c?g:null},ve.log=ve.log||function(){},ve.error=ve.error||function(){},ve.dir=ve.dir||function(){},ve.selectElement=function(a){var b=OO.ui.Element["static"].getWindow(a),c=b.document.createRange(),d=b.getSelection();c.setStart(a,0),c.setEnd(a,a.childNodes.length),d.removeAllRanges(),d.addRange(c)},ve.selectEnd=function(a){if(a.focus(),void 0!==a.selectionStart)a.selectionStart=a.selectionEnd=a.value.length;else if(a.createTextRange){var b=a.createTextRange();b.collapse(!1),b.select()}},ve.msg=function(){return ve.init.platform.getMessage.apply(ve.init.platform,arguments)},ve.config=function(){return ve.init.platform.getConfig.apply(ve.init.platform,arguments)},ve.isUnattachedCombiningMark=function(a){return/^[\u0300-\u036F]+$/.test(a)},ve.getByteOffset=function(a,b){return unicodeJS.graphemebreak.splitClusters(a).slice(0,b).join("").length},ve.getClusterOffset=function(a,b){return unicodeJS.graphemebreak.splitClusters(a.slice(0,b)).length},ve.graphemeSafeSubstring=function(a,b,c,d){var e=ve.getByteOffset(a,ve.getClusterOffset(a,b)),f=ve.getByteOffset(a,ve.getClusterOffset(a,c));return e!==f||d?(e>b&&d&&(e=ve.getByteOffset(a,ve.getClusterOffset(a,b)-1)),f>c&&!d&&(f=ve.getByteOffset(a,ve.getClusterOffset(a,c)-1)),a.slice(e,f)):""},ve.escapeHtml=function(){function a(a){switch(a){case"'":return"&#039;";case'"':return"&quot;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;"}}return function(b){return b.replace(/['"<>&]/g,a)}}(),ve.getHtmlAttributes=function(a){var b,c,d=[];if(!ve.isPlainObject(a)||ve.isEmptyObject(a))return"";for(b in a){if(c=a[b],c===!0)c=b;else if(c===!1)continue;d.push(b+'="'+ve.escapeHtml(String(c))+'"')}return d.join(" ")},ve.getOpeningHtmlTag=function(a,b){var c=ve.getHtmlAttributes(b);return"<"+a+(c?" "+c:"")+">"},ve.getDomAttributes=function(a){var b,c={};for(b=0;b<a.attributes.length;b++)c[a.attributes[b].name]=a.attributes[b].value;return c},ve.setDomAttributes=function(a,b,c){var d;if(a.setAttribute&&a.removeAttribute)for(d in b)c&&-1===c.indexOf(d.toLowerCase())||(void 0===b[d]||null===b[d]?a.removeAttribute(d):a.setAttribute(d,b[d]))},ve.getDomElementSummary=function(a,b){var c,d={type:a.nodeName.toLowerCase(),text:a.textContent,attributes:{},children:[]};if(b&&a.nodeType===Node.ELEMENT_NODE&&(d.html=a.outerHTML),a.attributes)for(c=0;c<a.attributes.length;c++)d.attributes[a.attributes[c].name]=a.attributes[c].value;if(a.childNodes)for(c=0;c<a.childNodes.length;c++)d.children.push(ve.getDomElementSummary(a.childNodes[c],b));return d},ve.convertDomElements=function(a){return a&&a.nodeType?ve.getDomElementSummary(a):a},ve.isBlockElement=function(a){var b="string"==typeof a?a:a.nodeName;return-1!==ve.elementTypes.block.indexOf(b.toLowerCase())},ve.isVoidElement=function(a){var b="string"==typeof a?a:a.nodeName;return-1!==ve.elementTypes["void"].indexOf(b.toLowerCase())},ve.elementTypes={block:["div","p","table","tbody","thead","tfoot","caption","th","tr","td","ul","ol","li","dl","dt","dd","h1","h2","h3","h4","h5","h6","hgroup","article","aside","body","nav","section","footer","header","figure","figcaption","fieldset","details","blockquote","hr","button","canvas","center","col","colgroup","embed","map","object","pre","progress","video"],"void":["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]},ve.createDocumentFromHtml=function(a){var b;
return(b=ve.createDocumentFromHtmlUsingDomParser(a))?b:(b=ve.createDocumentFromHtmlUsingIframe(a),b?b:ve.createDocumentFromHtmlUsingInnerHtml(a))},ve.createDocumentFromHtmlUsingDomParser=function(a){a=a||"<body></body>";try{var b=(new DOMParser).parseFromString(a,"text/html");if(b)return b}catch(c){}},ve.createDocumentFromHtmlUsingIframe=function(a){var b,c,d;return a=a||"<body></body>",c=$('<iframe frameborder="0" width="0" height="0" />'),d=c.get(0),document.documentElement.appendChild(d),b=d.contentWindow&&d.contentWindow.document||d.contentDocument,b.open(),b.write(a),b.close(),d.parentNode.removeChild(d),b.documentElement&&void 0!==b.documentElement.cloneNode(!1)?b:void 0},ve.createDocumentFromHtmlUsingInnerHtml=function(a){var b,c,d,e,f=document.implementation.createHTMLDocument("");if(a=a||"<body></body>",f.documentElement.innerHTML=a.replace(/^\s*(?:<!doctype[^>]*>)?\s*<html[^>]*>/i,"").replace(/<\/html>\s*$/i,""),c=a.match(/<html([^>]*>)/i),c&&c[1])for(d=document.createElement("div"),d.innerHTML="<div "+c[1]+"></div>",e=d.firstChild.attributes,b=0;b<e.length;b++)f.documentElement.setAttribute(e[b].name,e[b].value);return f},ve.resolveUrl=function(a,b){var c=b.createElement("a");return c.setAttribute("href",a),c.href||a},ve.resolveAttributes=function(a,b,c){function d(){var a=b.createElement(this.nodeName);a.setAttribute(g,this.getAttribute(g)),a[g]&&this.setAttribute(g,a[g])}var e,f,g;for(e=0,f=c.length;f>e;e++)g=c[e],a.find("["+g+"]").each(d),a.filter("["+g+"]").each(d)},ve.fixBase=function(a,b,c){var d=a.getElementsByTagName("base")[0];d?a.baseURI||(d.setAttribute("href",ve.resolveUrl(d.getAttribute("href"),b)),!a.baseURI&&c&&d.setAttribute("href",c)):c&&(d=a.createElement("base"),d.setAttribute("href",c),a.head.appendChild(d))},ve.isUriComponentValid=function(a){try{decodeURIComponent(a)}catch(b){return!1}return!0},ve.safeDecodeURIComponent=function(a){try{a=decodeURIComponent(a)}catch(b){}return a},ve.properInnerHtml=function(a){return ve.fixupPreBug(a).innerHTML},ve.properOuterHtml=function(a){return ve.fixupPreBug(a).outerHTML},ve.fixupPreBug=function(a){var b,c;return void 0===ve.isPreInnerHtmlBroken&&(b=document.createElement("div"),b.innerHTML="<pre>\n\n</pre>",ve.isPreInnerHtmlBroken="<pre>\n</pre>"===b.innerHTML),ve.isPreInnerHtmlBroken?(c=$(a).clone(),c.find("pre, textarea, listing").each(function(){var a;this.firstChild&&this.firstChild.nodeType===Node.TEXT_NODE&&(a=this.firstChild.data.match(/^(\r\n|\r|\n)/),a&&a[1]&&this.firstChild.insertData(0,a[1]))}),c.get(0)):a},ve.normalizeAttributeValue=function(a,b,c){var d=document.createElement(c||"div");return d.setAttribute(a,b),d.getAttribute(a)||""},ve.transformStyleAttributes=function(a,b){var c,d,e,f,g,h=["style","bgcolor","color","width","height","rowspan","colspan"];for(c=(new DOMParser).parseFromString(a,"text/xml"),f=0,g=h.length;g>f;f++)d=b?"data-ve-"+h[f]:h[f],e=b?h[f]:"data-ve-"+h[f],$(c).find("["+d+"]").each(function(){var a,c,f=this.getAttribute(d);b&&(this.removeAttribute(d),c=ve.normalizeAttributeValue(e,f,this.nodeName),a=this.getAttribute(e)||"",a!==c)||this.setAttribute(e,f)});return $(c).find(":empty:not("+ve.elementTypes["void"].join(",")+")").each(function(){this.appendChild(c.createTextNode(""))}),(new XMLSerializer).serializeToString(c)},ve.parseXhtml=function(a){return void 0===ve.isStyleAttributeBroken&&(ve.isStyleAttributeBroken="color:#ffd"!==ve.normalizeAttributeValue("style","color:#ffd")),ve.isStyleAttributeBroken&&(a=ve.transformStyleAttributes(a,!1)),ve.createDocumentFromHtml(a)},ve.serializeXhtml=function(a){var b;return void 0===ve.isStyleAttributeBroken&&(ve.isStyleAttributeBroken="color:#ffd"!==ve.normalizeAttributeValue("style","color:#ffd")),ve.isStyleAttributeBroken?(b=(new XMLSerializer).serializeToString(ve.fixupPreBug(a.documentElement)),b=b.replace('<html xmlns="http://www.w3.org/1999/xhtml"',"<html"),ve.transformStyleAttributes(b,!0)):ve.properOuterHtml(a.documentElement)},ve.normalizeNode=function(a){var b,c,d;if(void 0===ve.isNormalizeBroken&&(b=document.createElement("p"),b.appendChild(document.createTextNode("Foo")),b.appendChild(document.createTextNode("Bar")),b.appendChild(document.createTextNode("")),b.normalize(),ve.isNormalizeBroken=1!==b.childNodes.length),ve.isNormalizeBroken)for(c=a.ownerDocument.createNodeIterator(a,NodeFilter.SHOW_TEXT,function(){return NodeFilter.FILTER_ACCEPT},!1);d=c.nextNode();)if(""!==d.data)for(;d.nextSibling&&d.nextSibling.nodeType===Node.TEXT_NODE;)d.appendData(d.nextSibling.data),d.parentNode.removeChild(d.nextSibling);else d.parentNode.removeChild(d);else a.normalize()},ve.translateRect=function(a,b,c){var d={};return void 0!==a.top&&(d.top=a.top+c),void 0!==a.bottom&&(d.bottom=a.bottom+c),void 0!==a.left&&(d.left=a.left+b),void 0!==a.right&&(d.right=a.right+b),void 0!==a.width&&(d.width=a.width),void 0!==a.height&&(d.height=a.height),d},ve.getStartAndEndRects=function(a){var b,c,d,e;if(!a||!a.length)return null;for(b=0,c=a.length;c>b;b++)!d||a[b].top<d.top?d=ve.extendObject({},a[b]):a[b].top===d.top&&(d.left=Math.min(d.left,a[b].left),d.right=Math.max(d.right,a[b].right),d.width=d.right-d.left),!e||a[b].bottom>e.bottom?e=ve.extendObject({},a[b]):a[b].bottom===e.bottom&&(e.left=Math.min(e.left,a[b].left),e.right=Math.max(e.right,a[b].right),e.width=d.right-d.left);return{start:d,end:e}},ve.getCommonAncestor=function(){var a,b,c,d,e,f=null,g=[],h=Array.prototype.slice.call(arguments);if(c=h.length,0===c)throw new Error("Need at least one node");for(a=0;c>a;a++){for(d=[],e=h[a];null!==e;)d.unshift(e),e=e.parentNode;if(0===d.length)return null;if(a>0&&d[0]!==g[g.length-1][0])return null;(null===f||f>d.length)&&(f=d.length),g.push(d)}for(a=1;f>a;a++)for(e=g[0][a],b=1;c>b;b++)if(e!==g[b][a])return g[0][a-1];return g[0][f-1]},ve.getOffsetPath=function(a,b,c){for(var d=[c];b!==a;){if(null===b.parentNode)throw ve.log(b,"is not a descendant of",a),new Error("Not a descendant");d.unshift(Array.prototype.indexOf.call(b.parentNode.childNodes,b)),b=b.parentNode}return d},ve.compareTuples=function(a,b){var c,d;for(c=0,d=Math.min(a.length,b.length);d>c;c++)if(a[c]!==b[c])return a[c]-b[c];return a.length>b.length?1/0:a.length<b.length?-1/0:0},ve.compareDocumentOrder=function(a,b,c,d){var e=ve.getCommonAncestor(a,c);if(null===e)throw new Error("No common ancestor");return ve.compareTuples(ve.getOffsetPath(e,a,b),ve.getOffsetPath(e,c,d))},ve.getSystemPlatform=function(){return(ve.init.platform&&ve.init.platform.constructor||ve.init.Platform)["static"].getSystemPlatform()},ve.highlightQuery=function(a,b){var c=$("<span>"),d=a.toLowerCase().indexOf(b.toLowerCase());return b.length&&-1!==d?(c.append(document.createTextNode(a.slice(0,d)),$("<span>").addClass("ve-ui-query-highlight").text(a.slice(d,d+b.length)),document.createTextNode(a.slice(d+b.length))),c.contents()):c.text(a)},ve.TriggerListener=function(a){this.commands=[],this.commandsByTrigger={},this.triggers={},this.setupCommands(a)},OO.initClass(ve.TriggerListener),ve.TriggerListener.prototype.setupCommands=function(a){var b,c,d,e;if(this.commands=a,a.length)for(b=this.commands.length-1;b>=0;b--)if(d=this.commands[b],e=ve.ui.triggerRegistry.lookup(d)){for(c=e.length-1;c>=0;c--)this.commandsByTrigger[e[c].toString()]=ve.ui.commandRegistry.lookup(d);this.triggers[d]=e}},ve.TriggerListener.prototype.getCommands=function(){return this.commands},ve.TriggerListener.prototype.getCommandByTrigger=function(a){return this.commandsByTrigger[a]},ve.TriggerListener.prototype.getTriggers=function(a){return this.triggers[a]},function(){var a=$.Callbacks("memory"),b=[];ve.track=function(c,d){b.push({topic:c,timeStamp:ve.now(),data:d}),a.fire(b)},ve.trackSubscribe=function(b,c){var d=0;a.add(function(a){for(var e;d<a.length;d++)e=a[d],0===e.topic.indexOf(b)&&c(e.topic,e.data,e.timeStamp)})},ve.trackSubscribeAll=function(a){ve.trackSubscribe("",a)}}(),ve.init={},ve.init.Platform=function(){OO.EventEmitter.call(this),ve.init.platform=this,OO.ui.getUserLanguages=this.getUserLanguages.bind(this),OO.ui.msg=this.getMessage.bind(this)},OO.mixinClass(ve.init.Platform,OO.EventEmitter),ve.init.Platform["static"].getSystemPlatform=function(){return $.client.profile().platform},ve.init.Platform["static"].isInternetExplorer=function(){return"msie"===$.client.profile().name},ve.init.Platform["static"].isIos=function(){return/ipad|iphone|ipod/i.test(navigator.userAgent)},ve.init.Platform.prototype.getExternalLinkUrlProtocolsRegExp=null,ve.init.Platform.prototype.getConfig=null,ve.init.Platform.prototype.addMessages=null,ve.init.Platform.prototype.getMessage=null,ve.init.Platform.prototype.addParsedMessages=null,ve.init.Platform.prototype.getParsedMessage=null,ve.init.Platform.prototype.getUserLanguages=null,ve.init.Platform.prototype.getMediaSources=null,ve.init.Platform.prototype.getLanguageCodes=null,ve.init.Platform.prototype.getLanguageName=null,ve.init.Platform.prototype.getLanguageAutonym=null,ve.init.Platform.prototype.getLanguageDirection=null,ve.init.Platform.prototype.initialize=function(){return $.Deferred().resolve().promise()},ve.init.Platform.prototype.getInitializedPromise=function(){return this.initialized||(this.initialized=this.initialize()),this.initialized},ve.init.Platform.prototype.fetchSpecialCharList=function(){var a={};try{a=JSON.parse(ve.msg("visualeditor-specialcharinspector-characterlist-insert"))}catch(b){ve.log("ve.init.Platform: Could not parse the Special Character list."),ve.log(b.message)}return $.Deferred().resolve(a).promise()},ve.init.Target=function(a){OO.ui.Element.call(this),OO.EventEmitter.call(this),this.surfaces=[],this.surface=null,this.toolbar=null,this.toolbarConfig=a,this.documentTriggerListener=new ve.TriggerListener(this.constructor["static"].documentCommands),this.targetTriggerListener=new ve.TriggerListener(this.constructor["static"].targetCommands),this.$element.addClass("ve-init-target"),ve.init.platform.constructor["static"].isInternetExplorer()&&this.$element.addClass("ve-init-target-ie"),this.onDocumentKeyDownHandler=this.onDocumentKeyDown.bind(this),this.onTargetKeyDownHandler=this.onTargetKeyDown.bind(this),this.bindHandlers(),ve.init.target=this},OO.inheritClass(ve.init.Target,OO.ui.Element),OO.mixinClass(ve.init.Target,OO.EventEmitter),ve.init.Target["static"].toolbarGroups=[{header:OO.ui.deferMsg("visualeditor-toolbar-history"),include:["undo","redo"]},{header:OO.ui.deferMsg("visualeditor-toolbar-paragraph-format"),type:"menu",indicator:"down",title:OO.ui.deferMsg("visualeditor-toolbar-format-tooltip"),include:[{group:"format"}],promote:["paragraph"],demote:["preformatted","blockquote"]},{header:OO.ui.deferMsg("visualeditor-toolbar-text-style"),title:OO.ui.deferMsg("visualeditor-toolbar-style-tooltip"),include:["bold","italic","moreTextStyle"]},{header:OO.ui.deferMsg("visualeditor-linkinspector-title"),include:["link"]},{header:OO.ui.deferMsg("visualeditor-toolbar-structure"),type:"list",icon:"listBullet",indicator:"down",include:[{group:"structure"}],demote:["outdent","indent"]},{header:OO.ui.deferMsg("visualeditor-toolbar-insert"),type:"list",icon:"insert",label:"",title:OO.ui.deferMsg("visualeditor-toolbar-insert"),indicator:"down",include:"*"},{header:OO.ui.deferMsg("visualeditor-toolbar-insert"),include:["specialCharacter"]},{header:OO.ui.deferMsg("visualeditor-toolbar-table"),type:"list",icon:"table",indicator:"down",include:[{group:"table"}],demote:["deleteTable"]}],ve.init.Target["static"].documentCommands=["commandHelp"],ve.init.Target["static"].targetCommands=["findAndReplace","findNext","findPrevious"],ve.init.Target["static"].excludeCommands=[],ve.init.Target["static"].importRules={external:{blacklist:["textStyle/span","textStyle/font","alienInline","alienBlock","comment"]},all:null},ve.init.Target.prototype.bindHandlers=function(){$(this.getElementDocument()).on("keydown",this.onDocumentKeyDownHandler),this.$element.on("keydown",this.onTargetKeyDownHandler)},ve.init.Target.prototype.unbindHandlers=function(){$(this.getElementDocument()).off("keydown",this.onDocumentKeyDownHandler),this.$element.off("keydown",this.onTargetKeyDownHandler)},ve.init.Target.prototype.destroy=function(){this.clearSurfaces(),this.toolbar&&(this.toolbar.destroy(),this.toolbar=null),this.$element.remove(),this.unbindHandlers(),ve.init.target=null},ve.init.Target.prototype.onDocumentKeyDown=function(a){var b,c=new ve.ui.Trigger(a);c.isComplete()&&(b=this.documentTriggerListener.getCommandByTrigger(c.toString()),b&&b.execute(this.getSurface())&&a.preventDefault())},ve.init.Target.prototype.onTargetKeyDown=function(a){var b,c=new ve.ui.Trigger(a);c.isComplete()&&(b=this.targetTriggerListener.getCommandByTrigger(c.toString()),b&&b.execute(this.getSurface())&&a.preventDefault())},ve.init.Target.prototype.createSurface=function(a,b){return b=ve.extendObject({excludeCommands:OO.simpleArrayUnion(this.constructor["static"].excludeCommands,this.constructor["static"].documentCommands,this.constructor["static"].targetCommands),importRules:this.constructor["static"].importRules},b),new ve.ui.DesktopSurface(new ve.dm.Surface(a),b)},ve.init.Target.prototype.addSurface=function(a,b){var c=this.createSurface(a,b);return this.surfaces.push(c),c.getView().connect(this,{focus:this.onSurfaceViewFocus.bind(this,c)}),c},ve.init.Target.prototype.clearSurfaces=function(){for(;this.surfaces.length;)this.surfaces.pop().destroy()},ve.init.Target.prototype.onSurfaceViewFocus=function(a){this.setSurface(a)},ve.init.Target.prototype.setSurface=function(a){a!==this.surface&&(this.surface=a,this.setupToolbar(a))},ve.init.Target.prototype.getSurface=function(){return this.surface},ve.init.Target.prototype.getToolbar=function(){return this.toolbar||(this.toolbar=new ve.ui.TargetToolbar(this,this.toolbarConfig)),this.toolbar},ve.init.Target.prototype.setupToolbar=function(a){this.getToolbar().setup(this.constructor["static"].toolbarGroups,a),this.attachToolbar(a),this.getToolbar().$bar.append(a.getToolbarDialogs().$element)},ve.init.Target.prototype.attachToolbar=function(){this.getToolbar().$element.insertBefore(this.getToolbar().getSurface().$element)},ve.Range=function(a,b){this.from=a||0,this.to=void 0===b?this.from:b,this.start=this.from<this.to?this.from:this.to,this.end=this.from<this.to?this.to:this.from},OO.initClass(ve.Range),ve.Range["static"].newFromJSON=function(a){return this.newFromHash(JSON.parse(a))},ve.Range["static"].newFromHash=function(a){return new ve.Range(a.from,a.to)},ve.Range["static"].newCoveringRange=function(a,b){var c,d,e,f;if(!a||0===a.length)throw new Error("newCoveringRange() requires at least one range");for(c=a[0].start,d=a[0].end,e=1;e<a.length;e++)a[e].start<c&&(c=a[e].start),a[e].end>d&&(d=a[e].end);return f=b?new ve.Range(d,c):new ve.Range(c,d)},ve.Range.prototype.clone=function(){return new this.constructor(this.from,this.to)},ve.Range.prototype.containsOffset=function(a){return a>=this.start&&a<this.end},ve.Range.prototype.containsRange=function(a){return a.start>=this.start&&a.end<=this.end},ve.Range.prototype.intersects=function(a){return!(a.end<this.start||a.start>this.end)},ve.Range.prototype.getLength=function(){return this.end-this.start},ve.Range.prototype.flip=function(){return new ve.Range(this.to,this.from)},ve.Range.prototype.translate=function(a){return new ve.Range(this.from+a,this.to+a)},ve.Range.prototype.equals=function(a){return a&&this.from===a.from&&this.to===a.to},ve.Range.prototype.equalsSelection=function(a){return a&&this.end===a.end&&this.start===a.start},ve.Range.prototype.truncate=function(a){return a>=0?new ve.Range(this.start,Math.min(this.start+a,this.end)):new ve.Range(Math.max(this.end+a,this.start),this.end)},ve.Range.prototype.expand=function(a){return ve.Range["static"].newCoveringRange([this,a],this.isBackwards())},ve.Range.prototype.isCollapsed=function(){return this.from===this.to},ve.Range.prototype.isBackwards=function(){return this.from>this.to},ve.Range.prototype.toJSON=function(){return{type:"range",from:this.from,to:this.to}},ve.Node=function(){this.type=this.constructor["static"].name,this.parent=null,this.root=null,this.doc=null},ve.Node.prototype.getChildNodeTypes=null,ve.Node.prototype.getParentNodeTypes=null,ve.Node.prototype.isAllowedChildNodeType=function(a){var b=this.getChildNodeTypes();return null===b||-1!==b.indexOf(a)},ve.Node.prototype.isAllowedParentNodeType=function(a){var b=this.getParentNodeTypes();return null===b||-1!==b.indexOf(a)},ve.Node.prototype.getSuggestedParentNodeTypes=null,ve.Node.prototype.canHaveChildren=null,ve.Node.prototype.canHaveChildrenNotContent=null,ve.Node.prototype.canContainContent=null,ve.Node.prototype.isContent=null,ve.Node.prototype.isWrapped=null,ve.Node.prototype.isFocusable=null,ve.Node.prototype.isAlignable=null,ve.Node.prototype.hasSignificantWhitespace=null,ve.Node.prototype.handlesOwnChildren=null,ve.Node.prototype.shouldIgnoreChildren=null,ve.Node.prototype.getLength=null,ve.Node.prototype.getOffset=null,ve.Node.prototype.getRange=function(a){var b=this.getOffset()+(this.isWrapped()?1:0),c=new ve.Range(b,b+this.getLength());return a?c.flip():c},ve.Node.prototype.getOuterRange=function(a){var b=new ve.Range(this.getOffset(),this.getOffset()+this.getOuterLength());return a?b.flip():b},ve.Node.prototype.getOuterLength=function(){return this.getLength()+(this.isWrapped()?2:0)},ve.Node.prototype.getType=function(){return this.type},ve.Node.prototype.getParent=function(){return this.parent},ve.Node.prototype.getRoot=function(){return this.root},ve.Node.prototype.setRoot=function(a){a!==this.root&&(this.root=a,this.emit(this.getRoot()?"root":"unroot"))},ve.Node.prototype.getDocument=function(){return this.doc},ve.Node.prototype.setDocument=function(a){this.doc=a},ve.Node.prototype.attach=function(a){this.parent=a,this.setRoot(a.getRoot()),this.setDocument(a.getDocument()),this.emit("attach",a)},ve.Node.prototype.detach=function(){var a=this.parent;this.parent=null,this.setRoot(null),this.setDocument(null),this.emit("detach",a)},ve.Node.prototype.traverseUpstream=function(a){for(var b=this;b;){if(a(b)===!1)return b;b=b.getParent()}return null},ve.BranchNode=function(a){this.children=Array.isArray(a)?a:[]},OO.initClass(ve.BranchNode),ve.BranchNode["static"].traverse=function(a,b){var c,d,e=a.getChildren();for(c=0,d=e.length;d>c;c++)b.call(this,e[c]),e[c]instanceof ve.ce.BranchNode&&this.traverse(e[c],b)},ve.BranchNode.prototype.hasChildren=function(){return!0},ve.BranchNode.prototype.getChildren=function(){return this.children},ve.BranchNode.prototype.indexOf=function(a){return this.children.indexOf(a)},ve.BranchNode.prototype.setRoot=function(a){if(a!==this.root){this.root=a;for(var b=0;b<this.children.length;b++)this.children[b].setRoot(a)}},ve.BranchNode.prototype.setDocument=function(a){if(a!==this.doc){this.doc=a;for(var b=0;b<this.children.length;b++)this.children[b].setDocument(a)}},ve.BranchNode.prototype.getNodeFromOffset=function(a,b){if(0===a)return this;if(this.children.length){var c,d,e,f,g=0;for(c=0,d=this.children.length;d>c;c++){if(f=this.children[c],a===g)return this;if(e=f.getOuterLength(),a>=g&&g+e>a)return!b&&f.hasChildren()&&f.getChildren().length?this.getNodeFromOffset.call(f,a-g-1):f;g+=e}if(a===g)return this}return null},ve.LeafNode=function(){},ve.LeafNode.prototype.hasChildren=function(){return!1},ve.Document=function(a){OO.EventEmitter.call(this),this.documentNode=a,this.documentNode.setDocument(this)},OO.mixinClass(ve.Document,OO.EventEmitter),ve.Document.prototype.getDocumentNode=function(){return this.documentNode},ve.Document.prototype.getBranchNodeFromOffset=function(a){var b=this.getDocumentNode().getNodeFromOffset(a);return b&&!b.hasChildren()&&(b=b.getParent()),b},ve.Document.prototype.selectNodes=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this.getDocumentNode(),t=[],u=a.start,v=a.end,w=[{node:s,index:0,startOffset:0}],x=w[0],y=!1;if(b=b||"leaves","leaves"!==b&&"branches"!==b&&"covered"!==b&&"siblings"!==b)throw new Error("Invalid mode: "+b);if(0>u||u>s.getLength())throw new Error("Invalid start offset: "+u);if(0>v||v>s.getLength())throw new Error("Invalid end offset: "+v);if(!s.children||0===s.children.length)return m=new ve.Range(0,s.getLength()),[{node:s,range:new ve.Range(u,v),index:0,nodeRange:m,nodeOuterRange:m}];f=s.children[0].isWrapped()?1:0;do{if(c=x.node.children[x.index],d=x.node.children[x.index-1],e=x.node.children[x.index+1],g=f+c.getLength(),i=u>=f&&g>=u,j=v>=f&&g>=v,o=c.isWrapped(),p=d?!d.isWrapped():!1,q=e?!e.isWrapped():!1,r=(0===c.getLength()||c.shouldIgnoreChildren())&&!c.isContent()&&!c.canContainContent(),k=(o?u===f-1:u===f)&&!p,l=(o?v===g+1:v===g)&&!q,n=new ve.Range(x.startOffset,x.startOffset+x.node.getLength()),o&&v===f-1&&0===x.index)return o=x.node.isWrapped(),t.push({node:x.node,indexInNode:0,range:new ve.Range(v,v),nodeRange:n,nodeOuterRange:new ve.Range(n.start-o,n.end+o)}),h=w[w.length-2],h&&(t[t.length-1].index=h.index),t;if(u===v&&(k||l)&&o)return o=x.node.isWrapped(),t=[{node:x.node,indexInNode:x.index+(l?1:0),range:new ve.Range(u,v),nodeRange:n,nodeOuterRange:new ve.Range(n.start-o,n.end+o)}],h=w[w.length-2],h&&(t[0].index=h.index),t;if(k){if(("leaves"===b||"covered"===b&&j||"branches"===b&&c.canHaveChildrenNotContent())&&c.children&&c.children.length&&!c.shouldIgnoreChildren()){x={node:c,index:0,startOffset:f},w.push(x),y=!0,c.children[0].isWrapped()&&f++;continue}if(j)return[{node:c,range:new ve.Range(u,v),index:x.index,nodeRange:new ve.Range(f,g),nodeOuterRange:new ve.Range(f-o,g+o),parentOuterRange:new ve.Range(n.start-x.node.isWrapped(),n.end+x.node.isWrapped())}];t.push({node:c,index:x.index,nodeRange:new ve.Range(f,g),nodeOuterRange:new ve.Range(f-o,g+o),parentOuterRange:new ve.Range(n.start-x.node.isWrapped(),n.end+x.node.isWrapped())}),y=!0}else{if(i&&j){if(c.children&&c.children.length&&("branches"!==b||c.canHaveChildrenNotContent())){x={node:c,index:0,startOffset:f},w.push(x),c.children[0].isWrapped()&&f++;continue}return t=[{node:c,range:new ve.Range(u,v),index:x.index,nodeRange:new ve.Range(f,g),nodeOuterRange:new ve.Range(f-o,g+o),parentOuterRange:new ve.Range(n.start-x.node.isWrapped(),n.end+x.node.isWrapped())}],r&&(t[0].indexInNode=0),t}if(i){if(("leaves"===b||"covered"===b||"branches"===b&&c.canHaveChildrenNotContent())&&c.children&&c.children.length){x={node:c,index:0,startOffset:f},w.push(x),c.children[0].isWrapped()&&f++;continue}t.push({node:c,range:new ve.Range(u,g),index:x.index,nodeRange:new ve.Range(f,g),nodeOuterRange:new ve.Range(f-o,g+o),parentOuterRange:new ve.Range(n.start-x.node.isWrapped(),n.end+x.node.isWrapped())}),y=!0}else{if(l){if(("leaves"===b||"branches"===b&&c.canHaveChildrenNotContent())&&c.children&&c.children.length){x={node:c,index:0,startOffset:f},w.push(x),c.children[0].isWrapped()&&f++;continue}return t.push({node:c,index:x.index,nodeRange:new ve.Range(f,g),nodeOuterRange:new ve.Range(f-o,g+o),parentOuterRange:new ve.Range(n.start-x.node.isWrapped(),n.end+x.node.isWrapped())}),t}if(j){if(("leaves"===b||"covered"===b||"branches"===b&&c.canHaveChildrenNotContent())&&c.children&&c.children.length){x={node:c,index:0,startOffset:f},w.push(x),c.children[0].isWrapped()&&f++;continue}return t.push({node:c,range:new ve.Range(f,v),index:x.index,nodeRange:new ve.Range(f,g),nodeOuterRange:new ve.Range(f-o,g+o),parentOuterRange:new ve.Range(n.start-x.node.isWrapped(),n.end+x.node.isWrapped())}),t}if(y&&v>g){if(("leaves"===b||"branches"===b&&c.canHaveChildrenNotContent())&&c.children&&c.children.length){x={node:c,index:0,startOffset:f},w.push(x),c.children[0].isWrapped()&&f++;continue}t.push({node:c,index:x.index,nodeRange:new ve.Range(f,g),nodeOuterRange:new ve.Range(f-o,g+o),parentOuterRange:new ve.Range(n.start-x.node.isWrapped(),n.end+x.node.isWrapped())})}}}if(e)x.index++,f=g+(c.isWrapped()?1:0)+(e.isWrapped()?1:0);else{for(f=g+(c.isWrapped()?1:0);!e;){if(c.isWrapped()&&u===f&&(n=new ve.Range(x.startOffset,x.startOffset+x.node.getLength()),o=x.node.isWrapped(),t=[{node:x.node,indexInNode:x.index+1,range:new ve.Range(f,f),nodeRange:n,nodeOuterRange:new ve.Range(n.start-o,n.end+o)}],h=w[w.length-2],h&&(t[0].index=h.index)),w.pop(),0===w.length)return t;x=w[w.length-1],x.index++,e=x.node.children[x.index],f++}e.isWrapped()&&f++}}while(v>=f-1);if(0===t.length)throw new Error("Failed to select any nodes");return t},ve.Document.prototype.getCoveredSiblingGroups=function(a){var b,c,d,e,f,g,h=this.selectNodes(a,"leaves"),i=[],j=0;for(b=0;b<h.length;b++)if(!(h[b].nodeOuterRange.end<=j)){if(e=h[b].node,e.isContent()&&(e=e.getParent()),f=e.getParent(),!f)break;i.push({parent:f,grandparent:f.getParent(),nodes:[]}),c=e,g=c;do{if(i[i.length-1].nodes.push(g),d=g,b++,void 0===h[b])break;g=h[b].node,g.isContent()&&(g=g.getParent())}while(g.getParent()===f);b--,j=f.getOuterRange().end}return i},ve.Document.prototype.rangeInsideOneLeafNode=function(a){var b=this.selectNodes(a,"leaves");return 1===b.length&&b[0].nodeRange.containsRange(a)&&void 0===b[0].indexInNode},ve.EventSequencer=function(a){function b(a){return function(b){return f.onEvent(a,b)}}var c,d,e,f=this;for(this.$node=null,this.eventNames=a,this.eventHandlers={},this.pendingCalls=[],this.onListenersForEvent={},this.afterListenersForEvent={},this.afterOneListenersForEvent={},c=0,d=a.length;d>c;c++)e=a[c],this.onListenersForEvent[e]=[],this.afterListenersForEvent[e]=[],this.afterOneListenersForEvent[e]=[],this.eventHandlers[e]=b(e);this.onLoopListeners=[],this.afterLoopListeners=[],this.afterLoopOneListeners=[],this.doneOnLoop=!1,this.afterLoopTimeoutId=null},ve.EventSequencer.prototype.attach=function(a){return this.detach(),this.$node=a.on(this.eventHandlers),this},ve.EventSequencer.prototype.detach=function(){return null!==this.$node?(this.runPendingCalls(),this.$node.off(this.eventHandlers),this.$node=null,this):void 0},ve.EventSequencer.prototype.onLoop=function(a){return ve.batchPush(this.onLoopListeners,a),this},ve.EventSequencer.prototype.on=function(a){var b;for(b in a)this.onListenersForEvent[b].push(a[b]);return this},ve.EventSequencer.prototype.after=function(a){var b;for(b in a)this.afterListenersForEvent[b].push(a[b]);return this},ve.EventSequencer.prototype.afterOne=function(a){var b;for(b in a)this.afterOneListenersForEvent[b].push(a[b]);return this},ve.EventSequencer.prototype.afterLoop=function(a){return Array.isArray(a)||(a=[a]),ve.batchPush(this.afterLoopListeners,a),this},ve.EventSequencer.prototype.afterLoopOne=function(a){return Array.isArray(a)||(a=[a]),ve.batchPush(this.afterLoopOneListeners,a),this},ve.EventSequencer.prototype.onEvent=function(a,b){var c,d,e,f,g,h,i;for(this.runPendingCalls(a),this.doneOnLoop||(this.doneOnLoop=!0,this.doOnLoop()),f=this.onListenersForEvent[a]||[],c=0,d=f.length;d>c;c++)e=f[c],this.callListener("on",a,c,e,b);g={id:null,ev:b,eventName:a},h=this,i=this.postpone(function(){null!==g.id&&(h.resetAfterLoopTimeout(),g.id=null,h.afterEvent(a,b))}),g.id=i,this.pendingCalls.push(g)},ve.EventSequencer.prototype.afterEvent=function(a,b){var c,d,e,f;for(e=(this.afterListenersForEvent[a]||[]).slice(),f=(this.afterOneListenersForEvent[a]||[]).slice(),(this.afterOneListenersForEvent[a]||[]).length=0,c=0,d=e.length;d>c;c++)this.callListener("after",a,c,e[c],b);for(c=0,d=f.length;d>c;c++)this.callListener("afterOne",a,c,f[c],b)},ve.EventSequencer.prototype.doOnLoop=function(){var a,b;for(a=0,b=this.onLoopListeners.length;b>a;a++)this.callListener("onLoop",null,a,this.onLoopListeners[a],null)},ve.EventSequencer.prototype.doAfterLoop=function(a){var b,c,d,e;if(this.afterLoopTimeoutId===a){for(this.afterLoopTimeoutId=null,d=this.afterLoopListeners.slice(),e=this.afterLoopOneListeners.slice(),this.afterLoopOneListeners.length=0,b=0,c=this.afterLoopListeners.length;c>b;b++)this.callListener("afterLoop",null,b,this.afterLoopListeners[b],null);for(b=0,c=this.afterLoopOneListeners.length;c>b;b++)this.callListener("afterLoopOne",null,b,this.afterLoopOneListeners[b],null)}},ve.EventSequencer.prototype.resetAfterLoopTimeout=function(){var a,b=this;null!==this.afterLoopTimeoutId&&this.cancelPostponed(this.afterLoopTimeoutId),a=this.postpone(function(){b.doAfterLoop(a)}),this.afterLoopTimeoutId=a},ve.EventSequencer.prototype.runPendingCalls=function(a){var b,c,d=[];for(b=0;b<this.pendingCalls.length;b++)c=this.pendingCalls[b],null!==c.id&&("keypress"!==a||"keydown"!==c.eventName?(this.cancelPostponed(c.id),c.id=null,this.afterEvent(c.eventName,c.ev)):d.push(c));this.pendingCalls.length=0,this.pendingCalls.push.apply(this.pendingCalls,d)},ve.EventSequencer.prototype.postpone=function(a){return setTimeout(a)},ve.EventSequencer.prototype.cancelPostponed=function(a){clearTimeout(a)},ve.EventSequencer.prototype.callListener=function(a,b,c,d,e){d(e)},ve.init.sa={},ve.init.sa.Platform=function(a){ve.init.Platform.call(this),this.externalLinkUrlProtocolsRegExp=/^https?\:\/\//,this.messagePaths=a||[],this.parsedMessages={},this.userLanguages=["en"]},OO.inheritClass(ve.init.sa.Platform,ve.init.Platform),ve.init.sa.Platform.prototype.getExternalLinkUrlProtocolsRegExp=function(){return this.externalLinkUrlProtocolsRegExp},ve.init.sa.Platform.prototype.getMessagePaths=function(){return this.messagePaths},ve.init.sa.Platform.prototype.addMessages=function(a){$.i18n().load(a,$.i18n().locale)},ve.init.sa.Platform.prototype.getMessage=$.i18n,ve.init.sa.Platform.prototype.addParsedMessages=function(a){for(var b in a)this.parsedMessages[b]=a[b]},ve.init.sa.Platform.prototype.getParsedMessage=function(a){return Object.prototype.hasOwnProperty.call(this.parsedMessages,a)?this.parsedMessages[a]:this.getMessage(a).replace(/['"<>&]/g,function(a){switch(a){case"'":return"&#039;";case'"':return"&quot;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;"}})},ve.init.sa.Platform.prototype.getLanguageCodes=function(){return Object.keys($.uls.data.getAutonyms())},ve.init.sa.Platform.prototype.getLanguageName=$.uls.data.getAutonym,ve.init.sa.Platform.prototype.getLanguageAutonym=$.uls.data.getAutonym,ve.init.sa.Platform.prototype.getLanguageDirection=$.uls.data.getDir,ve.init.sa.Platform.prototype.getUserLanguages=function(){return this.userLanguages},ve.init.sa.Platform.prototype.initialize=function(){var a,b,c,d,e,f,g,h,i=this.getMessagePaths(),j=$.i18n().locale,k=[j,"en"],l={},m=[],n=$.i18n.fallbacks[j];if(!n)for(f=j.split("-"),f.pop();f.length&&!n;)e=f.join("-"),k.push(e),n=$.i18n.fallbacks[e],f.pop();for(n&&(k=k.concat(n)),this.userLanguages=k,a=0,b=k.length;b>a;a++)if(!l[k[a]])for(l[k[a]]=!0,g=k[a].toLowerCase()+".json",c=0,d=i.length;d>c;c++)h=$.Deferred(),$.i18n().load(i[c]+g,k[a]).always(h.resolve),m.push(h.promise());return $.when.apply($,m)},ve.init.sa.Target=function(a,b){switch(b=$.extend({shadow:!0,actions:!0,floatable:!0},b),ve.init.Target.call(this,b),this.surfaceType=a||this.constructor["static"].defaultSurfaceType,this.actions=null,this.surfaceType){case"desktop":this.surfaceClass=ve.ui.DesktopSurface;break;case"mobile":this.surfaceClass=ve.ui.MobileSurface;break;default:throw new Error("Unknown surfaceType: "+this.surfaceType)}this.$element.addClass("ve-init-sa-target ve-init-sa-target-"+this.surfaceType)},OO.inheritClass(ve.init.sa.Target,ve.init.Target),ve.init.sa.Target["static"].defaultSurfaceType="desktop",ve.init.sa.Target["static"].actionGroups=[{type:"list",icon:"menu",title:OO.ui.deferMsg("visualeditor-pagemenu-tooltip"),include:["findAndReplace","commandHelp"]}],ve.init.sa.Target.prototype.addSurface=function(){var a=ve.init.sa.Target["super"].prototype.addSurface.apply(this,arguments);return this.$element.append($("<div>").addClass("ve-init-sa-target-surfaceWrapper").append(a.$element)),this.getSurface()||this.setSurface(a),a.initialize(),a},ve.init.sa.Target.prototype.createSurface=function(a,b){return b=ve.extendObject({excludeCommands:OO.simpleArrayUnion(this.constructor["static"].excludeCommands,this.constructor["static"].documentCommands,this.constructor["static"].targetCommands),importRules:this.constructor["static"].importRules},b),new this.surfaceClass(new ve.dm.Surface(a),b)},ve.init.sa.Target.prototype.setupToolbar=function(a){ve.init.sa.Target["super"].prototype.setupToolbar.call(this,a),this.getToolbar().initialized||(this.getToolbar().$element.addClass("ve-init-sa-target-toolbar"),this.actions=new ve.ui.TargetToolbar(this),this.getToolbar().$actions.append(this.actions.$element)),this.getToolbar().initialize(),this.actions.setup(this.constructor["static"].actionGroups,this.getSurface()),"mobile"===this.surfaceType&&this.getToolbar().$bar.append(a.context.$element)
};