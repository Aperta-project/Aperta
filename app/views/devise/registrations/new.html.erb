<%# Copyright (c) 2018 Public Library of Science %>

<%# Permission is hereby granted, free of charge, to any person obtaining a %>
<%# copy of this software and associated documentation files (the "Software"), %>
<%# to deal in the Software without restriction, including without limitation %>
<%# the rights to use, copy, modify, merge, publish, distribute, sublicense, %>
<%# and/or sell copies of the Software, and to permit persons to whom the %>
<%# Software is furnished to do so, subject to the following conditions: %>

<%# The above copyright notice and this permission notice shall be included in %>
<%# all copies or substantial portions of the Software. %>

<%# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR %>
<%# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, %>
<%# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL %>
<%# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER %>
<%# LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING %>
<%# FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER %>
<%# DEALINGS IN THE SOFTWARE. %>

<div class="auth-container">
  <%- if session["devise.provider"].blank? %>
    <h1>Sign up</h1>
  <% else %>
    <h1>Complete your signup!</h1>
  <% end %>

  <div class="auth-left auth-group">
    <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
      <%= devise_error_messages! %>

      <div class="auth-field auth-field--text-input">
        <%= f.label :username %><br>
        <%= f.text_field :username, autofocus: true %>
      </div>

      <div class="auth-field auth-field--text-input">
        <%= f.label :first_name %><br>
        <%= f.text_field :first_name %>
      </div>

      <div class="auth-field auth-field--text-input">
        <%= f.label :last_name %><br>
        <%= f.text_field :last_name %>
      </div>

      <div class="auth-field auth-field--text-input">
        <%= f.label :email %><br>
        <%= f.email_field :email %>
      </div>

      <%- if session["devise.provider"].blank? %>
        <div class="auth-field auth-field--text-input">
          <%= f.label :password %><br>
          <%= f.password_field :password %>
        </div>

        <div class="auth-field auth-field--text-input">
          <%= f.label :password_confirmation %><br>
          <%= f.password_field :password_confirmation %>
        </div>
      <% end %>

      <div>
        <%= f.submit "Sign up", class: "button-primary button--green auth-signin" %>
      </div>
    <% end %>
  </div>

  <div class="auth-right auth-group">
    <%= render "devise/shared/links" %>
  </div>
</div>
